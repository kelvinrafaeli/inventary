function Tx(e,r){for(var s=0;s<r.length;s++){const l=r[s];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in e)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(e,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&l(p)}).observe(document,{childList:!0,subtree:!0});function s(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=s(u);fetch(u.href,d)}})();var _e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Rx(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var s=function l(){return this instanceof l?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var u=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:function(){return e[l]}})}),s}var Nf={exports:{}},yo={},Df={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=Symbol.for("react.element"),Ox=Symbol.for("react.portal"),Fx=Symbol.for("react.fragment"),kx=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),Px=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),zx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),E1=Symbol.iterator;function Vx(e){return e===null||typeof e!="object"?null:(e=E1&&e[E1]||e["@@iterator"],typeof e=="function"?e:null)}var Bf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bf=Object.assign,Tf={};function Ji(e,r,s){this.props=e,this.context=r,this.refs=Tf,this.updater=s||Bf}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(e,r){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,r,"setState")};Ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rf(){}Rf.prototype=Ji.prototype;function ic(e,r,s){this.props=e,this.context=r,this.refs=Tf,this.updater=s||Bf}var sc=ic.prototype=new Rf;sc.constructor=ic;bf(sc,Ji.prototype);sc.isPureReactComponent=!0;var v1=Array.isArray,Of=Object.prototype.hasOwnProperty,oc={current:null},Ff={key:!0,ref:!0,__self:!0,__source:!0};function kf(e,r,s){var l,u={},d=null,p=null;if(r!=null)for(l in r.ref!==void 0&&(p=r.ref),r.key!==void 0&&(d=""+r.key),r)Of.call(r,l)&&!Ff.hasOwnProperty(l)&&(u[l]=r[l]);var m=arguments.length-2;if(m===1)u.children=s;else if(1<m){for(var w=Array(m),g=0;g<m;g++)w[g]=arguments[g+2];u.children=w}if(e&&e.defaultProps)for(l in m=e.defaultProps,m)u[l]===void 0&&(u[l]=m[l]);return{$$typeof:q0,type:e,key:d,ref:p,props:u,_owner:oc.current}}function Gx(e,r){return{$$typeof:q0,type:e.type,key:r,ref:e.ref,props:e.props,_owner:e._owner}}function ac(e){return typeof e=="object"&&e!==null&&e.$$typeof===q0}function Wx(e){var r={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return r[s]})}var A1=/\/+/g;function ra(e,r){return typeof e=="object"&&e!==null&&e.key!=null?Wx(""+e.key):r.toString(36)}function Rs(e,r,s,l,u){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(d){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case q0:case Ox:p=!0}}if(p)return p=e,u=u(p),e=l===""?"."+ra(p,0):l,v1(u)?(s="",e!=null&&(s=e.replace(A1,"$&/")+"/"),Rs(u,r,s,"",function(g){return g})):u!=null&&(ac(u)&&(u=Gx(u,s+(!u.key||p&&p.key===u.key?"":(""+u.key).replace(A1,"$&/")+"/")+e)),r.push(u)),1;if(p=0,l=l===""?".":l+":",v1(e))for(var m=0;m<e.length;m++){d=e[m];var w=l+ra(d,m);p+=Rs(d,r,s,w,u)}else if(w=Vx(e),typeof w=="function")for(e=w.call(e),m=0;!(d=e.next()).done;)d=d.value,w=l+ra(d,m++),p+=Rs(d,r,s,w,u);else if(d==="object")throw r=String(e),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return p}function xs(e,r,s){if(e==null)return e;var l=[],u=0;return Rs(e,l,"","",function(d){return r.call(s,d,u++)}),l}function Xx(e){if(e._status===-1){var r=e._result;r=r(),r.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=r)}if(e._status===1)return e._result.default;throw e._result}var Jt={current:null},Os={transition:null},Yx={ReactCurrentDispatcher:Jt,ReactCurrentBatchConfig:Os,ReactCurrentOwner:oc};function Mf(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:xs,forEach:function(e,r,s){xs(e,function(){r.apply(this,arguments)},s)},count:function(e){var r=0;return xs(e,function(){r++}),r},toArray:function(e){return xs(e,function(r){return r})||[]},only:function(e){if(!ac(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Ji;Re.Fragment=Fx;Re.Profiler=Mx;Re.PureComponent=ic;Re.StrictMode=kx;Re.Suspense=Ux;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;Re.act=Mf;Re.cloneElement=function(e,r,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=bf({},e.props),u=e.key,d=e.ref,p=e._owner;if(r!=null){if(r.ref!==void 0&&(d=r.ref,p=oc.current),r.key!==void 0&&(u=""+r.key),e.type&&e.type.defaultProps)var m=e.type.defaultProps;for(w in r)Of.call(r,w)&&!Ff.hasOwnProperty(w)&&(l[w]=r[w]===void 0&&m!==void 0?m[w]:r[w])}var w=arguments.length-2;if(w===1)l.children=s;else if(1<w){m=Array(w);for(var g=0;g<w;g++)m[g]=arguments[g+2];l.children=m}return{$$typeof:q0,type:e.type,key:u,ref:d,props:l,_owner:p}};Re.createContext=function(e){return e={$$typeof:Lx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Px,_context:e},e.Consumer=e};Re.createElement=kf;Re.createFactory=function(e){var r=kf.bind(null,e);return r.type=e,r};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:jx,render:e}};Re.isValidElement=ac;Re.lazy=function(e){return{$$typeof:Hx,_payload:{_status:-1,_result:e},_init:Xx}};Re.memo=function(e,r){return{$$typeof:zx,type:e,compare:r===void 0?null:r}};Re.startTransition=function(e){var r=Os.transition;Os.transition={};try{e()}finally{Os.transition=r}};Re.unstable_act=Mf;Re.useCallback=function(e,r){return Jt.current.useCallback(e,r)};Re.useContext=function(e){return Jt.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Jt.current.useDeferredValue(e)};Re.useEffect=function(e,r){return Jt.current.useEffect(e,r)};Re.useId=function(){return Jt.current.useId()};Re.useImperativeHandle=function(e,r,s){return Jt.current.useImperativeHandle(e,r,s)};Re.useInsertionEffect=function(e,r){return Jt.current.useInsertionEffect(e,r)};Re.useLayoutEffect=function(e,r){return Jt.current.useLayoutEffect(e,r)};Re.useMemo=function(e,r){return Jt.current.useMemo(e,r)};Re.useReducer=function(e,r,s){return Jt.current.useReducer(e,r,s)};Re.useRef=function(e){return Jt.current.useRef(e)};Re.useState=function(e){return Jt.current.useState(e)};Re.useSyncExternalStore=function(e,r,s){return Jt.current.useSyncExternalStore(e,r,s)};Re.useTransition=function(){return Jt.current.useTransition()};Re.version="18.3.1";Df.exports=Re;var Ce=Df.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=Ce,Qx=Symbol.for("react.element"),Zx=Symbol.for("react.fragment"),qx=Object.prototype.hasOwnProperty,Jx=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$x={key:!0,ref:!0,__self:!0,__source:!0};function Pf(e,r,s){var l,u={},d=null,p=null;s!==void 0&&(d=""+s),r.key!==void 0&&(d=""+r.key),r.ref!==void 0&&(p=r.ref);for(l in r)qx.call(r,l)&&!$x.hasOwnProperty(l)&&(u[l]=r[l]);if(e&&e.defaultProps)for(l in r=e.defaultProps,r)u[l]===void 0&&(u[l]=r[l]);return{$$typeof:Qx,type:e,key:d,ref:p,props:u,_owner:Jx.current}}yo.Fragment=Zx;yo.jsx=Pf;yo.jsxs=Pf;Nf.exports=yo;var A=Nf.exports,Lf={exports:{}},mr={},jf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function r(ie,de){var he=ie.length;ie.push(de);e:for(;0<he;){var $=he-1>>>1,ee=ie[$];if(0<u(ee,de))ie[$]=de,ie[he]=ee,he=$;else break e}}function s(ie){return ie.length===0?null:ie[0]}function l(ie){if(ie.length===0)return null;var de=ie[0],he=ie.pop();if(he!==de){ie[0]=he;e:for(var $=0,ee=ie.length,ne=ee>>>1;$<ne;){var te=2*($+1)-1,je=ie[te],ce=te+1,it=ie[ce];if(0>u(je,he))ce<ee&&0>u(it,je)?(ie[$]=it,ie[ce]=he,$=ce):(ie[$]=je,ie[te]=he,$=te);else if(ce<ee&&0>u(it,he))ie[$]=it,ie[ce]=he,$=ce;else break e}}return de}function u(ie,de){var he=ie.sortIndex-de.sortIndex;return he!==0?he:ie.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var p=Date,m=p.now();e.unstable_now=function(){return p.now()-m}}var w=[],g=[],E=1,N=null,S=3,B=!1,R=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(ie){for(var de=s(g);de!==null;){if(de.callback===null)l(g);else if(de.startTime<=ie)l(g),de.sortIndex=de.expirationTime,r(w,de);else break;de=s(g)}}function T(ie){if(O=!1,v(ie),!R)if(s(w)!==null)R=!0,ye(j);else{var de=s(g);de!==null&&ge(T,de.startTime-ie)}}function j(ie,de){R=!1,O&&(O=!1,D(U),U=-1),B=!0;var he=S;try{for(v(de),N=s(w);N!==null&&(!(N.expirationTime>de)||ie&&!X());){var $=N.callback;if(typeof $=="function"){N.callback=null,S=N.priorityLevel;var ee=$(N.expirationTime<=de);de=e.unstable_now(),typeof ee=="function"?N.callback=ee:N===s(w)&&l(w),v(de)}else l(w);N=s(w)}if(N!==null)var ne=!0;else{var te=s(g);te!==null&&ge(T,te.startTime-de),ne=!1}return ne}finally{N=null,S=he,B=!1}}var L=!1,F=null,U=-1,G=5,H=-1;function X(){return!(e.unstable_now()-H<G)}function Q(){if(F!==null){var ie=e.unstable_now();H=ie;var de=!0;try{de=F(!0,ie)}finally{de?J():(L=!1,F=null)}}else L=!1}var J;if(typeof C=="function")J=function(){C(Q)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,W=fe.port2;fe.port1.onmessage=Q,J=function(){W.postMessage(null)}}else J=function(){P(Q,0)};function ye(ie){F=ie,L||(L=!0,J())}function ge(ie,de){U=P(function(){ie(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){R||B||(R=!0,ye(j))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return s(w)},e.unstable_next=function(ie){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var he=S;S=de;try{return ie()}finally{S=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var he=S;S=ie;try{return de()}finally{S=he}},e.unstable_scheduleCallback=function(ie,de,he){var $=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?$+he:$):he=$,ie){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=he+ee,ie={id:E++,callback:de,priorityLevel:ie,startTime:he,expirationTime:ee,sortIndex:-1},he>$?(ie.sortIndex=he,r(g,ie),s(w)===null&&ie===s(g)&&(O?(D(U),U=-1):O=!0,ge(T,he-$))):(ie.sortIndex=ee,r(w,ie),R||B||(R=!0,ye(j))),ie},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(ie){var de=S;return function(){var he=S;S=de;try{return ie.apply(this,arguments)}finally{S=he}}}})(Uf);jf.exports=Uf;var e2=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t2=Ce,pr=e2;function oe(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zf=new Set,F0={};function ui(e,r){Gi(e,r),Gi(e+"Capture",r)}function Gi(e,r){for(F0[e]=r,e=0;e<r.length;e++)zf.add(r[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ul=Object.prototype.hasOwnProperty,r2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S1={},I1={};function n2(e){return ul.call(I1,e)?!0:ul.call(S1,e)?!1:r2.test(e)?I1[e]=!0:(S1[e]=!0,!1)}function i2(e,r,s,l){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s2(e,r,s,l){if(r===null||typeof r>"u"||i2(e,r,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $t(e,r,s,l,u,d,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=r,this.sanitizeURL=d,this.removeEmptyString=p}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];Ht[r]=new $t(r,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var lc=/[\-:]([a-z])/g;function cc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(lc,cc);Ht[r]=new $t(r,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(lc,cc);Ht[r]=new $t(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(lc,cc);Ht[r]=new $t(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function uc(e,r,s,l){var u=Ht.hasOwnProperty(r)?Ht[r]:null;(u!==null?u.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(s2(r,s,u,l)&&(s=null),l||u===null?n2(r)&&(s===null?e.removeAttribute(r):e.setAttribute(r,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(r=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(r):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,r,s):e.setAttribute(r,s))))}var pn=t2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gs=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),fc=Symbol.for("react.strict_mode"),fl=Symbol.for("react.profiler"),Hf=Symbol.for("react.provider"),Vf=Symbol.for("react.context"),dc=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),hc=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Gf=Symbol.for("react.offscreen"),_1=Symbol.iterator;function h0(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,na;function E0(e){if(na===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);na=r&&r[1]||""}return`
`+na+e}var ia=!1;function sa(e,r){if(!e||ia)return"";ia=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(g){var l=g}Reflect.construct(e,[],r)}else{try{r.call()}catch(g){l=g}e.call(r.prototype)}else{try{throw Error()}catch(g){l=g}e()}}catch(g){if(g&&l&&typeof g.stack=="string"){for(var u=g.stack.split(`
`),d=l.stack.split(`
`),p=u.length-1,m=d.length-1;1<=p&&0<=m&&u[p]!==d[m];)m--;for(;1<=p&&0<=m;p--,m--)if(u[p]!==d[m]){if(p!==1||m!==1)do if(p--,m--,0>m||u[p]!==d[m]){var w=`
`+u[p].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=p&&0<=m);break}}}finally{ia=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?E0(e):""}function o2(e){switch(e.tag){case 5:return E0(e.type);case 16:return E0("Lazy");case 13:return E0("Suspense");case 19:return E0("SuspenseList");case 0:case 2:case 15:return e=sa(e.type,!1),e;case 11:return e=sa(e.type.render,!1),e;case 1:return e=sa(e.type,!0),e;default:return""}}function xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _i:return"Fragment";case Ii:return"Portal";case fl:return"Profiler";case fc:return"StrictMode";case dl:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vf:return(e.displayName||"Context")+".Consumer";case Hf:return(e._context.displayName||"Context")+".Provider";case dc:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hc:return r=e.displayName||null,r!==null?r:xl(e.type)||"Memo";case Nn:r=e._payload,e=e._init;try{return xl(e(r))}catch{}}return null}function a2(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(r);case 8:return r===fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wf(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function l2(e){var r=Wf(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return u.call(this)},set:function(p){l=""+p,d.call(this,p)}}),Object.defineProperty(e,r,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function ps(e){e._valueTracker||(e._valueTracker=l2(e))}function Xf(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return e&&(l=Wf(e)?e.checked?"true":"false":e.value),e=l,e!==s?(r.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,r){var s=r.checked;return lt({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function N1(e,r){var s=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;s=zn(r.value!=null?r.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Yf(e,r){r=r.checked,r!=null&&uc(e,"checked",r,!1)}function pl(e,r){Yf(e,r);var s=zn(r.value),l=r.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?ml(e,r.type,s):r.hasOwnProperty("defaultValue")&&ml(e,r.type,zn(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function D1(e,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,s||r===e.value||(e.value=r),e.defaultValue=r}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function ml(e,r,s){(r!=="number"||Gs(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var v0=Array.isArray;function Li(e,r,s,l){if(e=e.options,r){r={};for(var u=0;u<s.length;u++)r["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=r.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+zn(s),r=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}r!==null||e[u].disabled||(r=e[u])}r!==null&&(r.selected=!0)}}function wl(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(oe(91));return lt({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function B1(e,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(oe(92));if(v0(s)){if(1<s.length)throw Error(oe(93));s=s[0]}r=s}r==null&&(r=""),s=r}e._wrapperState={initialValue:zn(s)}}function Kf(e,r){var s=zn(r.value),l=zn(r.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),r.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function b1(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Qf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yl(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Qf(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,Zf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(r,s,l,u)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function k0(e,r){if(r){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=r;return}}e.textContent=r}var I0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c2=["Webkit","ms","Moz","O"];Object.keys(I0).forEach(function(e){c2.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),I0[r]=I0[e]})});function qf(e,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||I0.hasOwnProperty(e)&&I0[e]?(""+r).trim():r+"px"}function Jf(e,r){e=e.style;for(var s in r)if(r.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=qf(s,r[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var u2=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(e,r){if(r){if(u2[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(oe(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(oe(61))}if(r.style!=null&&typeof r.style!="object")throw Error(oe(62))}}function El(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,ji=null,Ui=null;function T1(e){if(e=es(e)){if(typeof Al!="function")throw Error(oe(280));var r=e.stateNode;r&&(r=So(r),Al(e.stateNode,e.type,r))}}function $f(e){ji?Ui?Ui.push(e):Ui=[e]:ji=e}function ed(){if(ji){var e=ji,r=Ui;if(Ui=ji=null,T1(e),r)for(e=0;e<r.length;e++)T1(r[e])}}function td(e,r){return e(r)}function rd(){}var oa=!1;function nd(e,r,s){if(oa)return e(r,s);oa=!0;try{return td(e,r,s)}finally{oa=!1,(ji!==null||Ui!==null)&&(rd(),ed())}}function M0(e,r){var s=e.stateNode;if(s===null)return null;var l=So(s);if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(oe(231,r,typeof s));return s}var Sl=!1;if(dn)try{var x0={};Object.defineProperty(x0,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",x0,x0),window.removeEventListener("test",x0,x0)}catch{Sl=!1}function f2(e,r,s,l,u,d,p,m,w){var g=Array.prototype.slice.call(arguments,3);try{r.apply(s,g)}catch(E){this.onError(E)}}var _0=!1,Ws=null,Xs=!1,Il=null,d2={onError:function(e){_0=!0,Ws=e}};function h2(e,r,s,l,u,d,p,m,w){_0=!1,Ws=null,f2.apply(d2,arguments)}function x2(e,r,s,l,u,d,p,m,w){if(h2.apply(this,arguments),_0){if(_0){var g=Ws;_0=!1,Ws=null}else throw Error(oe(198));Xs||(Xs=!0,Il=g)}}function fi(e){var r=e,s=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(s=r.return),e=r.return;while(e)}return r.tag===3?s:null}function id(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function R1(e){if(fi(e)!==e)throw Error(oe(188))}function g2(e){var r=e.alternate;if(!r){if(r=fi(e),r===null)throw Error(oe(188));return r!==e?null:e}for(var s=e,l=r;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return R1(u),e;if(d===l)return R1(u),r;d=d.sibling}throw Error(oe(188))}if(s.return!==l.return)s=u,l=d;else{for(var p=!1,m=u.child;m;){if(m===s){p=!0,s=u,l=d;break}if(m===l){p=!0,l=u,s=d;break}m=m.sibling}if(!p){for(m=d.child;m;){if(m===s){p=!0,s=d,l=u;break}if(m===l){p=!0,l=d,s=u;break}m=m.sibling}if(!p)throw Error(oe(189))}}if(s.alternate!==l)throw Error(oe(190))}if(s.tag!==3)throw Error(oe(188));return s.stateNode.current===s?e:r}function sd(e){return e=g2(e),e!==null?od(e):null}function od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=od(e);if(r!==null)return r;e=e.sibling}return null}var ad=pr.unstable_scheduleCallback,O1=pr.unstable_cancelCallback,p2=pr.unstable_shouldYield,m2=pr.unstable_requestPaint,wt=pr.unstable_now,w2=pr.unstable_getCurrentPriorityLevel,gc=pr.unstable_ImmediatePriority,ld=pr.unstable_UserBlockingPriority,Ys=pr.unstable_NormalPriority,y2=pr.unstable_LowPriority,cd=pr.unstable_IdlePriority,Co=null,rn=null;function C2(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var zr=Math.clz32?Math.clz32:A2,E2=Math.log,v2=Math.LN2;function A2(e){return e>>>=0,e===0?32:31-(E2(e)/v2|0)|0}var ws=64,ys=4194304;function A0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,r){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,p=s&268435455;if(p!==0){var m=p&~u;m!==0?l=A0(m):(d&=p,d!==0&&(l=A0(d)))}else p=s&~u,p!==0?l=A0(p):d!==0&&(l=A0(d));if(l===0)return 0;if(r!==0&&r!==l&&!(r&u)&&(u=l&-l,d=r&-r,u>=d||u===16&&(d&4194240)!==0))return r;if(l&4&&(l|=s&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)s=31-zr(r),u=1<<s,l|=e[s],r&=~u;return l}function S2(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function I2(e,r){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var p=31-zr(d),m=1<<p,w=u[p];w===-1?(!(m&s)||m&l)&&(u[p]=S2(m,r)):w<=r&&(e.expiredLanes|=m),d&=~m}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ud(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function aa(e){for(var r=[],s=0;31>s;s++)r.push(e);return r}function J0(e,r,s){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-zr(r),e[r]=s}function _2(e,r){var s=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-zr(s),d=1<<u;r[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function pc(e,r){var s=e.entangledLanes|=r;for(e=e.entanglements;s;){var l=31-zr(s),u=1<<l;u&r|e[l]&r&&(e[l]|=r),s&=~u}}var Ge=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dd,mc,hd,xd,gd,Nl=!1,Cs=[],On=null,Fn=null,kn=null,P0=new Map,L0=new Map,Bn=[],N2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(e,r){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":P0.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":L0.delete(r.pointerId)}}function g0(e,r,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},r!==null&&(r=es(r),r!==null&&mc(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,u!==null&&r.indexOf(u)===-1&&r.push(u),e)}function D2(e,r,s,l,u){switch(r){case"focusin":return On=g0(On,e,r,s,l,u),!0;case"dragenter":return Fn=g0(Fn,e,r,s,l,u),!0;case"mouseover":return kn=g0(kn,e,r,s,l,u),!0;case"pointerover":var d=u.pointerId;return P0.set(d,g0(P0.get(d)||null,e,r,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,L0.set(d,g0(L0.get(d)||null,e,r,s,l,u)),!0}return!1}function pd(e){var r=ei(e.target);if(r!==null){var s=fi(r);if(s!==null){if(r=s.tag,r===13){if(r=id(s),r!==null){e.blockedOn=r,gd(e.priority,function(){hd(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var s=Dl(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);vl=l,s.target.dispatchEvent(l),vl=null}else return r=es(s),r!==null&&mc(r),e.blockedOn=s,!1;r.shift()}return!0}function k1(e,r,s){Fs(e)&&s.delete(r)}function B2(){Nl=!1,On!==null&&Fs(On)&&(On=null),Fn!==null&&Fs(Fn)&&(Fn=null),kn!==null&&Fs(kn)&&(kn=null),P0.forEach(k1),L0.forEach(k1)}function p0(e,r){e.blockedOn===r&&(e.blockedOn=null,Nl||(Nl=!0,pr.unstable_scheduleCallback(pr.unstable_NormalPriority,B2)))}function j0(e){function r(u){return p0(u,e)}if(0<Cs.length){p0(Cs[0],e);for(var s=1;s<Cs.length;s++){var l=Cs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(On!==null&&p0(On,e),Fn!==null&&p0(Fn,e),kn!==null&&p0(kn,e),P0.forEach(r),L0.forEach(r),s=0;s<Bn.length;s++)l=Bn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<Bn.length&&(s=Bn[0],s.blockedOn===null);)pd(s),s.blockedOn===null&&Bn.shift()}var zi=pn.ReactCurrentBatchConfig,Qs=!0;function b2(e,r,s,l){var u=Ge,d=zi.transition;zi.transition=null;try{Ge=1,wc(e,r,s,l)}finally{Ge=u,zi.transition=d}}function T2(e,r,s,l){var u=Ge,d=zi.transition;zi.transition=null;try{Ge=4,wc(e,r,s,l)}finally{Ge=u,zi.transition=d}}function wc(e,r,s,l){if(Qs){var u=Dl(e,r,s,l);if(u===null)ma(e,r,l,Zs,s),F1(e,l);else if(D2(u,e,r,s,l))l.stopPropagation();else if(F1(e,l),r&4&&-1<N2.indexOf(e)){for(;u!==null;){var d=es(u);if(d!==null&&dd(d),d=Dl(e,r,s,l),d===null&&ma(e,r,l,Zs,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else ma(e,r,l,null,s)}}var Zs=null;function Dl(e,r,s,l){if(Zs=null,e=xc(l),e=ei(e),e!==null)if(r=fi(e),r===null)e=null;else if(s=r.tag,s===13){if(e=id(r),e!==null)return e;e=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Zs=e,null}function md(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w2()){case gc:return 1;case ld:return 4;case Ys:case y2:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Tn=null,yc=null,ks=null;function wd(){if(ks)return ks;var e,r=yc,s=r.length,l,u="value"in Tn?Tn.value:Tn.textContent,d=u.length;for(e=0;e<s&&r[e]===u[e];e++);var p=s-e;for(l=1;l<=p&&r[s-l]===u[d-l];l++);return ks=u.slice(e,1<l?1-l:void 0)}function Ms(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Es(){return!0}function M1(){return!1}function wr(e){function r(s,l,u,d,p){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(s=e[m],this[m]=s?s(d):d[m]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Es:M1,this.isPropagationStopped=M1,this}return lt(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),r}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cc=wr($i),$0=lt({},$i,{view:0,detail:0}),R2=wr($0),la,ca,m0,Eo=lt({},$0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==m0&&(m0&&e.type==="mousemove"?(la=e.screenX-m0.screenX,ca=e.screenY-m0.screenY):ca=la=0,m0=e),la)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),P1=wr(Eo),O2=lt({},Eo,{dataTransfer:0}),F2=wr(O2),k2=lt({},$0,{relatedTarget:0}),ua=wr(k2),M2=lt({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=wr(M2),L2=lt({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),j2=wr(L2),U2=lt({},$i,{data:0}),L1=wr(U2),z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G2(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=V2[e])?!!r[e]:!1}function Ec(){return G2}var W2=lt({},$0,{key:function(e){if(e.key){var r=z2[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?H2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?Ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X2=wr(W2),Y2=lt({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=wr(Y2),K2=lt({},$0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),Q2=wr(K2),Z2=lt({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),q2=wr(Z2),J2=lt({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$2=wr(J2),eg=[9,13,27,32],vc=dn&&"CompositionEvent"in window,N0=null;dn&&"documentMode"in document&&(N0=document.documentMode);var tg=dn&&"TextEvent"in window&&!N0,yd=dn&&(!vc||N0&&8<N0&&11>=N0),U1=" ",z1=!1;function Cd(e,r){switch(e){case"keyup":return eg.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ni=!1;function rg(e,r){switch(e){case"compositionend":return Ed(r);case"keypress":return r.which!==32?null:(z1=!0,U1);case"textInput":return e=r.data,e===U1&&z1?null:e;default:return null}}function ng(e,r){if(Ni)return e==="compositionend"||!vc&&Cd(e,r)?(e=wd(),ks=yc=Tn=null,Ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yd&&r.locale!=="ko"?null:r.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H1(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!ig[e.type]:r==="textarea"}function vd(e,r,s,l){$f(l),r=qs(r,"onChange"),0<r.length&&(s=new Cc("onChange","change",null,s,l),e.push({event:s,listeners:r}))}var D0=null,U0=null;function sg(e){Od(e,0)}function vo(e){var r=bi(e);if(Xf(r))return e}function og(e,r){if(e==="change")return r}var Ad=!1;if(dn){var fa;if(dn){var da="oninput"in document;if(!da){var V1=document.createElement("div");V1.setAttribute("oninput","return;"),da=typeof V1.oninput=="function"}fa=da}else fa=!1;Ad=fa&&(!document.documentMode||9<document.documentMode)}function G1(){D0&&(D0.detachEvent("onpropertychange",Sd),U0=D0=null)}function Sd(e){if(e.propertyName==="value"&&vo(U0)){var r=[];vd(r,U0,e,xc(e)),nd(sg,r)}}function ag(e,r,s){e==="focusin"?(G1(),D0=r,U0=s,D0.attachEvent("onpropertychange",Sd)):e==="focusout"&&G1()}function lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(U0)}function cg(e,r){if(e==="click")return vo(r)}function ug(e,r){if(e==="input"||e==="change")return vo(r)}function fg(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Vr=typeof Object.is=="function"?Object.is:fg;function z0(e,r){if(Vr(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var s=Object.keys(e),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!ul.call(r,u)||!Vr(e[u],r[u]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function X1(e,r){var s=W1(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=r&&l>=r)return{node:s,offset:r-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=W1(s)}}function Id(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Id(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function _d(){for(var e=window,r=Gs();r instanceof e.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)e=r.contentWindow;else break;r=Gs(e.document)}return r}function Ac(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function dg(e){var r=_d(),s=e.focusedElem,l=e.selectionRange;if(r!==s&&s&&s.ownerDocument&&Id(s.ownerDocument.documentElement,s)){if(l!==null&&Ac(s)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(e,s.value.length);else if(e=(r=s.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=X1(s,d);var p=X1(s,l);u&&p&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(r),e.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),e.addRange(r)))}}for(r=[],e=s;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)e=r[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hg=dn&&"documentMode"in document&&11>=document.documentMode,Di=null,Bl=null,B0=null,bl=!1;function Y1(e,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;bl||Di==null||Di!==Gs(l)||(l=Di,"selectionStart"in l&&Ac(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),B0&&z0(B0,l)||(B0=l,l=qs(Bl,"onSelect"),0<l.length&&(r=new Cc("onSelect","select",null,r,s),e.push({event:r,listeners:l}),r.target=Di)))}function vs(e,r){var s={};return s[e.toLowerCase()]=r.toLowerCase(),s["Webkit"+e]="webkit"+r,s["Moz"+e]="moz"+r,s}var Bi={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},ha={},Nd={};dn&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Ao(e){if(ha[e])return ha[e];if(!Bi[e])return e;var r=Bi[e],s;for(s in r)if(r.hasOwnProperty(s)&&s in Nd)return ha[e]=r[s];return e}var Dd=Ao("animationend"),Bd=Ao("animationiteration"),bd=Ao("animationstart"),Td=Ao("transitionend"),Rd=new Map,K1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(e,r){Rd.set(e,r),ui(r,[e])}for(var xa=0;xa<K1.length;xa++){var ga=K1[xa],xg=ga.toLowerCase(),gg=ga[0].toUpperCase()+ga.slice(1);Vn(xg,"on"+gg)}Vn(Dd,"onAnimationEnd");Vn(Bd,"onAnimationIteration");Vn(bd,"onAnimationStart");Vn("dblclick","onDoubleClick");Vn("focusin","onFocus");Vn("focusout","onBlur");Vn(Td,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(S0));function Q1(e,r,s){var l=e.type||"unknown-event";e.currentTarget=s,x2(l,r,void 0,e),e.currentTarget=null}function Od(e,r){r=(r&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var p=l.length-1;0<=p;p--){var m=l[p],w=m.instance,g=m.currentTarget;if(m=m.listener,w!==d&&u.isPropagationStopped())break e;Q1(u,m,g),d=w}else for(p=0;p<l.length;p++){if(m=l[p],w=m.instance,g=m.currentTarget,m=m.listener,w!==d&&u.isPropagationStopped())break e;Q1(u,m,g),d=w}}}if(Xs)throw e=Il,Xs=!1,Il=null,e}function Je(e,r){var s=r[kl];s===void 0&&(s=r[kl]=new Set);var l=e+"__bubble";s.has(l)||(Fd(r,e,2,!1),s.add(l))}function pa(e,r,s){var l=0;r&&(l|=4),Fd(s,e,l,r)}var As="_reactListening"+Math.random().toString(36).slice(2);function H0(e){if(!e[As]){e[As]=!0,zf.forEach(function(s){s!=="selectionchange"&&(pg.has(s)||pa(s,!1,e),pa(s,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[As]||(r[As]=!0,pa("selectionchange",!1,r))}}function Fd(e,r,s,l){switch(md(r)){case 1:var u=b2;break;case 4:u=T2;break;default:u=wc}s=u.bind(null,r,s,e),u=void 0,!Sl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(r,s,{capture:!0,passive:u}):e.addEventListener(r,s,!0):u!==void 0?e.addEventListener(r,s,{passive:u}):e.addEventListener(r,s,!1)}function ma(e,r,s,l,u){var d=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var m=l.stateNode.containerInfo;if(m===u||m.nodeType===8&&m.parentNode===u)break;if(p===4)for(p=l.return;p!==null;){var w=p.tag;if((w===3||w===4)&&(w=p.stateNode.containerInfo,w===u||w.nodeType===8&&w.parentNode===u))return;p=p.return}for(;m!==null;){if(p=ei(m),p===null)return;if(w=p.tag,w===5||w===6){l=d=p;continue e}m=m.parentNode}}l=l.return}nd(function(){var g=d,E=xc(s),N=[];e:{var S=Rd.get(e);if(S!==void 0){var B=Cc,R=e;switch(e){case"keypress":if(Ms(s)===0)break e;case"keydown":case"keyup":B=X2;break;case"focusin":R="focus",B=ua;break;case"focusout":R="blur",B=ua;break;case"beforeblur":case"afterblur":B=ua;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=F2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Q2;break;case Dd:case Bd:case bd:B=P2;break;case Td:B=q2;break;case"scroll":B=R2;break;case"wheel":B=$2;break;case"copy":case"cut":case"paste":B=j2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=j1}var O=(r&4)!==0,P=!O&&e==="scroll",D=O?S!==null?S+"Capture":null:S;O=[];for(var C=g,v;C!==null;){v=C;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,D!==null&&(T=M0(C,D),T!=null&&O.push(V0(C,T,v)))),P)break;C=C.return}0<O.length&&(S=new B(S,R,null,s,E),N.push({event:S,listeners:O}))}}if(!(r&7)){e:{if(S=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",S&&s!==vl&&(R=s.relatedTarget||s.fromElement)&&(ei(R)||R[hn]))break e;if((B||S)&&(S=E.window===E?E:(S=E.ownerDocument)?S.defaultView||S.parentWindow:window,B?(R=s.relatedTarget||s.toElement,B=g,R=R?ei(R):null,R!==null&&(P=fi(R),R!==P||R.tag!==5&&R.tag!==6)&&(R=null)):(B=null,R=g),B!==R)){if(O=P1,T="onMouseLeave",D="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(O=j1,T="onPointerLeave",D="onPointerEnter",C="pointer"),P=B==null?S:bi(B),v=R==null?S:bi(R),S=new O(T,C+"leave",B,s,E),S.target=P,S.relatedTarget=v,T=null,ei(E)===g&&(O=new O(D,C+"enter",R,s,E),O.target=v,O.relatedTarget=P,T=O),P=T,B&&R)t:{for(O=B,D=R,C=0,v=O;v;v=Si(v))C++;for(v=0,T=D;T;T=Si(T))v++;for(;0<C-v;)O=Si(O),C--;for(;0<v-C;)D=Si(D),v--;for(;C--;){if(O===D||D!==null&&O===D.alternate)break t;O=Si(O),D=Si(D)}O=null}else O=null;B!==null&&Z1(N,S,B,O,!1),R!==null&&P!==null&&Z1(N,P,R,O,!0)}}e:{if(S=g?bi(g):window,B=S.nodeName&&S.nodeName.toLowerCase(),B==="select"||B==="input"&&S.type==="file")var j=og;else if(H1(S))if(Ad)j=ug;else{j=lg;var L=ag}else(B=S.nodeName)&&B.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(j=cg);if(j&&(j=j(e,g))){vd(N,j,s,E);break e}L&&L(e,S,g),e==="focusout"&&(L=S._wrapperState)&&L.controlled&&S.type==="number"&&ml(S,"number",S.value)}switch(L=g?bi(g):window,e){case"focusin":(H1(L)||L.contentEditable==="true")&&(Di=L,Bl=g,B0=null);break;case"focusout":B0=Bl=Di=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,Y1(N,s,E);break;case"selectionchange":if(hg)break;case"keydown":case"keyup":Y1(N,s,E)}var F;if(vc)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Ni?Cd(e,s)&&(U="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(U="onCompositionStart");U&&(yd&&s.locale!=="ko"&&(Ni||U!=="onCompositionStart"?U==="onCompositionEnd"&&Ni&&(F=wd()):(Tn=E,yc="value"in Tn?Tn.value:Tn.textContent,Ni=!0)),L=qs(g,U),0<L.length&&(U=new L1(U,e,null,s,E),N.push({event:U,listeners:L}),F?U.data=F:(F=Ed(s),F!==null&&(U.data=F)))),(F=tg?rg(e,s):ng(e,s))&&(g=qs(g,"onBeforeInput"),0<g.length&&(E=new L1("onBeforeInput","beforeinput",null,s,E),N.push({event:E,listeners:g}),E.data=F))}Od(N,r)})}function V0(e,r,s){return{instance:e,listener:r,currentTarget:s}}function qs(e,r){for(var s=r+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=M0(e,s),d!=null&&l.unshift(V0(e,d,u)),d=M0(e,r),d!=null&&l.push(V0(e,d,u))),e=e.return}return l}function Si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z1(e,r,s,l,u){for(var d=r._reactName,p=[];s!==null&&s!==l;){var m=s,w=m.alternate,g=m.stateNode;if(w!==null&&w===l)break;m.tag===5&&g!==null&&(m=g,u?(w=M0(s,d),w!=null&&p.unshift(V0(s,w,m))):u||(w=M0(s,d),w!=null&&p.push(V0(s,w,m)))),s=s.return}p.length!==0&&e.push({event:r,listeners:p})}var mg=/\r\n?/g,wg=/\u0000|\uFFFD/g;function q1(e){return(typeof e=="string"?e:""+e).replace(mg,`
`).replace(wg,"")}function Ss(e,r,s){if(r=q1(r),q1(e)!==r&&s)throw Error(oe(425))}function Js(){}var Tl=null,Rl=null;function Ol(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,Cg=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(e){return J1.resolve(null).then(e).catch(Eg)}:Fl;function Eg(e){setTimeout(function(){throw e})}function wa(e,r){var s=r,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),j0(r);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);j0(r)}function Mn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function $1(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return e;r--}else s==="/$"&&r++}e=e.previousSibling}return null}var e0=Math.random().toString(36).slice(2),tn="__reactFiber$"+e0,G0="__reactProps$"+e0,hn="__reactContainer$"+e0,kl="__reactEvents$"+e0,vg="__reactListeners$"+e0,Ag="__reactHandles$"+e0;function ei(e){var r=e[tn];if(r)return r;for(var s=e.parentNode;s;){if(r=s[hn]||s[tn]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(e=$1(e);e!==null;){if(s=e[tn])return s;e=$1(e)}return r}e=s,s=e.parentNode}return null}function es(e){return e=e[tn]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function So(e){return e[G0]||null}var Ml=[],Ti=-1;function Gn(e){return{current:e}}function et(e){0>Ti||(e.current=Ml[Ti],Ml[Ti]=null,Ti--)}function Ze(e,r){Ti++,Ml[Ti]=e.current,e.current=r}var Hn={},Yt=Gn(Hn),ar=Gn(!1),si=Hn;function Wi(e,r){var s=e.type.contextTypes;if(!s)return Hn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=r[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=u),u}function lr(e){return e=e.childContextTypes,e!=null}function $s(){et(ar),et(Yt)}function eu(e,r,s){if(Yt.current!==Hn)throw Error(oe(168));Ze(Yt,r),Ze(ar,s)}function kd(e,r,s){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in r))throw Error(oe(108,a2(e)||"Unknown",u));return lt({},s,l)}function eo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,si=Yt.current,Ze(Yt,e),Ze(ar,ar.current),!0}function tu(e,r,s){var l=e.stateNode;if(!l)throw Error(oe(169));s?(e=kd(e,r,si),l.__reactInternalMemoizedMergedChildContext=e,et(ar),et(Yt),Ze(Yt,e)):et(ar),Ze(ar,s)}var ln=null,Io=!1,ya=!1;function Md(e){ln===null?ln=[e]:ln.push(e)}function Sg(e){Io=!0,Md(e)}function Wn(){if(!ya&&ln!==null){ya=!0;var e=0,r=Ge;try{var s=ln;for(Ge=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}ln=null,Io=!1}catch(u){throw ln!==null&&(ln=ln.slice(e+1)),ad(gc,Wn),u}finally{Ge=r,ya=!1}}return null}var Ri=[],Oi=0,to=null,ro=0,_r=[],Nr=0,oi=null,cn=1,un="";function Jn(e,r){Ri[Oi++]=ro,Ri[Oi++]=to,to=e,ro=r}function Pd(e,r,s){_r[Nr++]=cn,_r[Nr++]=un,_r[Nr++]=oi,oi=e;var l=cn;e=un;var u=32-zr(l)-1;l&=~(1<<u),s+=1;var d=32-zr(r)+u;if(30<d){var p=u-u%5;d=(l&(1<<p)-1).toString(32),l>>=p,u-=p,cn=1<<32-zr(r)+u|s<<u|l,un=d+e}else cn=1<<d|s<<u|l,un=e}function Sc(e){e.return!==null&&(Jn(e,1),Pd(e,1,0))}function Ic(e){for(;e===to;)to=Ri[--Oi],Ri[Oi]=null,ro=Ri[--Oi],Ri[Oi]=null;for(;e===oi;)oi=_r[--Nr],_r[Nr]=null,un=_r[--Nr],_r[Nr]=null,cn=_r[--Nr],_r[Nr]=null}var gr=null,xr=null,nt=!1,Ur=null;function Ld(e,r){var s=Dr(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=e,r=e.deletions,r===null?(e.deletions=[s],e.flags|=16):r.push(s)}function ru(e,r){switch(e.tag){case 5:var s=e.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,gr=e,xr=Mn(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,gr=e,xr=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=oi!==null?{id:cn,overflow:un}:null,e.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Dr(18,null,null,0),s.stateNode=r,s.return=e,e.child=s,gr=e,xr=null,!0):!1;default:return!1}}function Pl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(nt){var r=xr;if(r){var s=r;if(!ru(e,r)){if(Pl(e))throw Error(oe(418));r=Mn(s.nextSibling);var l=gr;r&&ru(e,r)?Ld(l,s):(e.flags=e.flags&-4097|2,nt=!1,gr=e)}}else{if(Pl(e))throw Error(oe(418));e.flags=e.flags&-4097|2,nt=!1,gr=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gr=e}function Is(e){if(e!==gr)return!1;if(!nt)return nu(e),nt=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Ol(e.type,e.memoizedProps)),r&&(r=xr)){if(Pl(e))throw jd(),Error(oe(418));for(;r;)Ld(e,r),r=Mn(r.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(r===0){xr=Mn(e.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}e=e.nextSibling}xr=null}}else xr=gr?Mn(e.stateNode.nextSibling):null;return!0}function jd(){for(var e=xr;e;)e=Mn(e.nextSibling)}function Xi(){xr=gr=null,nt=!1}function _c(e){Ur===null?Ur=[e]:Ur.push(e)}var Ig=pn.ReactCurrentBatchConfig;function w0(e,r,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(oe(309));var l=s.stateNode}if(!l)throw Error(oe(147,e));var u=l,d=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===d?r.ref:(r=function(p){var m=u.refs;p===null?delete m[d]:m[d]=p},r._stringRef=d,r)}if(typeof e!="string")throw Error(oe(284));if(!s._owner)throw Error(oe(290,e))}return e}function _s(e,r){throw e=Object.prototype.toString.call(r),Error(oe(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function iu(e){var r=e._init;return r(e._payload)}function Ud(e){function r(D,C){if(e){var v=D.deletions;v===null?(D.deletions=[C],D.flags|=16):v.push(C)}}function s(D,C){if(!e)return null;for(;C!==null;)r(D,C),C=C.sibling;return null}function l(D,C){for(D=new Map;C!==null;)C.key!==null?D.set(C.key,C):D.set(C.index,C),C=C.sibling;return D}function u(D,C){return D=Un(D,C),D.index=0,D.sibling=null,D}function d(D,C,v){return D.index=v,e?(v=D.alternate,v!==null?(v=v.index,v<C?(D.flags|=2,C):v):(D.flags|=2,C)):(D.flags|=1048576,C)}function p(D){return e&&D.alternate===null&&(D.flags|=2),D}function m(D,C,v,T){return C===null||C.tag!==6?(C=_a(v,D.mode,T),C.return=D,C):(C=u(C,v),C.return=D,C)}function w(D,C,v,T){var j=v.type;return j===_i?E(D,C,v.props.children,T,v.key):C!==null&&(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nn&&iu(j)===C.type)?(T=u(C,v.props),T.ref=w0(D,C,v),T.return=D,T):(T=Vs(v.type,v.key,v.props,null,D.mode,T),T.ref=w0(D,C,v),T.return=D,T)}function g(D,C,v,T){return C===null||C.tag!==4||C.stateNode.containerInfo!==v.containerInfo||C.stateNode.implementation!==v.implementation?(C=Na(v,D.mode,T),C.return=D,C):(C=u(C,v.children||[]),C.return=D,C)}function E(D,C,v,T,j){return C===null||C.tag!==7?(C=ii(v,D.mode,T,j),C.return=D,C):(C=u(C,v),C.return=D,C)}function N(D,C,v){if(typeof C=="string"&&C!==""||typeof C=="number")return C=_a(""+C,D.mode,v),C.return=D,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gs:return v=Vs(C.type,C.key,C.props,null,D.mode,v),v.ref=w0(D,null,C),v.return=D,v;case Ii:return C=Na(C,D.mode,v),C.return=D,C;case Nn:var T=C._init;return N(D,T(C._payload),v)}if(v0(C)||h0(C))return C=ii(C,D.mode,v,null),C.return=D,C;_s(D,C)}return null}function S(D,C,v,T){var j=C!==null?C.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:m(D,C,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:return v.key===j?w(D,C,v,T):null;case Ii:return v.key===j?g(D,C,v,T):null;case Nn:return j=v._init,S(D,C,j(v._payload),T)}if(v0(v)||h0(v))return j!==null?null:E(D,C,v,T,null);_s(D,v)}return null}function B(D,C,v,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return D=D.get(v)||null,m(C,D,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gs:return D=D.get(T.key===null?v:T.key)||null,w(C,D,T,j);case Ii:return D=D.get(T.key===null?v:T.key)||null,g(C,D,T,j);case Nn:var L=T._init;return B(D,C,v,L(T._payload),j)}if(v0(T)||h0(T))return D=D.get(v)||null,E(C,D,T,j,null);_s(C,T)}return null}function R(D,C,v,T){for(var j=null,L=null,F=C,U=C=0,G=null;F!==null&&U<v.length;U++){F.index>U?(G=F,F=null):G=F.sibling;var H=S(D,F,v[U],T);if(H===null){F===null&&(F=G);break}e&&F&&H.alternate===null&&r(D,F),C=d(H,C,U),L===null?j=H:L.sibling=H,L=H,F=G}if(U===v.length)return s(D,F),nt&&Jn(D,U),j;if(F===null){for(;U<v.length;U++)F=N(D,v[U],T),F!==null&&(C=d(F,C,U),L===null?j=F:L.sibling=F,L=F);return nt&&Jn(D,U),j}for(F=l(D,F);U<v.length;U++)G=B(F,D,U,v[U],T),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?U:G.key),C=d(G,C,U),L===null?j=G:L.sibling=G,L=G);return e&&F.forEach(function(X){return r(D,X)}),nt&&Jn(D,U),j}function O(D,C,v,T){var j=h0(v);if(typeof j!="function")throw Error(oe(150));if(v=j.call(v),v==null)throw Error(oe(151));for(var L=j=null,F=C,U=C=0,G=null,H=v.next();F!==null&&!H.done;U++,H=v.next()){F.index>U?(G=F,F=null):G=F.sibling;var X=S(D,F,H.value,T);if(X===null){F===null&&(F=G);break}e&&F&&X.alternate===null&&r(D,F),C=d(X,C,U),L===null?j=X:L.sibling=X,L=X,F=G}if(H.done)return s(D,F),nt&&Jn(D,U),j;if(F===null){for(;!H.done;U++,H=v.next())H=N(D,H.value,T),H!==null&&(C=d(H,C,U),L===null?j=H:L.sibling=H,L=H);return nt&&Jn(D,U),j}for(F=l(D,F);!H.done;U++,H=v.next())H=B(F,D,U,H.value,T),H!==null&&(e&&H.alternate!==null&&F.delete(H.key===null?U:H.key),C=d(H,C,U),L===null?j=H:L.sibling=H,L=H);return e&&F.forEach(function(Q){return r(D,Q)}),nt&&Jn(D,U),j}function P(D,C,v,T){if(typeof v=="object"&&v!==null&&v.type===_i&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case gs:e:{for(var j=v.key,L=C;L!==null;){if(L.key===j){if(j=v.type,j===_i){if(L.tag===7){s(D,L.sibling),C=u(L,v.props.children),C.return=D,D=C;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Nn&&iu(j)===L.type){s(D,L.sibling),C=u(L,v.props),C.ref=w0(D,L,v),C.return=D,D=C;break e}s(D,L);break}else r(D,L);L=L.sibling}v.type===_i?(C=ii(v.props.children,D.mode,T,v.key),C.return=D,D=C):(T=Vs(v.type,v.key,v.props,null,D.mode,T),T.ref=w0(D,C,v),T.return=D,D=T)}return p(D);case Ii:e:{for(L=v.key;C!==null;){if(C.key===L)if(C.tag===4&&C.stateNode.containerInfo===v.containerInfo&&C.stateNode.implementation===v.implementation){s(D,C.sibling),C=u(C,v.children||[]),C.return=D,D=C;break e}else{s(D,C);break}else r(D,C);C=C.sibling}C=Na(v,D.mode,T),C.return=D,D=C}return p(D);case Nn:return L=v._init,P(D,C,L(v._payload),T)}if(v0(v))return R(D,C,v,T);if(h0(v))return O(D,C,v,T);_s(D,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,C!==null&&C.tag===6?(s(D,C.sibling),C=u(C,v),C.return=D,D=C):(s(D,C),C=_a(v,D.mode,T),C.return=D,D=C),p(D)):s(D,C)}return P}var Yi=Ud(!0),zd=Ud(!1),no=Gn(null),io=null,Fi=null,Nc=null;function Dc(){Nc=Fi=io=null}function Bc(e){var r=no.current;et(no),e._currentValue=r}function jl(e,r,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===s)break;e=e.return}}function Hi(e,r){io=e,Nc=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(or=!0),e.firstContext=null)}function br(e){var r=e._currentValue;if(Nc!==e)if(e={context:e,memoizedValue:r,next:null},Fi===null){if(io===null)throw Error(oe(308));Fi=e,io.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return r}var ti=null;function bc(e){ti===null?ti=[e]:ti.push(e)}function Hd(e,r,s,l){var u=r.interleaved;return u===null?(s.next=s,bc(r)):(s.next=u.next,u.next=s),r.interleaved=s,xn(e,l)}function xn(e,r){e.lanes|=r;var s=e.alternate;for(s!==null&&(s.lanes|=r),s=e,e=e.return;e!==null;)e.childLanes|=r,s=e.alternate,s!==null&&(s.childLanes|=r),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Dn=!1;function Tc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fn(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Pn(e,r,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Le&2){var u=l.pending;return u===null?r.next=r:(r.next=u.next,u.next=r),l.pending=r,xn(e,s)}return u=l.interleaved,u===null?(r.next=r,bc(l)):(r.next=u.next,u.next=r),l.interleaved=r,xn(e,s)}function Ps(e,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,pc(e,s)}}function su(e,r){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var p={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=p:d=d.next=p,s=s.next}while(s!==null);d===null?u=d=r:d=d.next=r}else u=d=r;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=r:e.next=r,s.lastBaseUpdate=r}function so(e,r,s,l){var u=e.updateQueue;Dn=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var w=m,g=w.next;w.next=null,p===null?d=g:p.next=g,p=w;var E=e.alternate;E!==null&&(E=E.updateQueue,m=E.lastBaseUpdate,m!==p&&(m===null?E.firstBaseUpdate=g:m.next=g,E.lastBaseUpdate=w))}if(d!==null){var N=u.baseState;p=0,E=g=w=null,m=d;do{var S=m.lane,B=m.eventTime;if((l&S)===S){E!==null&&(E=E.next={eventTime:B,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var R=e,O=m;switch(S=r,B=s,O.tag){case 1:if(R=O.payload,typeof R=="function"){N=R.call(B,N,S);break e}N=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=O.payload,S=typeof R=="function"?R.call(B,N,S):R,S==null)break e;N=lt({},N,S);break e;case 2:Dn=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,S=u.effects,S===null?u.effects=[m]:S.push(m))}else B={eventTime:B,lane:S,tag:m.tag,payload:m.payload,callback:m.callback,next:null},E===null?(g=E=B,w=N):E=E.next=B,p|=S;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;S=m,m=S.next,S.next=null,u.lastBaseUpdate=S,u.shared.pending=null}}while(!0);if(E===null&&(w=N),u.baseState=w,u.firstBaseUpdate=g,u.lastBaseUpdate=E,r=u.shared.interleaved,r!==null){u=r;do p|=u.lane,u=u.next;while(u!==r)}else d===null&&(u.shared.lanes=0);li|=p,e.lanes=p,e.memoizedState=N}}function ou(e,r,s){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(oe(191,u));u.call(l)}}}var ts={},nn=Gn(ts),W0=Gn(ts),X0=Gn(ts);function ri(e){if(e===ts)throw Error(oe(174));return e}function Rc(e,r){switch(Ze(X0,r),Ze(W0,e),Ze(nn,ts),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:yl(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=yl(r,e)}et(nn),Ze(nn,r)}function Ki(){et(nn),et(W0),et(X0)}function Gd(e){ri(X0.current);var r=ri(nn.current),s=yl(r,e.type);r!==s&&(Ze(W0,e),Ze(nn,s))}function Oc(e){W0.current===e&&(et(nn),et(W0))}var ot=Gn(0);function oo(e){for(var r=e;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ca=[];function Fc(){for(var e=0;e<Ca.length;e++)Ca[e]._workInProgressVersionPrimary=null;Ca.length=0}var Ls=pn.ReactCurrentDispatcher,Ea=pn.ReactCurrentBatchConfig,ai=0,at=null,At=null,Tt=null,ao=!1,b0=!1,Y0=0,_g=0;function Gt(){throw Error(oe(321))}function kc(e,r){if(r===null)return!1;for(var s=0;s<r.length&&s<e.length;s++)if(!Vr(e[s],r[s]))return!1;return!0}function Mc(e,r,s,l,u,d){if(ai=d,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ls.current=e===null||e.memoizedState===null?bg:Tg,e=s(l,u),b0){d=0;do{if(b0=!1,Y0=0,25<=d)throw Error(oe(301));d+=1,Tt=At=null,r.updateQueue=null,Ls.current=Rg,e=s(l,u)}while(b0)}if(Ls.current=lo,r=At!==null&&At.next!==null,ai=0,Tt=At=at=null,ao=!1,r)throw Error(oe(300));return e}function Pc(){var e=Y0!==0;return Y0=0,e}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Tr(){if(At===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=At.next;var r=Tt===null?at.memoizedState:Tt.next;if(r!==null)Tt=r,At=e;else{if(e===null)throw Error(oe(310));At=e,e={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Tt===null?at.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function K0(e,r){return typeof r=="function"?r(e):r}function va(e){var r=Tr(),s=r.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var l=At,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var m=p=null,w=null,g=d;do{var E=g.lane;if((ai&E)===E)w!==null&&(w=w.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),l=g.hasEagerState?g.eagerState:e(l,g.action);else{var N={lane:E,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};w===null?(m=w=N,p=l):w=w.next=N,at.lanes|=E,li|=E}g=g.next}while(g!==null&&g!==d);w===null?p=l:w.next=m,Vr(l,r.memoizedState)||(or=!0),r.memoizedState=l,r.baseState=p,r.baseQueue=w,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,at.lanes|=d,li|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Aa(e){var r=Tr(),s=r.queue;if(s===null)throw Error(oe(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=r.memoizedState;if(u!==null){s.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);Vr(d,r.memoizedState)||(or=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function Wd(){}function Xd(e,r){var s=at,l=Tr(),u=r(),d=!Vr(l.memoizedState,u);if(d&&(l.memoizedState=u,or=!0),l=l.queue,Lc(Qd.bind(null,s,l,e),[e]),l.getSnapshot!==r||d||Tt!==null&&Tt.memoizedState.tag&1){if(s.flags|=2048,Q0(9,Kd.bind(null,s,l,u,r),void 0,null),Rt===null)throw Error(oe(349));ai&30||Yd(s,r,u)}return u}function Yd(e,r,s){e.flags|=16384,e={getSnapshot:r,value:s},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.stores=[e]):(s=r.stores,s===null?r.stores=[e]:s.push(e))}function Kd(e,r,s,l){r.value=s,r.getSnapshot=l,Zd(r)&&qd(e)}function Qd(e,r,s){return s(function(){Zd(r)&&qd(e)})}function Zd(e){var r=e.getSnapshot;e=e.value;try{var s=r();return!Vr(e,s)}catch{return!0}}function qd(e){var r=xn(e,1);r!==null&&Hr(r,e,1,-1)}function au(e){var r=en();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:K0,lastRenderedState:e},r.queue=e,e=e.dispatch=Bg.bind(null,at,e),[r.memoizedState,e]}function Q0(e,r,s,l){return e={tag:e,create:r,destroy:s,deps:l,next:null},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.lastEffect=e.next=e):(s=r.lastEffect,s===null?r.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,r.lastEffect=e)),e}function Jd(){return Tr().memoizedState}function js(e,r,s,l){var u=en();at.flags|=e,u.memoizedState=Q0(1|r,s,void 0,l===void 0?null:l)}function _o(e,r,s,l){var u=Tr();l=l===void 0?null:l;var d=void 0;if(At!==null){var p=At.memoizedState;if(d=p.destroy,l!==null&&kc(l,p.deps)){u.memoizedState=Q0(r,s,d,l);return}}at.flags|=e,u.memoizedState=Q0(1|r,s,d,l)}function lu(e,r){return js(8390656,8,e,r)}function Lc(e,r){return _o(2048,8,e,r)}function $d(e,r){return _o(4,2,e,r)}function eh(e,r){return _o(4,4,e,r)}function th(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function rh(e,r,s){return s=s!=null?s.concat([e]):null,_o(4,4,th.bind(null,r,e),s)}function jc(){}function nh(e,r){var s=Tr();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&kc(r,l[1])?l[0]:(s.memoizedState=[e,r],e)}function ih(e,r){var s=Tr();r=r===void 0?null:r;var l=s.memoizedState;return l!==null&&r!==null&&kc(r,l[1])?l[0]:(e=e(),s.memoizedState=[e,r],e)}function sh(e,r,s){return ai&21?(Vr(s,r)||(s=ud(),at.lanes|=s,li|=s,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,or=!0),e.memoizedState=s)}function Ng(e,r){var s=Ge;Ge=s!==0&&4>s?s:4,e(!0);var l=Ea.transition;Ea.transition={};try{e(!1),r()}finally{Ge=s,Ea.transition=l}}function oh(){return Tr().memoizedState}function Dg(e,r,s){var l=jn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},ah(e))lh(r,s);else if(s=Hd(e,r,s,l),s!==null){var u=qt();Hr(s,e,l,u),ch(s,r,l)}}function Bg(e,r,s){var l=jn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(ah(e))lh(r,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var p=r.lastRenderedState,m=d(p,s);if(u.hasEagerState=!0,u.eagerState=m,Vr(m,p)){var w=r.interleaved;w===null?(u.next=u,bc(r)):(u.next=w.next,w.next=u),r.interleaved=u;return}}catch{}finally{}s=Hd(e,r,u,l),s!==null&&(u=qt(),Hr(s,e,l,u),ch(s,r,l))}}function ah(e){var r=e.alternate;return e===at||r!==null&&r===at}function lh(e,r){b0=ao=!0;var s=e.pending;s===null?r.next=r:(r.next=s.next,s.next=r),e.pending=r}function ch(e,r,s){if(s&4194240){var l=r.lanes;l&=e.pendingLanes,s|=l,r.lanes=s,pc(e,s)}}var lo={readContext:br,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},bg={readContext:br,useCallback:function(e,r){return en().memoizedState=[e,r===void 0?null:r],e},useContext:br,useEffect:lu,useImperativeHandle:function(e,r,s){return s=s!=null?s.concat([e]):null,js(4194308,4,th.bind(null,r,e),s)},useLayoutEffect:function(e,r){return js(4194308,4,e,r)},useInsertionEffect:function(e,r){return js(4,2,e,r)},useMemo:function(e,r){var s=en();return r=r===void 0?null:r,e=e(),s.memoizedState=[e,r],e},useReducer:function(e,r,s){var l=en();return r=s!==void 0?s(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Dg.bind(null,at,e),[l.memoizedState,e]},useRef:function(e){var r=en();return e={current:e},r.memoizedState=e},useState:au,useDebugValue:jc,useDeferredValue:function(e){return en().memoizedState=e},useTransition:function(){var e=au(!1),r=e[0];return e=Ng.bind(null,e[1]),en().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,s){var l=at,u=en();if(nt){if(s===void 0)throw Error(oe(407));s=s()}else{if(s=r(),Rt===null)throw Error(oe(349));ai&30||Yd(l,r,s)}u.memoizedState=s;var d={value:s,getSnapshot:r};return u.queue=d,lu(Qd.bind(null,l,d,e),[e]),l.flags|=2048,Q0(9,Kd.bind(null,l,d,s,r),void 0,null),s},useId:function(){var e=en(),r=Rt.identifierPrefix;if(nt){var s=un,l=cn;s=(l&~(1<<32-zr(l)-1)).toString(32)+s,r=":"+r+"R"+s,s=Y0++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=_g++,r=":"+r+"r"+s.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Tg={readContext:br,useCallback:nh,useContext:br,useEffect:Lc,useImperativeHandle:rh,useInsertionEffect:$d,useLayoutEffect:eh,useMemo:ih,useReducer:va,useRef:Jd,useState:function(){return va(K0)},useDebugValue:jc,useDeferredValue:function(e){var r=Tr();return sh(r,At.memoizedState,e)},useTransition:function(){var e=va(K0)[0],r=Tr().memoizedState;return[e,r]},useMutableSource:Wd,useSyncExternalStore:Xd,useId:oh,unstable_isNewReconciler:!1},Rg={readContext:br,useCallback:nh,useContext:br,useEffect:Lc,useImperativeHandle:rh,useInsertionEffect:$d,useLayoutEffect:eh,useMemo:ih,useReducer:Aa,useRef:Jd,useState:function(){return Aa(K0)},useDebugValue:jc,useDeferredValue:function(e){var r=Tr();return At===null?r.memoizedState=e:sh(r,At.memoizedState,e)},useTransition:function(){var e=Aa(K0)[0],r=Tr().memoizedState;return[e,r]},useMutableSource:Wd,useSyncExternalStore:Xd,useId:oh,unstable_isNewReconciler:!1};function Lr(e,r){if(e&&e.defaultProps){r=lt({},r),e=e.defaultProps;for(var s in e)r[s]===void 0&&(r[s]=e[s]);return r}return r}function Ul(e,r,s,l){r=e.memoizedState,s=s(l,r),s=s==null?r:lt({},r,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var No={isMounted:function(e){return(e=e._reactInternals)?fi(e)===e:!1},enqueueSetState:function(e,r,s){e=e._reactInternals;var l=qt(),u=jn(e),d=fn(l,u);d.payload=r,s!=null&&(d.callback=s),r=Pn(e,d,u),r!==null&&(Hr(r,e,u,l),Ps(r,e,u))},enqueueReplaceState:function(e,r,s){e=e._reactInternals;var l=qt(),u=jn(e),d=fn(l,u);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Pn(e,d,u),r!==null&&(Hr(r,e,u,l),Ps(r,e,u))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var s=qt(),l=jn(e),u=fn(s,l);u.tag=2,r!=null&&(u.callback=r),r=Pn(e,u,l),r!==null&&(Hr(r,e,l,s),Ps(r,e,l))}};function cu(e,r,s,l,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,p):r.prototype&&r.prototype.isPureReactComponent?!z0(s,l)||!z0(u,d):!0}function uh(e,r,s){var l=!1,u=Hn,d=r.contextType;return typeof d=="object"&&d!==null?d=br(d):(u=lr(r)?si:Yt.current,l=r.contextTypes,d=(l=l!=null)?Wi(e,u):Hn),r=new r(s,d),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=No,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),r}function uu(e,r,s,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==e&&No.enqueueReplaceState(r,r.state,null)}function zl(e,r,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Tc(e);var d=r.contextType;typeof d=="object"&&d!==null?u.context=br(d):(d=lr(r)?si:Yt.current,u.context=Wi(e,d)),u.state=e.memoizedState,d=r.getDerivedStateFromProps,typeof d=="function"&&(Ul(e,r,d,s),u.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(r=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),r!==u.state&&No.enqueueReplaceState(u,u.state,null),so(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Qi(e,r){try{var s="",l=r;do s+=o2(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:r,stack:u,digest:null}}function Sa(e,r,s){return{value:e,source:null,stack:s??null,digest:r??null}}function Hl(e,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Og=typeof WeakMap=="function"?WeakMap:Map;function fh(e,r,s){s=fn(-1,s),s.tag=3,s.payload={element:null};var l=r.value;return s.callback=function(){uo||(uo=!0,Jl=l),Hl(e,r)},s}function dh(e,r,s){s=fn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=r.value;s.payload=function(){return l(u)},s.callback=function(){Hl(e,r)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){Hl(e,r),typeof l!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),s}function fu(e,r,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Og;var u=new Set;l.set(r,u)}else u=l.get(r),u===void 0&&(u=new Set,l.set(r,u));u.has(s)||(u.add(s),e=Yg.bind(null,e,r,s),r.then(e,e))}function du(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function hu(e,r,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===r?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=fn(-1,1),r.tag=2,Pn(s,r,1))),s.lanes|=1),e)}var Fg=pn.ReactCurrentOwner,or=!1;function Zt(e,r,s,l){r.child=e===null?zd(r,null,s,l):Yi(r,e.child,s,l)}function xu(e,r,s,l,u){s=s.render;var d=r.ref;return Hi(r,u),l=Mc(e,r,s,l,d,u),s=Pc(),e!==null&&!or?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,gn(e,r,u)):(nt&&s&&Sc(r),r.flags|=1,Zt(e,r,l,u),r.child)}function gu(e,r,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Yc(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=d,hh(e,r,d,l,u)):(e=Vs(s.type,null,l,r,r.mode,u),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!(e.lanes&u)){var p=d.memoizedProps;if(s=s.compare,s=s!==null?s:z0,s(p,l)&&e.ref===r.ref)return gn(e,r,u)}return r.flags|=1,e=Un(d,l),e.ref=r.ref,e.return=r,r.child=e}function hh(e,r,s,l,u){if(e!==null){var d=e.memoizedProps;if(z0(d,l)&&e.ref===r.ref)if(or=!1,r.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(or=!0);else return r.lanes=e.lanes,gn(e,r,u)}return Vl(e,r,s,l,u)}function xh(e,r,s){var l=r.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Mi,hr),hr|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ze(Mi,hr),hr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,Ze(Mi,hr),hr|=l}else d!==null?(l=d.baseLanes|s,r.memoizedState=null):l=s,Ze(Mi,hr),hr|=l;return Zt(e,r,u,s),r.child}function gh(e,r){var s=r.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function Vl(e,r,s,l,u){var d=lr(s)?si:Yt.current;return d=Wi(r,d),Hi(r,u),s=Mc(e,r,s,l,d,u),l=Pc(),e!==null&&!or?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u,gn(e,r,u)):(nt&&l&&Sc(r),r.flags|=1,Zt(e,r,s,u),r.child)}function pu(e,r,s,l,u){if(lr(s)){var d=!0;eo(r)}else d=!1;if(Hi(r,u),r.stateNode===null)Us(e,r),uh(r,s,l),zl(r,s,l,u),l=!0;else if(e===null){var p=r.stateNode,m=r.memoizedProps;p.props=m;var w=p.context,g=s.contextType;typeof g=="object"&&g!==null?g=br(g):(g=lr(s)?si:Yt.current,g=Wi(r,g));var E=s.getDerivedStateFromProps,N=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";N||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==l||w!==g)&&uu(r,p,l,g),Dn=!1;var S=r.memoizedState;p.state=S,so(r,l,p,u),w=r.memoizedState,m!==l||S!==w||ar.current||Dn?(typeof E=="function"&&(Ul(r,s,E,l),w=r.memoizedState),(m=Dn||cu(r,s,m,l,S,w,g))?(N||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=w),p.props=l,p.state=w,p.context=g,l=m):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{p=r.stateNode,Vd(e,r),m=r.memoizedProps,g=r.type===r.elementType?m:Lr(r.type,m),p.props=g,N=r.pendingProps,S=p.context,w=s.contextType,typeof w=="object"&&w!==null?w=br(w):(w=lr(s)?si:Yt.current,w=Wi(r,w));var B=s.getDerivedStateFromProps;(E=typeof B=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(m!==N||S!==w)&&uu(r,p,l,w),Dn=!1,S=r.memoizedState,p.state=S,so(r,l,p,u);var R=r.memoizedState;m!==N||S!==R||ar.current||Dn?(typeof B=="function"&&(Ul(r,s,B,l),R=r.memoizedState),(g=Dn||cu(r,s,g,l,S,R,w)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,R,w),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,R,w)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=R),p.props=l,p.state=R,p.context=w,l=g):(typeof p.componentDidUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&S===e.memoizedState||(r.flags|=1024),l=!1)}return Gl(e,r,s,l,d,u)}function Gl(e,r,s,l,u,d){gh(e,r);var p=(r.flags&128)!==0;if(!l&&!p)return u&&tu(r,s,!1),gn(e,r,d);l=r.stateNode,Fg.current=r;var m=p&&typeof s.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&p?(r.child=Yi(r,e.child,null,d),r.child=Yi(r,null,m,d)):Zt(e,r,m,d),r.memoizedState=l.state,u&&tu(r,s,!0),r.child}function ph(e){var r=e.stateNode;r.pendingContext?eu(e,r.pendingContext,r.pendingContext!==r.context):r.context&&eu(e,r.context,!1),Rc(e,r.containerInfo)}function mu(e,r,s,l,u){return Xi(),_c(u),r.flags|=256,Zt(e,r,s,l),r.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,r,s){var l=r.pendingProps,u=ot.current,d=!1,p=(r.flags&128)!==0,m;if((m=p)||(m=e!==null&&e.memoizedState===null?!1:(u&2)!==0),m?(d=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ze(ot,u&1),e===null)return Ll(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(p=l.children,e=l.fallback,d?(l=r.mode,d=r.child,p={mode:"hidden",children:p},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=p):d=bo(p,l,0,null),e=ii(e,l,s,null),d.return=r,e.return=r,d.sibling=e,r.child=d,r.child.memoizedState=Xl(s),r.memoizedState=Wl,e):Uc(r,p));if(u=e.memoizedState,u!==null&&(m=u.dehydrated,m!==null))return kg(e,r,p,l,m,u,s);if(d){d=l.fallback,p=r.mode,u=e.child,m=u.sibling;var w={mode:"hidden",children:l.children};return!(p&1)&&r.child!==u?(l=r.child,l.childLanes=0,l.pendingProps=w,r.deletions=null):(l=Un(u,w),l.subtreeFlags=u.subtreeFlags&14680064),m!==null?d=Un(m,d):(d=ii(d,p,s,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,p=e.child.memoizedState,p=p===null?Xl(s):{baseLanes:p.baseLanes|s,cachePool:null,transitions:p.transitions},d.memoizedState=p,d.childLanes=e.childLanes&~s,r.memoizedState=Wl,l}return d=e.child,e=d.sibling,l=Un(d,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=s),l.return=r,l.sibling=null,e!==null&&(s=r.deletions,s===null?(r.deletions=[e],r.flags|=16):s.push(e)),r.child=l,r.memoizedState=null,l}function Uc(e,r){return r=bo({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Ns(e,r,s,l){return l!==null&&_c(l),Yi(r,e.child,null,s),e=Uc(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function kg(e,r,s,l,u,d,p){if(s)return r.flags&256?(r.flags&=-257,l=Sa(Error(oe(422))),Ns(e,r,p,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(d=l.fallback,u=r.mode,l=bo({mode:"visible",children:l.children},u,0,null),d=ii(d,u,p,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,r.mode&1&&Yi(r,e.child,null,p),r.child.memoizedState=Xl(p),r.memoizedState=Wl,d);if(!(r.mode&1))return Ns(e,r,p,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var m=l.dgst;return l=m,d=Error(oe(419)),l=Sa(d,l,void 0),Ns(e,r,p,l)}if(m=(p&e.childLanes)!==0,or||m){if(l=Rt,l!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|p)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,xn(e,u),Hr(l,e,u,-1))}return Xc(),l=Sa(Error(oe(421))),Ns(e,r,p,l)}return u.data==="$?"?(r.flags|=128,r.child=e.child,r=Kg.bind(null,e),u._reactRetry=r,null):(e=d.treeContext,xr=Mn(u.nextSibling),gr=r,nt=!0,Ur=null,e!==null&&(_r[Nr++]=cn,_r[Nr++]=un,_r[Nr++]=oi,cn=e.id,un=e.overflow,oi=r),r=Uc(r,l.children),r.flags|=4096,r)}function wu(e,r,s){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),jl(e.return,r,s)}function Ia(e,r,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function wh(e,r,s){var l=r.pendingProps,u=l.revealOrder,d=l.tail;if(Zt(e,r,l.children,s),l=ot.current,l&2)l=l&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wu(e,s,r);else if(e.tag===19)wu(e,s,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ze(ot,l),!(r.mode&1))r.memoizedState=null;else switch(u){case"forwards":for(s=r.child,u=null;s!==null;)e=s.alternate,e!==null&&oo(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=r.child,r.child=null):(u=s.sibling,s.sibling=null),Ia(r,!1,u,s,d);break;case"backwards":for(s=null,u=r.child,r.child=null;u!==null;){if(e=u.alternate,e!==null&&oo(e)===null){r.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Ia(r,!0,s,null,d);break;case"together":Ia(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Us(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function gn(e,r,s){if(e!==null&&(r.dependencies=e.dependencies),li|=r.lanes,!(s&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(oe(153));if(r.child!==null){for(e=r.child,s=Un(e,e.pendingProps),r.child=s,s.return=r;e.sibling!==null;)e=e.sibling,s=s.sibling=Un(e,e.pendingProps),s.return=r;s.sibling=null}return r.child}function Mg(e,r,s){switch(r.tag){case 3:ph(r),Xi();break;case 5:Gd(r);break;case 1:lr(r.type)&&eo(r);break;case 4:Rc(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,u=r.memoizedProps.value;Ze(no,l._currentValue),l._currentValue=u;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ze(ot,ot.current&1),r.flags|=128,null):s&r.child.childLanes?mh(e,r,s):(Ze(ot,ot.current&1),e=gn(e,r,s),e!==null?e.sibling:null);Ze(ot,ot.current&1);break;case 19:if(l=(s&r.childLanes)!==0,e.flags&128){if(l)return wh(e,r,s);r.flags|=128}if(u=r.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ze(ot,ot.current),l)break;return null;case 22:case 23:return r.lanes=0,xh(e,r,s)}return gn(e,r,s)}var yh,Yl,Ch,Eh;yh=function(e,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Yl=function(){};Ch=function(e,r,s,l){var u=e.memoizedProps;if(u!==l){e=r.stateNode,ri(nn.current);var d=null;switch(s){case"input":u=gl(e,u),l=gl(e,l),d=[];break;case"select":u=lt({},u,{value:void 0}),l=lt({},l,{value:void 0}),d=[];break;case"textarea":u=wl(e,u),l=wl(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Js)}Cl(s,l);var p;s=null;for(g in u)if(!l.hasOwnProperty(g)&&u.hasOwnProperty(g)&&u[g]!=null)if(g==="style"){var m=u[g];for(p in m)m.hasOwnProperty(p)&&(s||(s={}),s[p]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(F0.hasOwnProperty(g)?d||(d=[]):(d=d||[]).push(g,null));for(g in l){var w=l[g];if(m=u!=null?u[g]:void 0,l.hasOwnProperty(g)&&w!==m&&(w!=null||m!=null))if(g==="style")if(m){for(p in m)!m.hasOwnProperty(p)||w&&w.hasOwnProperty(p)||(s||(s={}),s[p]="");for(p in w)w.hasOwnProperty(p)&&m[p]!==w[p]&&(s||(s={}),s[p]=w[p])}else s||(d||(d=[]),d.push(g,s)),s=w;else g==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,m=m?m.__html:void 0,w!=null&&m!==w&&(d=d||[]).push(g,w)):g==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(g,""+w):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(F0.hasOwnProperty(g)?(w!=null&&g==="onScroll"&&Je("scroll",e),d||m===w||(d=[])):(d=d||[]).push(g,w))}s&&(d=d||[]).push("style",s);var g=d;(r.updateQueue=g)&&(r.flags|=4)}};Eh=function(e,r,s,l){s!==l&&(r.flags|=4)};function y0(e,r){if(!nt)switch(e.tailMode){case"hidden":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Wt(e){var r=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(r)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,r}function Pg(e,r,s){var l=r.pendingProps;switch(Ic(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(r),null;case 1:return lr(r.type)&&$s(),Wt(r),null;case 3:return l=r.stateNode,Ki(),et(ar),et(Yt),Fc(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Is(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ur!==null&&(tc(Ur),Ur=null))),Yl(e,r),Wt(r),null;case 5:Oc(r);var u=ri(X0.current);if(s=r.type,e!==null&&r.stateNode!=null)Ch(e,r,s,l,u),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(oe(166));return Wt(r),null}if(e=ri(nn.current),Is(r)){l=r.stateNode,s=r.type;var d=r.memoizedProps;switch(l[tn]=r,l[G0]=d,e=(r.mode&1)!==0,s){case"dialog":Je("cancel",l),Je("close",l);break;case"iframe":case"object":case"embed":Je("load",l);break;case"video":case"audio":for(u=0;u<S0.length;u++)Je(S0[u],l);break;case"source":Je("error",l);break;case"img":case"image":case"link":Je("error",l),Je("load",l);break;case"details":Je("toggle",l);break;case"input":N1(l,d),Je("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},Je("invalid",l);break;case"textarea":B1(l,d),Je("invalid",l)}Cl(s,d),u=null;for(var p in d)if(d.hasOwnProperty(p)){var m=d[p];p==="children"?typeof m=="string"?l.textContent!==m&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,m,e),u=["children",m]):typeof m=="number"&&l.textContent!==""+m&&(d.suppressHydrationWarning!==!0&&Ss(l.textContent,m,e),u=["children",""+m]):F0.hasOwnProperty(p)&&m!=null&&p==="onScroll"&&Je("scroll",l)}switch(s){case"input":ps(l),D1(l,d,!0);break;case"textarea":ps(l),b1(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Js)}l=u,r.updateQueue=l,l!==null&&(r.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qf(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=p.createElement(s,{is:l.is}):(e=p.createElement(s),s==="select"&&(p=e,l.multiple?p.multiple=!0:l.size&&(p.size=l.size))):e=p.createElementNS(e,s),e[tn]=r,e[G0]=l,yh(e,r,!1,!1),r.stateNode=e;e:{switch(p=El(s,l),s){case"dialog":Je("cancel",e),Je("close",e),u=l;break;case"iframe":case"object":case"embed":Je("load",e),u=l;break;case"video":case"audio":for(u=0;u<S0.length;u++)Je(S0[u],e);u=l;break;case"source":Je("error",e),u=l;break;case"img":case"image":case"link":Je("error",e),Je("load",e),u=l;break;case"details":Je("toggle",e),u=l;break;case"input":N1(e,l),u=gl(e,l),Je("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=lt({},l,{value:void 0}),Je("invalid",e);break;case"textarea":B1(e,l),u=wl(e,l),Je("invalid",e);break;default:u=l}Cl(s,u),m=u;for(d in m)if(m.hasOwnProperty(d)){var w=m[d];d==="style"?Jf(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Zf(e,w)):d==="children"?typeof w=="string"?(s!=="textarea"||w!=="")&&k0(e,w):typeof w=="number"&&k0(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(F0.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Je("scroll",e):w!=null&&uc(e,d,w,p))}switch(s){case"input":ps(e),D1(e,l,!1);break;case"textarea":ps(e),b1(e);break;case"option":l.value!=null&&e.setAttribute("value",""+zn(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?Li(e,!!l.multiple,d,!1):l.defaultValue!=null&&Li(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Js)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Wt(r),null;case 6:if(e&&r.stateNode!=null)Eh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(oe(166));if(s=ri(X0.current),ri(nn.current),Is(r)){if(l=r.stateNode,s=r.memoizedProps,l[tn]=r,(d=l.nodeValue!==s)&&(e=gr,e!==null))switch(e.tag){case 3:Ss(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(l.nodeValue,s,(e.mode&1)!==0)}d&&(r.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[tn]=r,r.stateNode=l}return Wt(r),null;case 13:if(et(ot),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&xr!==null&&r.mode&1&&!(r.flags&128))jd(),Xi(),r.flags|=98560,d=!1;else if(d=Is(r),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(oe(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(oe(317));d[tn]=r}else Xi(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Wt(r),d=!1}else Ur!==null&&(tc(Ur),Ur=null),d=!0;if(!d)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(e===null||ot.current&1?St===0&&(St=3):Xc())),r.updateQueue!==null&&(r.flags|=4),Wt(r),null);case 4:return Ki(),Yl(e,r),e===null&&H0(r.stateNode.containerInfo),Wt(r),null;case 10:return Bc(r.type._context),Wt(r),null;case 17:return lr(r.type)&&$s(),Wt(r),null;case 19:if(et(ot),d=r.memoizedState,d===null)return Wt(r),null;if(l=(r.flags&128)!==0,p=d.rendering,p===null)if(l)y0(d,!1);else{if(St!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(p=oo(e),p!==null){for(r.flags|=128,y0(d,!1),l=p.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=s,s=r.child;s!==null;)d=s,e=l,d.flags&=14680066,p=d.alternate,p===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=p.childLanes,d.lanes=p.lanes,d.child=p.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=p.memoizedProps,d.memoizedState=p.memoizedState,d.updateQueue=p.updateQueue,d.type=p.type,e=p.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ze(ot,ot.current&1|2),r.child}e=e.sibling}d.tail!==null&&wt()>Zi&&(r.flags|=128,l=!0,y0(d,!1),r.lanes=4194304)}else{if(!l)if(e=oo(p),e!==null){if(r.flags|=128,l=!0,s=e.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),y0(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!nt)return Wt(r),null}else 2*wt()-d.renderingStartTime>Zi&&s!==1073741824&&(r.flags|=128,l=!0,y0(d,!1),r.lanes=4194304);d.isBackwards?(p.sibling=r.child,r.child=p):(s=d.last,s!==null?s.sibling=p:r.child=p,d.last=p)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=wt(),r.sibling=null,s=ot.current,Ze(ot,l?s&1|2:s&1),r):(Wt(r),null);case 22:case 23:return Wc(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?hr&1073741824&&(Wt(r),r.subtreeFlags&6&&(r.flags|=8192)):Wt(r),null;case 24:return null;case 25:return null}throw Error(oe(156,r.tag))}function Lg(e,r){switch(Ic(r),r.tag){case 1:return lr(r.type)&&$s(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Ki(),et(ar),et(Yt),Fc(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Oc(r),null;case 13:if(et(ot),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(oe(340));Xi()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return et(ot),null;case 4:return Ki(),null;case 10:return Bc(r.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var Ds=!1,Xt=!1,jg=typeof WeakSet=="function"?WeakSet:Set,we=null;function ki(e,r){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){gt(e,r,l)}else s.current=null}function Kl(e,r,s){try{s()}catch(l){gt(e,r,l)}}var yu=!1;function Ug(e,r){if(Tl=Qs,e=_d(),Ac(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var p=0,m=-1,w=-1,g=0,E=0,N=e,S=null;t:for(;;){for(var B;N!==s||u!==0&&N.nodeType!==3||(m=p+u),N!==d||l!==0&&N.nodeType!==3||(w=p+l),N.nodeType===3&&(p+=N.nodeValue.length),(B=N.firstChild)!==null;)S=N,N=B;for(;;){if(N===e)break t;if(S===s&&++g===u&&(m=p),S===d&&++E===l&&(w=p),(B=N.nextSibling)!==null)break;N=S,S=N.parentNode}N=B}s=m===-1||w===-1?null:{start:m,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rl={focusedElem:e,selectionRange:s},Qs=!1,we=r;we!==null;)if(r=we,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,we=e;else for(;we!==null;){r=we;try{var R=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var O=R.memoizedProps,P=R.memoizedState,D=r.stateNode,C=D.getSnapshotBeforeUpdate(r.elementType===r.type?O:Lr(r.type,O),P);D.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var v=r.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(T){gt(r,r.return,T)}if(e=r.sibling,e!==null){e.return=r.return,we=e;break}we=r.return}return R=yu,yu=!1,R}function T0(e,r,s){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Kl(r,s,d)}u=u.next}while(u!==l)}}function Do(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==r)}}function Ql(e){var r=e.ref;if(r!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof r=="function"?r(e):r.current=e}}function vh(e){var r=e.alternate;r!==null&&(e.alternate=null,vh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[tn],delete r[G0],delete r[kl],delete r[vg],delete r[Ag])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ah(e){return e.tag===5||e.tag===3||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zl(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(e,r):s.insertBefore(e,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(e,s)):(r=s,r.appendChild(e)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Js));else if(l!==4&&(e=e.child,e!==null))for(Zl(e,r,s),e=e.sibling;e!==null;)Zl(e,r,s),e=e.sibling}function ql(e,r,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?s.insertBefore(e,r):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ql(e,r,s),e=e.sibling;e!==null;)ql(e,r,s),e=e.sibling}var Ut=null,jr=!1;function _n(e,r,s){for(s=s.child;s!==null;)Sh(e,r,s),s=s.sibling}function Sh(e,r,s){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Co,s)}catch{}switch(s.tag){case 5:Xt||ki(s,r);case 6:var l=Ut,u=jr;Ut=null,_n(e,r,s),Ut=l,jr=u,Ut!==null&&(jr?(e=Ut,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ut.removeChild(s.stateNode));break;case 18:Ut!==null&&(jr?(e=Ut,s=s.stateNode,e.nodeType===8?wa(e.parentNode,s):e.nodeType===1&&wa(e,s),j0(e)):wa(Ut,s.stateNode));break;case 4:l=Ut,u=jr,Ut=s.stateNode.containerInfo,jr=!0,_n(e,r,s),Ut=l,jr=u;break;case 0:case 11:case 14:case 15:if(!Xt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,p=d.destroy;d=d.tag,p!==void 0&&(d&2||d&4)&&Kl(s,r,p),u=u.next}while(u!==l)}_n(e,r,s);break;case 1:if(!Xt&&(ki(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(m){gt(s,r,m)}_n(e,r,s);break;case 21:_n(e,r,s);break;case 22:s.mode&1?(Xt=(l=Xt)||s.memoizedState!==null,_n(e,r,s),Xt=l):_n(e,r,s);break;default:_n(e,r,s)}}function Eu(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new jg),r.forEach(function(l){var u=Qg.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Pr(e,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,p=r,m=p;e:for(;m!==null;){switch(m.tag){case 5:Ut=m.stateNode,jr=!1;break e;case 3:Ut=m.stateNode.containerInfo,jr=!0;break e;case 4:Ut=m.stateNode.containerInfo,jr=!0;break e}m=m.return}if(Ut===null)throw Error(oe(160));Sh(d,p,u),Ut=null,jr=!1;var w=u.alternate;w!==null&&(w.return=null),u.return=null}catch(g){gt(u,r,g)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ih(r,e),r=r.sibling}function Ih(e,r){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Pr(r,e),$r(e),l&4){try{T0(3,e,e.return),Do(3,e)}catch(O){gt(e,e.return,O)}try{T0(5,e,e.return)}catch(O){gt(e,e.return,O)}}break;case 1:Pr(r,e),$r(e),l&512&&s!==null&&ki(s,s.return);break;case 5:if(Pr(r,e),$r(e),l&512&&s!==null&&ki(s,s.return),e.flags&32){var u=e.stateNode;try{k0(u,"")}catch(O){gt(e,e.return,O)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,p=s!==null?s.memoizedProps:d,m=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{m==="input"&&d.type==="radio"&&d.name!=null&&Yf(u,d),El(m,p);var g=El(m,d);for(p=0;p<w.length;p+=2){var E=w[p],N=w[p+1];E==="style"?Jf(u,N):E==="dangerouslySetInnerHTML"?Zf(u,N):E==="children"?k0(u,N):uc(u,E,N,g)}switch(m){case"input":pl(u,d);break;case"textarea":Kf(u,d);break;case"select":var S=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var B=d.value;B!=null?Li(u,!!d.multiple,B,!1):S!==!!d.multiple&&(d.defaultValue!=null?Li(u,!!d.multiple,d.defaultValue,!0):Li(u,!!d.multiple,d.multiple?[]:"",!1))}u[G0]=d}catch(O){gt(e,e.return,O)}}break;case 6:if(Pr(r,e),$r(e),l&4){if(e.stateNode===null)throw Error(oe(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(O){gt(e,e.return,O)}}break;case 3:if(Pr(r,e),$r(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{j0(r.containerInfo)}catch(O){gt(e,e.return,O)}break;case 4:Pr(r,e),$r(e);break;case 13:Pr(r,e),$r(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(Vc=wt())),l&4&&Eu(e);break;case 22:if(E=s!==null&&s.memoizedState!==null,e.mode&1?(Xt=(g=Xt)||E,Pr(r,e),Xt=g):Pr(r,e),$r(e),l&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!E&&e.mode&1)for(we=e,E=e.child;E!==null;){for(N=we=E;we!==null;){switch(S=we,B=S.child,S.tag){case 0:case 11:case 14:case 15:T0(4,S,S.return);break;case 1:ki(S,S.return);var R=S.stateNode;if(typeof R.componentWillUnmount=="function"){l=S,s=S.return;try{r=l,R.props=r.memoizedProps,R.state=r.memoizedState,R.componentWillUnmount()}catch(O){gt(l,s,O)}}break;case 5:ki(S,S.return);break;case 22:if(S.memoizedState!==null){Au(N);continue}}B!==null?(B.return=S,we=B):Au(N)}E=E.sibling}e:for(E=null,N=e;;){if(N.tag===5){if(E===null){E=N;try{u=N.stateNode,g?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(m=N.stateNode,w=N.memoizedProps.style,p=w!=null&&w.hasOwnProperty("display")?w.display:null,m.style.display=qf("display",p))}catch(O){gt(e,e.return,O)}}}else if(N.tag===6){if(E===null)try{N.stateNode.nodeValue=g?"":N.memoizedProps}catch(O){gt(e,e.return,O)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===e)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===e)break e;for(;N.sibling===null;){if(N.return===null||N.return===e)break e;E===N&&(E=null),N=N.return}E===N&&(E=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:Pr(r,e),$r(e),l&4&&Eu(e);break;case 21:break;default:Pr(r,e),$r(e)}}function $r(e){var r=e.flags;if(r&2){try{e:{for(var s=e.return;s!==null;){if(Ah(s)){var l=s;break e}s=s.return}throw Error(oe(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(k0(u,""),l.flags&=-33);var d=Cu(e);ql(e,d,u);break;case 3:case 4:var p=l.stateNode.containerInfo,m=Cu(e);Zl(e,m,p);break;default:throw Error(oe(161))}}catch(w){gt(e,e.return,w)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function zg(e,r,s){we=e,_h(e)}function _h(e,r,s){for(var l=(e.mode&1)!==0;we!==null;){var u=we,d=u.child;if(u.tag===22&&l){var p=u.memoizedState!==null||Ds;if(!p){var m=u.alternate,w=m!==null&&m.memoizedState!==null||Xt;m=Ds;var g=Xt;if(Ds=p,(Xt=w)&&!g)for(we=u;we!==null;)p=we,w=p.child,p.tag===22&&p.memoizedState!==null?Su(u):w!==null?(w.return=p,we=w):Su(u);for(;d!==null;)we=d,_h(d),d=d.sibling;we=u,Ds=m,Xt=g}vu(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,we=d):vu(e)}}function vu(e){for(;we!==null;){var r=we;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Xt||Do(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Xt)if(s===null)l.componentDidMount();else{var u=r.elementType===r.type?s.memoizedProps:Lr(r.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=r.updateQueue;d!==null&&ou(r,d,l);break;case 3:var p=r.updateQueue;if(p!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}ou(r,p,s)}break;case 5:var m=r.stateNode;if(s===null&&r.flags&4){s=m;var w=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&s.focus();break;case"img":w.src&&(s.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var g=r.alternate;if(g!==null){var E=g.memoizedState;if(E!==null){var N=E.dehydrated;N!==null&&j0(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Xt||r.flags&512&&Ql(r)}catch(S){gt(r,r.return,S)}}if(r===e){we=null;break}if(s=r.sibling,s!==null){s.return=r.return,we=s;break}we=r.return}}function Au(e){for(;we!==null;){var r=we;if(r===e){we=null;break}var s=r.sibling;if(s!==null){s.return=r.return,we=s;break}we=r.return}}function Su(e){for(;we!==null;){var r=we;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Do(4,r)}catch(w){gt(r,s,w)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var u=r.return;try{l.componentDidMount()}catch(w){gt(r,u,w)}}var d=r.return;try{Ql(r)}catch(w){gt(r,d,w)}break;case 5:var p=r.return;try{Ql(r)}catch(w){gt(r,p,w)}}}catch(w){gt(r,r.return,w)}if(r===e){we=null;break}var m=r.sibling;if(m!==null){m.return=r.return,we=m;break}we=r.return}}var Hg=Math.ceil,co=pn.ReactCurrentDispatcher,zc=pn.ReactCurrentOwner,Br=pn.ReactCurrentBatchConfig,Le=0,Rt=null,Ct=null,zt=0,hr=0,Mi=Gn(0),St=0,Z0=null,li=0,Bo=0,Hc=0,R0=null,sr=null,Vc=0,Zi=1/0,an=null,uo=!1,Jl=null,Ln=null,Bs=!1,Rn=null,fo=0,O0=0,$l=null,zs=-1,Hs=0;function qt(){return Le&6?wt():zs!==-1?zs:zs=wt()}function jn(e){return e.mode&1?Le&2&&zt!==0?zt&-zt:Ig.transition!==null?(Hs===0&&(Hs=ud()),Hs):(e=Ge,e!==0||(e=window.event,e=e===void 0?16:md(e.type)),e):1}function Hr(e,r,s,l){if(50<O0)throw O0=0,$l=null,Error(oe(185));J0(e,s,l),(!(Le&2)||e!==Rt)&&(e===Rt&&(!(Le&2)&&(Bo|=s),St===4&&bn(e,zt)),cr(e,l),s===1&&Le===0&&!(r.mode&1)&&(Zi=wt()+500,Io&&Wn()))}function cr(e,r){var s=e.callbackNode;I2(e,r);var l=Ks(e,e===Rt?zt:0);if(l===0)s!==null&&O1(s),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(s!=null&&O1(s),r===1)e.tag===0?Sg(Iu.bind(null,e)):Md(Iu.bind(null,e)),Cg(function(){!(Le&6)&&Wn()}),s=null;else{switch(fd(l)){case 1:s=gc;break;case 4:s=ld;break;case 16:s=Ys;break;case 536870912:s=cd;break;default:s=Ys}s=Fh(s,Nh.bind(null,e))}e.callbackPriority=r,e.callbackNode=s}}function Nh(e,r){if(zs=-1,Hs=0,Le&6)throw Error(oe(327));var s=e.callbackNode;if(Vi()&&e.callbackNode!==s)return null;var l=Ks(e,e===Rt?zt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||r)r=ho(e,l);else{r=l;var u=Le;Le|=2;var d=Bh();(Rt!==e||zt!==r)&&(an=null,Zi=wt()+500,ni(e,r));do try{Wg();break}catch(m){Dh(e,m)}while(!0);Dc(),co.current=d,Le=u,Ct!==null?r=0:(Rt=null,zt=0,r=St)}if(r!==0){if(r===2&&(u=_l(e),u!==0&&(l=u,r=ec(e,u))),r===1)throw s=Z0,ni(e,0),bn(e,l),cr(e,wt()),s;if(r===6)bn(e,l);else{if(u=e.current.alternate,!(l&30)&&!Vg(u)&&(r=ho(e,l),r===2&&(d=_l(e),d!==0&&(l=d,r=ec(e,d))),r===1))throw s=Z0,ni(e,0),bn(e,l),cr(e,wt()),s;switch(e.finishedWork=u,e.finishedLanes=l,r){case 0:case 1:throw Error(oe(345));case 2:$n(e,sr,an);break;case 3:if(bn(e,l),(l&130023424)===l&&(r=Vc+500-wt(),10<r)){if(Ks(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){qt(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Fl($n.bind(null,e,sr,an),r);break}$n(e,sr,an);break;case 4:if(bn(e,l),(l&4194240)===l)break;for(r=e.eventTimes,u=-1;0<l;){var p=31-zr(l);d=1<<p,p=r[p],p>u&&(u=p),l&=~d}if(l=u,l=wt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Hg(l/1960))-l,10<l){e.timeoutHandle=Fl($n.bind(null,e,sr,an),l);break}$n(e,sr,an);break;case 5:$n(e,sr,an);break;default:throw Error(oe(329))}}}return cr(e,wt()),e.callbackNode===s?Nh.bind(null,e):null}function ec(e,r){var s=R0;return e.current.memoizedState.isDehydrated&&(ni(e,r).flags|=256),e=ho(e,r),e!==2&&(r=sr,sr=s,r!==null&&tc(r)),e}function tc(e){sr===null?sr=e:sr.push.apply(sr,e)}function Vg(e){for(var r=e;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!Vr(d(),u))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function bn(e,r){for(r&=~Hc,r&=~Bo,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var s=31-zr(r),l=1<<s;e[s]=-1,r&=~l}}function Iu(e){if(Le&6)throw Error(oe(327));Vi();var r=Ks(e,0);if(!(r&1))return cr(e,wt()),null;var s=ho(e,r);if(e.tag!==0&&s===2){var l=_l(e);l!==0&&(r=l,s=ec(e,l))}if(s===1)throw s=Z0,ni(e,0),bn(e,r),cr(e,wt()),s;if(s===6)throw Error(oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,$n(e,sr,an),cr(e,wt()),null}function Gc(e,r){var s=Le;Le|=1;try{return e(r)}finally{Le=s,Le===0&&(Zi=wt()+500,Io&&Wn())}}function ci(e){Rn!==null&&Rn.tag===0&&!(Le&6)&&Vi();var r=Le;Le|=1;var s=Br.transition,l=Ge;try{if(Br.transition=null,Ge=1,e)return e()}finally{Ge=l,Br.transition=s,Le=r,!(Le&6)&&Wn()}}function Wc(){hr=Mi.current,et(Mi)}function ni(e,r){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,yg(s)),Ct!==null)for(s=Ct.return;s!==null;){var l=s;switch(Ic(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&$s();break;case 3:Ki(),et(ar),et(Yt),Fc();break;case 5:Oc(l);break;case 4:Ki();break;case 13:et(ot);break;case 19:et(ot);break;case 10:Bc(l.type._context);break;case 22:case 23:Wc()}s=s.return}if(Rt=e,Ct=e=Un(e.current,null),zt=hr=r,St=0,Z0=null,Hc=Bo=li=0,sr=R0=null,ti!==null){for(r=0;r<ti.length;r++)if(s=ti[r],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var p=d.next;d.next=u,l.next=p}s.pending=l}ti=null}return e}function Dh(e,r){do{var s=Ct;try{if(Dc(),Ls.current=lo,ao){for(var l=at.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ao=!1}if(ai=0,Tt=At=at=null,b0=!1,Y0=0,zc.current=null,s===null||s.return===null){St=1,Z0=r,Ct=null;break}e:{var d=e,p=s.return,m=s,w=r;if(r=zt,m.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var g=w,E=m,N=E.tag;if(!(E.mode&1)&&(N===0||N===11||N===15)){var S=E.alternate;S?(E.updateQueue=S.updateQueue,E.memoizedState=S.memoizedState,E.lanes=S.lanes):(E.updateQueue=null,E.memoizedState=null)}var B=du(p);if(B!==null){B.flags&=-257,hu(B,p,m,d,r),B.mode&1&&fu(d,g,r),r=B,w=g;var R=r.updateQueue;if(R===null){var O=new Set;O.add(w),r.updateQueue=O}else R.add(w);break e}else{if(!(r&1)){fu(d,g,r),Xc();break e}w=Error(oe(426))}}else if(nt&&m.mode&1){var P=du(p);if(P!==null){!(P.flags&65536)&&(P.flags|=256),hu(P,p,m,d,r),_c(Qi(w,m));break e}}d=w=Qi(w,m),St!==4&&(St=2),R0===null?R0=[d]:R0.push(d),d=p;do{switch(d.tag){case 3:d.flags|=65536,r&=-r,d.lanes|=r;var D=fh(d,w,r);su(d,D);break e;case 1:m=w;var C=d.type,v=d.stateNode;if(!(d.flags&128)&&(typeof C.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ln===null||!Ln.has(v)))){d.flags|=65536,r&=-r,d.lanes|=r;var T=dh(d,m,r);su(d,T);break e}}d=d.return}while(d!==null)}Th(s)}catch(j){r=j,Ct===s&&s!==null&&(Ct=s=s.return);continue}break}while(!0)}function Bh(){var e=co.current;return co.current=lo,e===null?lo:e}function Xc(){(St===0||St===3||St===2)&&(St=4),Rt===null||!(li&268435455)&&!(Bo&268435455)||bn(Rt,zt)}function ho(e,r){var s=Le;Le|=2;var l=Bh();(Rt!==e||zt!==r)&&(an=null,ni(e,r));do try{Gg();break}catch(u){Dh(e,u)}while(!0);if(Dc(),Le=s,co.current=l,Ct!==null)throw Error(oe(261));return Rt=null,zt=0,St}function Gg(){for(;Ct!==null;)bh(Ct)}function Wg(){for(;Ct!==null&&!p2();)bh(Ct)}function bh(e){var r=Oh(e.alternate,e,hr);e.memoizedProps=e.pendingProps,r===null?Th(e):Ct=r,zc.current=null}function Th(e){var r=e;do{var s=r.alternate;if(e=r.return,r.flags&32768){if(s=Lg(s,r),s!==null){s.flags&=32767,Ct=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{St=6,Ct=null;return}}else if(s=Pg(s,r,hr),s!==null){Ct=s;return}if(r=r.sibling,r!==null){Ct=r;return}Ct=r=e}while(r!==null);St===0&&(St=5)}function $n(e,r,s){var l=Ge,u=Br.transition;try{Br.transition=null,Ge=1,Xg(e,r,s,l)}finally{Br.transition=u,Ge=l}return null}function Xg(e,r,s,l){do Vi();while(Rn!==null);if(Le&6)throw Error(oe(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(oe(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(_2(e,d),e===Rt&&(Ct=Rt=null,zt=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Bs||(Bs=!0,Fh(Ys,function(){return Vi(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Br.transition,Br.transition=null;var p=Ge;Ge=1;var m=Le;Le|=4,zc.current=null,Ug(e,s),Ih(s,e),dg(Rl),Qs=!!Tl,Rl=Tl=null,e.current=s,zg(s),m2(),Le=m,Ge=p,Br.transition=d}else e.current=s;if(Bs&&(Bs=!1,Rn=e,fo=u),d=e.pendingLanes,d===0&&(Ln=null),C2(s.stateNode),cr(e,wt()),r!==null)for(l=e.onRecoverableError,s=0;s<r.length;s++)u=r[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(uo)throw uo=!1,e=Jl,Jl=null,e;return fo&1&&e.tag!==0&&Vi(),d=e.pendingLanes,d&1?e===$l?O0++:(O0=0,$l=e):O0=0,Wn(),null}function Vi(){if(Rn!==null){var e=fd(fo),r=Br.transition,s=Ge;try{if(Br.transition=null,Ge=16>e?16:e,Rn===null)var l=!1;else{if(e=Rn,Rn=null,fo=0,Le&6)throw Error(oe(331));var u=Le;for(Le|=4,we=e.current;we!==null;){var d=we,p=d.child;if(we.flags&16){var m=d.deletions;if(m!==null){for(var w=0;w<m.length;w++){var g=m[w];for(we=g;we!==null;){var E=we;switch(E.tag){case 0:case 11:case 15:T0(8,E,d)}var N=E.child;if(N!==null)N.return=E,we=N;else for(;we!==null;){E=we;var S=E.sibling,B=E.return;if(vh(E),E===g){we=null;break}if(S!==null){S.return=B,we=S;break}we=B}}}var R=d.alternate;if(R!==null){var O=R.child;if(O!==null){R.child=null;do{var P=O.sibling;O.sibling=null,O=P}while(O!==null)}}we=d}}if(d.subtreeFlags&2064&&p!==null)p.return=d,we=p;else e:for(;we!==null;){if(d=we,d.flags&2048)switch(d.tag){case 0:case 11:case 15:T0(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,we=D;break e}we=d.return}}var C=e.current;for(we=C;we!==null;){p=we;var v=p.child;if(p.subtreeFlags&2064&&v!==null)v.return=p,we=v;else e:for(p=C;we!==null;){if(m=we,m.flags&2048)try{switch(m.tag){case 0:case 11:case 15:Do(9,m)}}catch(j){gt(m,m.return,j)}if(m===p){we=null;break e}var T=m.sibling;if(T!==null){T.return=m.return,we=T;break e}we=m.return}}if(Le=u,Wn(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Co,e)}catch{}l=!0}return l}finally{Ge=s,Br.transition=r}}return!1}function _u(e,r,s){r=Qi(s,r),r=fh(e,r,1),e=Pn(e,r,1),r=qt(),e!==null&&(J0(e,1,r),cr(e,r))}function gt(e,r,s){if(e.tag===3)_u(e,e,s);else for(;r!==null;){if(r.tag===3){_u(r,e,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ln===null||!Ln.has(l))){e=Qi(s,e),e=dh(r,e,1),r=Pn(r,e,1),e=qt(),r!==null&&(J0(r,1,e),cr(r,e));break}}r=r.return}}function Yg(e,r,s){var l=e.pingCache;l!==null&&l.delete(r),r=qt(),e.pingedLanes|=e.suspendedLanes&s,Rt===e&&(zt&s)===s&&(St===4||St===3&&(zt&130023424)===zt&&500>wt()-Vc?ni(e,0):Hc|=s),cr(e,r)}function Rh(e,r){r===0&&(e.mode&1?(r=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):r=1);var s=qt();e=xn(e,r),e!==null&&(J0(e,r,s),cr(e,s))}function Kg(e){var r=e.memoizedState,s=0;r!==null&&(s=r.retryLane),Rh(e,s)}function Qg(e,r){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(oe(314))}l!==null&&l.delete(r),Rh(e,s)}var Oh;Oh=function(e,r,s){if(e!==null)if(e.memoizedProps!==r.pendingProps||ar.current)or=!0;else{if(!(e.lanes&s)&&!(r.flags&128))return or=!1,Mg(e,r,s);or=!!(e.flags&131072)}else or=!1,nt&&r.flags&1048576&&Pd(r,ro,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Us(e,r),e=r.pendingProps;var u=Wi(r,Yt.current);Hi(r,s),u=Mc(null,r,l,e,u,s);var d=Pc();return r.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,lr(l)?(d=!0,eo(r)):d=!1,r.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Tc(r),u.updater=No,r.stateNode=u,u._reactInternals=r,zl(r,l,e,s),r=Gl(null,r,l,!0,d,s)):(r.tag=0,nt&&d&&Sc(r),Zt(null,r,u,s),r=r.child),r;case 16:l=r.elementType;e:{switch(Us(e,r),e=r.pendingProps,u=l._init,l=u(l._payload),r.type=l,u=r.tag=qg(l),e=Lr(l,e),u){case 0:r=Vl(null,r,l,e,s);break e;case 1:r=pu(null,r,l,e,s);break e;case 11:r=xu(null,r,l,e,s);break e;case 14:r=gu(null,r,l,Lr(l.type,e),s);break e}throw Error(oe(306,l,""))}return r;case 0:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Lr(l,u),Vl(e,r,l,u,s);case 1:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Lr(l,u),pu(e,r,l,u,s);case 3:e:{if(ph(r),e===null)throw Error(oe(387));l=r.pendingProps,d=r.memoizedState,u=d.element,Vd(e,r),so(r,l,null,s);var p=r.memoizedState;if(l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){u=Qi(Error(oe(423)),r),r=mu(e,r,l,s,u);break e}else if(l!==u){u=Qi(Error(oe(424)),r),r=mu(e,r,l,s,u);break e}else for(xr=Mn(r.stateNode.containerInfo.firstChild),gr=r,nt=!0,Ur=null,s=zd(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xi(),l===u){r=gn(e,r,s);break e}Zt(e,r,l,s)}r=r.child}return r;case 5:return Gd(r),e===null&&Ll(r),l=r.type,u=r.pendingProps,d=e!==null?e.memoizedProps:null,p=u.children,Ol(l,u)?p=null:d!==null&&Ol(l,d)&&(r.flags|=32),gh(e,r),Zt(e,r,p,s),r.child;case 6:return e===null&&Ll(r),null;case 13:return mh(e,r,s);case 4:return Rc(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Yi(r,null,l,s):Zt(e,r,l,s),r.child;case 11:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Lr(l,u),xu(e,r,l,u,s);case 7:return Zt(e,r,r.pendingProps,s),r.child;case 8:return Zt(e,r,r.pendingProps.children,s),r.child;case 12:return Zt(e,r,r.pendingProps.children,s),r.child;case 10:e:{if(l=r.type._context,u=r.pendingProps,d=r.memoizedProps,p=u.value,Ze(no,l._currentValue),l._currentValue=p,d!==null)if(Vr(d.value,p)){if(d.children===u.children&&!ar.current){r=gn(e,r,s);break e}}else for(d=r.child,d!==null&&(d.return=r);d!==null;){var m=d.dependencies;if(m!==null){p=d.child;for(var w=m.firstContext;w!==null;){if(w.context===l){if(d.tag===1){w=fn(-1,s&-s),w.tag=2;var g=d.updateQueue;if(g!==null){g=g.shared;var E=g.pending;E===null?w.next=w:(w.next=E.next,E.next=w),g.pending=w}}d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),jl(d.return,s,r),m.lanes|=s;break}w=w.next}}else if(d.tag===10)p=d.type===r.type?null:d.child;else if(d.tag===18){if(p=d.return,p===null)throw Error(oe(341));p.lanes|=s,m=p.alternate,m!==null&&(m.lanes|=s),jl(p,s,r),p=d.sibling}else p=d.child;if(p!==null)p.return=d;else for(p=d;p!==null;){if(p===r){p=null;break}if(d=p.sibling,d!==null){d.return=p.return,p=d;break}p=p.return}d=p}Zt(e,r,u.children,s),r=r.child}return r;case 9:return u=r.type,l=r.pendingProps.children,Hi(r,s),u=br(u),l=l(u),r.flags|=1,Zt(e,r,l,s),r.child;case 14:return l=r.type,u=Lr(l,r.pendingProps),u=Lr(l.type,u),gu(e,r,l,u,s);case 15:return hh(e,r,r.type,r.pendingProps,s);case 17:return l=r.type,u=r.pendingProps,u=r.elementType===l?u:Lr(l,u),Us(e,r),r.tag=1,lr(l)?(e=!0,eo(r)):e=!1,Hi(r,s),uh(r,l,u),zl(r,l,u,s),Gl(null,r,l,!0,e,s);case 19:return wh(e,r,s);case 22:return xh(e,r,s)}throw Error(oe(156,r.tag))};function Fh(e,r){return ad(e,r)}function Zg(e,r,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,r,s,l){return new Zg(e,r,s,l)}function Yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qg(e){if(typeof e=="function")return Yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dc)return 11;if(e===hc)return 14}return 2}function Un(e,r){var s=e.alternate;return s===null?(s=Dr(e.tag,r,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=r,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,r=e.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vs(e,r,s,l,u,d){var p=2;if(l=e,typeof e=="function")Yc(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case _i:return ii(s.children,u,d,r);case fc:p=8,u|=8;break;case fl:return e=Dr(12,s,r,u|2),e.elementType=fl,e.lanes=d,e;case dl:return e=Dr(13,s,r,u),e.elementType=dl,e.lanes=d,e;case hl:return e=Dr(19,s,r,u),e.elementType=hl,e.lanes=d,e;case Gf:return bo(s,u,d,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hf:p=10;break e;case Vf:p=9;break e;case dc:p=11;break e;case hc:p=14;break e;case Nn:p=16,l=null;break e}throw Error(oe(130,e==null?e:typeof e,""))}return r=Dr(p,s,r,u),r.elementType=e,r.type=l,r.lanes=d,r}function ii(e,r,s,l){return e=Dr(7,e,l,r),e.lanes=s,e}function bo(e,r,s,l){return e=Dr(22,e,l,r),e.elementType=Gf,e.lanes=s,e.stateNode={isHidden:!1},e}function _a(e,r,s){return e=Dr(6,e,null,r),e.lanes=s,e}function Na(e,r,s){return r=Dr(4,e.children!==null?e.children:[],e.key,r),r.lanes=s,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Jg(e,r,s,l,u){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=aa(0),this.expirationTimes=aa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=aa(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Kc(e,r,s,l,u,d,p,m,w){return e=new Jg(e,r,s,m,w),r===1?(r=1,d===!0&&(r|=8)):r=0,d=Dr(3,null,null,r),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tc(d),e}function $g(e,r,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:l==null?null:""+l,children:e,containerInfo:r,implementation:s}}function kh(e){if(!e)return Hn;e=e._reactInternals;e:{if(fi(e)!==e||e.tag!==1)throw Error(oe(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(lr(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(oe(171))}if(e.tag===1){var s=e.type;if(lr(s))return kd(e,s,r)}return r}function Mh(e,r,s,l,u,d,p,m,w){return e=Kc(s,l,!0,e,u,d,p,m,w),e.context=kh(null),s=e.current,l=qt(),u=jn(s),d=fn(l,u),d.callback=r??null,Pn(s,d,u),e.current.lanes=u,J0(e,u,l),cr(e,l),e}function To(e,r,s,l){var u=r.current,d=qt(),p=jn(u);return s=kh(s),r.context===null?r.context=s:r.pendingContext=s,r=fn(d,p),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=Pn(u,r,p),e!==null&&(Hr(e,u,p,d),Ps(e,u,p)),p}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<r?s:r}}function Qc(e,r){Nu(e,r),(e=e.alternate)&&Nu(e,r)}function ep(){return null}var Ph=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}Ro.prototype.render=Zc.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(oe(409));To(e,r,null,null)};Ro.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ci(function(){To(null,e,null,null)}),r[hn]=null}};function Ro(e){this._internalRoot=e}Ro.prototype.unstable_scheduleHydration=function(e){if(e){var r=xd();e={blockedOn:null,target:e,priority:r};for(var s=0;s<Bn.length&&r!==0&&r<Bn[s].priority;s++);Bn.splice(s,0,e),s===0&&pd(e)}};function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Du(){}function tp(e,r,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var g=xo(p);d.call(g)}}var p=Mh(r,l,e,0,null,!1,!1,"",Du);return e._reactRootContainer=p,e[hn]=p.current,H0(e.nodeType===8?e.parentNode:e),ci(),p}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var m=l;l=function(){var g=xo(w);m.call(g)}}var w=Kc(e,0,!1,null,null,!1,!1,"",Du);return e._reactRootContainer=w,e[hn]=w.current,H0(e.nodeType===8?e.parentNode:e),ci(function(){To(r,w,s,l)}),w}function Fo(e,r,s,l,u){var d=s._reactRootContainer;if(d){var p=d;if(typeof u=="function"){var m=u;u=function(){var w=xo(p);m.call(w)}}To(r,p,e,u)}else p=tp(s,r,e,u,l);return xo(p)}dd=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var s=A0(r.pendingLanes);s!==0&&(pc(r,s|1),cr(r,wt()),!(Le&6)&&(Zi=wt()+500,Wn()))}break;case 13:ci(function(){var l=xn(e,1);if(l!==null){var u=qt();Hr(l,e,1,u)}}),Qc(e,1)}};mc=function(e){if(e.tag===13){var r=xn(e,134217728);if(r!==null){var s=qt();Hr(r,e,134217728,s)}Qc(e,134217728)}};hd=function(e){if(e.tag===13){var r=jn(e),s=xn(e,r);if(s!==null){var l=qt();Hr(s,e,r,l)}Qc(e,r)}};xd=function(){return Ge};gd=function(e,r){var s=Ge;try{return Ge=e,r()}finally{Ge=s}};Al=function(e,r,s){switch(r){case"input":if(pl(e,s),r=s.name,s.type==="radio"&&r!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==e&&l.form===e.form){var u=So(l);if(!u)throw Error(oe(90));Xf(l),pl(l,u)}}}break;case"textarea":Kf(e,s);break;case"select":r=s.value,r!=null&&Li(e,!!s.multiple,r,!1)}};td=Gc;rd=ci;var rp={usingClientEntryPoint:!1,Events:[es,bi,So,$f,ed,Gc]},C0={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},np={bundleType:C0.bundleType,version:C0.version,rendererPackageName:C0.rendererPackageName,rendererConfig:C0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sd(e),e===null?null:e.stateNode},findFiberByHostInstance:C0.findFiberByHostInstance||ep,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Co=bs.inject(np),rn=bs}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rp;mr.createPortal=function(e,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(r))throw Error(oe(200));return $g(e,r,null,s)};mr.createRoot=function(e,r){if(!qc(e))throw Error(oe(299));var s=!1,l="",u=Ph;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),r=Kc(e,1,!1,null,null,s,!1,l,u),e[hn]=r.current,H0(e.nodeType===8?e.parentNode:e),new Zc(r)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(oe(188)):(e=Object.keys(e).join(","),Error(oe(268,e)));return e=sd(r),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return ci(e)};mr.hydrate=function(e,r,s){if(!Oo(r))throw Error(oe(200));return Fo(null,e,r,!0,s)};mr.hydrateRoot=function(e,r,s){if(!qc(e))throw Error(oe(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",p=Ph;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),r=Mh(r,null,e,1,s??null,u,!1,d,p),e[hn]=r.current,H0(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,u]:r.mutableSourceEagerHydrationData.push(s,u);return new Ro(r)};mr.render=function(e,r,s){if(!Oo(r))throw Error(oe(200));return Fo(null,e,r,!1,s)};mr.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(oe(40));return e._reactRootContainer?(ci(function(){Fo(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};mr.unstable_batchedUpdates=Gc;mr.unstable_renderSubtreeIntoContainer=function(e,r,s,l){if(!Oo(s))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return Fo(e,r,s,!1,l)};mr.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),Lf.exports=mr;var ip=Lf.exports,jh,Bu=ip;jh=Bu.createRoot,Bu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(e,r)=>{const s=Ce.forwardRef(({color:l="currentColor",size:u=24,strokeWidth:d=2,absoluteStrokeWidth:p,className:m="",children:w,...g},E)=>Ce.createElement("svg",{ref:E,...sp,width:u,height:u,stroke:l,strokeWidth:p?Number(d)*24/Number(u):d,className:["lucide",`lucide-${op(e)}`,m].join(" "),...g},[...r.map(([N,S])=>Ce.createElement(N,S)),...Array.isArray(w)?w:[w]]));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=We("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=We("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=We("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=We("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=We("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=We("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=We("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=We("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=We("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=We("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=We("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=We("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=We("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=We("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var me;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(me||(me={}));var bu=new Map([[me.QR_CODE,"QR_CODE"],[me.AZTEC,"AZTEC"],[me.CODABAR,"CODABAR"],[me.CODE_39,"CODE_39"],[me.CODE_93,"CODE_93"],[me.CODE_128,"CODE_128"],[me.DATA_MATRIX,"DATA_MATRIX"],[me.MAXICODE,"MAXICODE"],[me.ITF,"ITF"],[me.EAN_13,"EAN_13"],[me.EAN_8,"EAN_8"],[me.PDF_417,"PDF_417"],[me.RSS_14,"RSS_14"],[me.RSS_EXPANDED,"RSS_EXPANDED"],[me.UPC_A,"UPC_A"],[me.UPC_E,"UPC_E"],[me.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Tu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Tu||(Tu={}));function Ep(e){return Object.values(me).includes(e)}var go;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(go||(go={}));var vp=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[go.SCAN_TYPE_CAMERA,go.SCAN_TYPE_FILE],e}(),Wh=function(){function e(r,s){this.format=r,this.formatName=s}return e.prototype.toString=function(){return this.formatName},e.create=function(r){if(!bu.has(r))throw"".concat(r," not in html5QrcodeSupportedFormatsTextMap");return new e(r,bu.get(r))},e}(),Ru=function(){function e(){}return e.createFromText=function(r){var s={text:r};return{decodedText:r,result:s}},e.createFromQrcodeResult=function(r){return{decodedText:r.text,result:r}},e}(),rc;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(rc||(rc={}));var Ap=function(){function e(){}return e.createFrom=function(r){return{errorMessage:r,type:rc.UNKWOWN_ERROR}},e}(),Sp=function(){function e(r){this.verbose=r}return e.prototype.log=function(r){this.verbose&&console.log(r)},e.prototype.warn=function(r){this.verbose&&console.warn(r)},e.prototype.logError=function(r,s){(this.verbose||s===!0)&&console.error(r)},e.prototype.logErrors=function(r){if(r.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(r)},e}();function on(e){return typeof e>"u"||e===null}var Pi=function(){function e(){}return e.codeParseError=function(r){return"QR code parse error, error = ".concat(r)},e.errorGettingUserMedia=function(r){return"Error getting userMedia, error = ".concat(r)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Xh=function(){function e(){}return e.isMediaStreamConstraintsValid=function(r,s){if(typeof r!="object"){var l=typeof r;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var u=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(u),p=Object.keys(r),m=0,w=p;m<w.length;m++){var g=w[m];if(d.has(g))return s.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),nc={exports:{}};(function(e,r){(function(s,l){l(r)})(_e,function(s){function l(I){return I==null}var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,t){I.__proto__=t}||function(I,t){for(var n in t)t.hasOwnProperty(n)&&(I[n]=t[n])};function d(I,t){u(I,t);function n(){this.constructor=I}I.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function p(I,t){var n=Object.setPrototypeOf;n?n(I,t):I.__proto__=t}function m(I,t){t===void 0&&(t=I.constructor);var n=Error.captureStackTrace;n&&n(I,t)}var w=function(I){d(t,I);function t(n){var i=this.constructor,o=I.call(this,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1}),p(o,i.prototype),m(o),o}return t}(Error);class g extends w{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}g.kind="Exception";class E extends g{}E.kind="ArgumentException";class N extends g{}N.kind="IllegalArgumentException";class S{constructor(t){if(this.binarizer=t,t===null)throw new N("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,n){return this.binarizer.getBlackRow(t,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,n,i,o){const a=this.binarizer.getLuminanceSource().crop(t,n,i,o);return new S(this.binarizer.createBinarizer(a))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends g{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class R{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(t,n,i,o,a){for(;a--;)i[o++]=t[n++]}static currentTimeMillis(){return Date.now()}}class P extends g{}P.kind="IndexOutOfBoundsException";class D extends P{constructor(t=void 0,n=void 0){super(n),this.index=t,this.message=n}}D.kind="ArrayIndexOutOfBoundsException";class C{static fill(t,n){for(let i=0,o=t.length;i<o;i++)t[i]=n}static fillWithin(t,n,i,o){C.rangeCheck(t.length,n,i);for(let a=n;a<i;a++)t[a]=o}static rangeCheck(t,n,i){if(n>i)throw new N("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new D(n);if(i>t)throw new D(i)}static asList(...t){return t}static create(t,n,i){return Array.from({length:t}).map(a=>Array.from({length:n}).fill(i))}static createInt32Array(t,n,i){return Array.from({length:t}).map(a=>Int32Array.from({length:n}).fill(i))}static equals(t,n){if(!t||!n||!t.length||!n.length||t.length!==n.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]!==n[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let n=1;for(const i of t)n=31*n+i;return n}static fillUint8Array(t,n){for(let i=0;i!==t.length;i++)t[i]=n}static copyOf(t,n){return t.slice(0,n)}static copyOfUint8Array(t,n){if(t.length<=n){const i=new Uint8Array(n);return i.set(t),i}return t.slice(0,n)}static copyOfRange(t,n,i){const o=i-n,a=new Int32Array(o);return O.arraycopy(t,n,a,0,o),a}static binarySearch(t,n,i){i===void 0&&(i=C.numberComparator);let o=0,a=t.length-1;for(;o<=a;){const c=a+o>>1,f=i(n,t[c]);if(f>0)o=c+1;else if(f<0)a=c-1;else return c}return-o-1}static numberComparator(t,n){return t-n}}class v{static numberOfTrailingZeros(t){let n;if(t===0)return 32;let i=31;return n=t<<16,n!==0&&(i-=16,t=n),n=t<<8,n!==0&&(i-=8,t=n),n=t<<4,n!==0&&(i-=4,t=n),n=t<<2,n!==0&&(i-=2,t=n),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let n=1;return t>>>16||(n+=16,t<<=16),t>>>24||(n+=8,t<<=8),t>>>28||(n+=4,t<<=4),t>>>30||(n+=2,t<<=2),n-=t>>>31,n}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,n){return Math.trunc(t/n)}static parseInt(t,n=void 0){return parseInt(t,n)}}v.MIN_VALUE_32_BITS=-2147483648,v.MAX_VALUE=Number.MAX_SAFE_INTEGER;class T{constructor(t,n){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,n==null?this.bits=T.makeArray(t):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const n=T.makeArray(t);O.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const n=this.size;if(t>=n)return n;const i=this.bits;let o=Math.floor(t/32),a=i[o];a&=~((1<<(t&31))-1);const c=i.length;for(;a===0;){if(++o===c)return n;a=i[o]}const f=o*32+v.numberOfTrailingZeros(a);return f>n?n:f}getNextUnset(t){const n=this.size;if(t>=n)return n;const i=this.bits;let o=Math.floor(t/32),a=~i[o];a&=~((1<<(t&31))-1);const c=i.length;for(;a===0;){if(++o===c)return n;a=~i[o]}const f=o*32+v.numberOfTrailingZeros(a);return f>n?n:f}setBulk(t,n){this.bits[Math.floor(t/32)]=n}setRange(t,n){if(n<t||t<0||n>this.size)throw new N;if(n===t)return;n--;const i=Math.floor(t/32),o=Math.floor(n/32),a=this.bits;for(let c=i;c<=o;c++){const f=c>i?0:t&31,x=(2<<(c<o?31:n&31))-(1<<f);a[c]|=x}}clear(){const t=this.bits.length,n=this.bits;for(let i=0;i<t;i++)n[i]=0}isRange(t,n,i){if(n<t||t<0||n>this.size)throw new N;if(n===t)return!0;n--;const o=Math.floor(t/32),a=Math.floor(n/32),c=this.bits;for(let f=o;f<=a;f++){const h=f>o?0:t&31,y=(2<<(f<a?31:n&31))-(1<<h)&4294967295;if((c[f]&y)!==(i?y:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,n){if(n<0||n>32)throw new N("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const n=t.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new N("Sizes don't match");const n=this.bits;for(let i=0,o=n.length;i<o;i++)n[i]^=t.bits[i]}toBytes(t,n,i,o){for(let a=0;a<o;a++){let c=0;for(let f=0;f<8;f++)this.get(t)&&(c|=1<<7-f),t++;n[i+a]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,o=this.bits;for(let a=0;a<i;a++){let c=o[a];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[n-a]=c}if(this.size!==i*32){const a=i*32-this.size;let c=t[0]>>>a;for(let f=1;f<i;f++){const h=t[f];c|=h<<32-a,t[f-1]=c,c=h>>>a}t[i-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof T))return!1;const n=t;return this.size===n.size&&C.equals(this.bits,n.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let t="";for(let n=0,i=this.size;n<i;n++)n&7||(t+=" "),t+=this.get(n)?"X":".";return t}clone(){return new T(this.size,this.bits.slice())}}var j;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(j||(j={}));var L=j;class F extends g{static getFormatInstance(){return new F}}F.kind="FormatException";var U;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(U||(U={}));class G{constructor(t,n,i,...o){this.valueIdentifier=t,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,G.VALUE_IDENTIFIER_TO_ECI.set(t,this),G.NAME_TO_ECI.set(i,this);const a=this.values;for(let c=0,f=a.length;c!==f;c++){const h=a[c];G.VALUES_TO_ECI.set(h,this)}for(const c of o)G.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new F("incorect value");const n=G.VALUES_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n}static getCharacterSetECIByName(t){const n=G.NAME_TO_ECI.get(t);if(n===void 0)throw new F("incorect value");return n}equals(t){if(!(t instanceof G))return!1;const n=t;return this.getName()===n.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(U.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(U.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(U.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(U.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(U.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(U.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(U.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(U.Big5,28,"Big5"),G.GB18030=new G(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(U.EUC_KR,30,"EUC_KR","EUC-KR");class H extends g{}H.kind="UnsupportedOperationException";class X{static decode(t,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!X.isBrowser()&&t==="ISO-8859-1"}static encode(t,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof G?t:G.getCharacterSetECIByName(t)}static decodeFallback(t,n){const i=this.encodingCharacterSet(n);if(X.isDecodeFallbackSupported(i)){let o="";for(let a=0,c=t.length;a<c;a++){let f=t[a].toString(16);f.length<2&&(f="0"+f),o+="%"+f}return decodeURIComponent(o)}if(i.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new H(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(G.UTF8)||t.equals(G.ISO8859_1)||t.equals(G.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),o=[];for(let a=0;a<i.length;a++)o.push(i[a].charCodeAt(0));return new Uint8Array(o)}}class Q{static castAsNonUtf8Char(t,n=null){const i=n?n.getName():this.ISO88591;return X.decode(new Uint8Array([t]),i)}static guessEncoding(t,n){if(n!=null&&n.get(L.CHARACTER_SET)!==void 0)return n.get(L.CHARACTER_SET).toString();const i=t.length;let o=!0,a=!0,c=!0,f=0,h=0,x=0,y=0,_=0,b=0,M=0,z=0,V=0,Y=0,q=0;const ae=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let le=0;le<i&&(o||a||c);le++){const se=t[le]&255;c&&(f>0?se&128?f--:c=!1:se&128&&(se&64?(f++,se&32?(f++,se&16?(f++,se&8?c=!1:y++):x++):h++):c=!1)),o&&(se>127&&se<160?o=!1:se>159&&(se<192||se===215||se===247)&&q++),a&&(_>0?se<64||se===127||se>252?a=!1:_--:se===128||se===160||se>239?a=!1:se>160&&se<224?(b++,z=0,M++,M>V&&(V=M)):se>127?(_++,M=0,z++,z>Y&&(Y=z)):(M=0,z=0))}return c&&f>0&&(c=!1),a&&_>0&&(a=!1),c&&(ae||h+x+y>0)?Q.UTF8:a&&(Q.ASSUME_SHIFT_JIS||V>=3||Y>=3)?Q.SHIFT_JIS:o&&a?V===2&&b===2||q*10>=i?Q.SHIFT_JIS:Q.ISO88591:o?Q.ISO88591:a?Q.SHIFT_JIS:c?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(t,...n){let i=-1;function o(c,f,h,x,y,_){if(c==="%%")return"%";if(n[++i]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let b=y?parseInt(y.substr(1)):void 0,M;switch(_){case"s":M=n[i];break;case"c":M=n[i][0];break;case"f":M=parseFloat(n[i]).toFixed(c);break;case"p":M=parseFloat(n[i]).toPrecision(c);break;case"e":M=parseFloat(n[i]).toExponential(c);break;case"x":M=parseInt(n[i]).toString(b||16);break;case"d":M=parseFloat(parseInt(n[i],b||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(b);let z=parseInt(h),V=h&&h[0]+""=="0"?"0":" ";for(;M.length<z;)M=f!==void 0?M+V:V+M;return M}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}static getBytes(t,n){return X.encode(t,n)}static getCharCode(t,n=0){return t.charCodeAt(n)}static getCharAt(t){return String.fromCharCode(t)}}Q.SHIFT_JIS=G.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=G.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=G.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class J{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,n,i){for(let o=n;n<n+i;o++)this.append(t[o]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+1)}substring(t,n){return this.value.substring(t,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,n){this.value=this.value.substr(0,t)+n+this.value.substr(t+n.length)}}class fe{constructor(t,n,i,o){if(this.width=t,this.height=n,this.rowSize=i,this.bits=o,n==null&&(n=t),this.height=n,t<1||n<1)throw new N("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,o==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const n=t.length,i=t[0].length,o=new fe(i,n);for(let a=0;a<n;a++){const c=t[a];for(let f=0;f<i;f++)c[f]&&o.set(f,a)}return o}static parseFromString(t,n,i){if(t===null)throw new N("stringRepresentation cannot be null");const o=new Array(t.length);let a=0,c=0,f=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new N("row lengths do not match");c=a,h++}x++}else if(t.substring(x,x+n.length)===n)x+=n.length,o[a]=!0,a++;else if(t.substring(x,x+i.length)===i)x+=i.length,o[a]=!1,a++;else throw new N("illegal character encountered: "+t.substring(x));if(a>c){if(f===-1)f=a-c;else if(a-c!==f)throw new N("row lengths do not match");h++}const y=new fe(f,h);for(let _=0;_<a;_++)o[_]&&y.set(Math.floor(_%f),Math.floor(_/f));return y}get(t,n){const i=n*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,n){const i=n*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new N("input matrix dimensions do not match");const n=new T(Math.floor(this.width/32)+1),i=this.rowSize,o=this.bits;for(let a=0,c=this.height;a<c;a++){const f=a*i,h=t.getRow(a,n).getBitArray();for(let x=0;x<i;x++)o[f+x]^=h[x]}}clear(){const t=this.bits,n=t.length;for(let i=0;i<n;i++)t[i]=0}setRegion(t,n,i,o){if(n<0||t<0)throw new N("Left and top must be nonnegative");if(o<1||i<1)throw new N("Height and width must be at least 1");const a=t+i,c=n+o;if(c>this.height||a>this.width)throw new N("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let x=n;x<c;x++){const y=x*f;for(let _=t;_<a;_++)h[y+Math.floor(_/32)]|=1<<(_&31)&4294967295}}getRow(t,n){n==null||n.getSize()<this.width?n=new T(this.width):n.clear();const i=this.rowSize,o=this.bits,a=t*i;for(let c=0;c<i;c++)n.setBulk(c*32,o[a+c]);return n}setRow(t,n){O.arraycopy(n.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),n=this.getHeight();let i=new T(t),o=new T(t);for(let a=0,c=Math.floor((n+1)/2);a<c;a++)i=this.getRow(a,i),o=this.getRow(n-1-a,o),i.reverse(),o.reverse(),this.setRow(a,o),this.setRow(n-1-a,i)}getEnclosingRectangle(){const t=this.width,n=this.height,i=this.rowSize,o=this.bits;let a=t,c=n,f=-1,h=-1;for(let x=0;x<n;x++)for(let y=0;y<i;y++){const _=o[x*i+y];if(_!==0){if(x<c&&(c=x),x>h&&(h=x),y*32<a){let b=0;for(;!(_<<31-b&4294967295);)b++;y*32+b<a&&(a=y*32+b)}if(y*32+31>f){let b=31;for(;!(_>>>b);)b--;y*32+b>f&&(f=y*32+b)}}}return f<a||h<c?null:Int32Array.from([a,c,f-a+1,h-c+1])}getTopLeftOnBit(){const t=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const o=i/t;let a=i%t*32;const c=n[i];let f=0;for(;!(c<<31-f&4294967295);)f++;return a+=f,Int32Array.from([a,o])}getBottomRightOnBit(){const t=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const o=Math.floor(i/t);let a=Math.floor(i%t)*32;const c=n[i];let f=31;for(;!(c>>>f);)f--;return a+=f,Int32Array.from([a,o])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof fe))return!1;const n=t;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&C.equals(this.bits,n.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+C.hashCode(this.bits),t}toString(t="X ",n="  ",i=`
`){return this.buildToString(t,n,i)}buildToString(t,n,i){let o=new J;for(let a=0,c=this.height;a<c;a++){for(let f=0,h=this.width;f<h;f++)o.append(this.get(f,a)?t:n);o.append(i)}return o.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends g{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class ye extends R{constructor(t){super(t),this.luminances=ye.EMPTY,this.buckets=new Int32Array(ye.LUMINANCE_BUCKETS)}getBlackRow(t,n){const i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new T(o):n.clear(),this.initArrays(o);const a=i.getRow(t,this.luminances),c=this.buckets;for(let h=0;h<o;h++)c[(a[h]&255)>>ye.LUMINANCE_SHIFT]++;const f=ye.estimateBlackPoint(c);if(o<3)for(let h=0;h<o;h++)(a[h]&255)<f&&n.set(h);else{let h=a[0]&255,x=a[1]&255;for(let y=1;y<o-1;y++){const _=a[y+1]&255;(x*4-h-_)/2<f&&n.set(y),h=x,x=_}}return n}getBlackMatrix(){const t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight(),o=new fe(n,i);this.initArrays(n);const a=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(i*h/5),y=t.getRow(x,this.luminances),_=Math.floor(n*4/5);for(let b=Math.floor(n/5);b<_;b++){const M=y[b]&255;a[M>>ye.LUMINANCE_SHIFT]++}}const c=ye.estimateBlackPoint(a),f=t.getMatrix();for(let h=0;h<i;h++){const x=h*n;for(let y=0;y<n;y++)(f[x+y]&255)<c&&o.set(y,h)}return o}createBinarizer(t){return new ye(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const n=this.buckets;for(let i=0;i<ye.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(t){const n=t.length;let i=0,o=0,a=0;for(let y=0;y<n;y++)t[y]>a&&(o=y,a=t[y]),t[y]>i&&(i=t[y]);let c=0,f=0;for(let y=0;y<n;y++){const _=y-o,b=t[y]*_*_;b>f&&(c=y,f=b)}if(o>c){const y=o;o=c,c=y}if(c-o<=n/16)throw new W;let h=c-1,x=-1;for(let y=c-1;y>o;y--){const _=y-o,b=_*_*(c-y)*(i-t[y]);b>x&&(h=y,x=b)}return h<<ye.LUMINANCE_SHIFT}}ye.LUMINANCE_BITS=5,ye.LUMINANCE_SHIFT=8-ye.LUMINANCE_BITS,ye.LUMINANCE_BUCKETS=1<<ye.LUMINANCE_BITS,ye.EMPTY=Uint8ClampedArray.from([0]);class ge extends ye{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),n=t.getWidth(),i=t.getHeight();if(n>=ge.MINIMUM_DIMENSION&&i>=ge.MINIMUM_DIMENSION){const o=t.getMatrix();let a=n>>ge.BLOCK_SIZE_POWER;n&ge.BLOCK_SIZE_MASK&&a++;let c=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&c++;const f=ge.calculateBlackPoints(o,a,c,n,i),h=new fe(n,i);ge.calculateThresholdForBlock(o,a,c,n,i,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ge(t)}static calculateThresholdForBlock(t,n,i,o,a,c,f){const h=a-ge.BLOCK_SIZE,x=o-ge.BLOCK_SIZE;for(let y=0;y<i;y++){let _=y<<ge.BLOCK_SIZE_POWER;_>h&&(_=h);const b=ge.cap(y,2,i-3);for(let M=0;M<n;M++){let z=M<<ge.BLOCK_SIZE_POWER;z>x&&(z=x);const V=ge.cap(M,2,n-3);let Y=0;for(let ae=-2;ae<=2;ae++){const le=c[b+ae];Y+=le[V-2]+le[V-1]+le[V]+le[V+1]+le[V+2]}const q=Y/25;ge.thresholdBlock(t,z,_,q,o,f)}}}static cap(t,n,i){return t<n?n:t>i?i:t}static thresholdBlock(t,n,i,o,a,c){for(let f=0,h=i*a+n;f<ge.BLOCK_SIZE;f++,h+=a)for(let x=0;x<ge.BLOCK_SIZE;x++)(t[h+x]&255)<=o&&c.set(n+x,i+f)}static calculateBlackPoints(t,n,i,o,a){const c=a-ge.BLOCK_SIZE,f=o-ge.BLOCK_SIZE,h=new Array(i);for(let x=0;x<i;x++){h[x]=new Int32Array(n);let y=x<<ge.BLOCK_SIZE_POWER;y>c&&(y=c);for(let _=0;_<n;_++){let b=_<<ge.BLOCK_SIZE_POWER;b>f&&(b=f);let M=0,z=255,V=0;for(let q=0,ae=y*o+b;q<ge.BLOCK_SIZE;q++,ae+=o){for(let le=0;le<ge.BLOCK_SIZE;le++){const se=t[ae+le]&255;M+=se,se<z&&(z=se),se>V&&(V=se)}if(V-z>ge.MIN_DYNAMIC_RANGE)for(q++,ae+=o;q<ge.BLOCK_SIZE;q++,ae+=o)for(let le=0;le<ge.BLOCK_SIZE;le++)M+=t[ae+le]&255}let Y=M>>ge.BLOCK_SIZE_POWER*2;if(V-z<=ge.MIN_DYNAMIC_RANGE&&(Y=z/2,x>0&&_>0)){const q=(h[x-1][_]+2*h[x][_-1]+h[x-1][_-1])/4;z<q&&(Y=q)}h[x][_]=Y}}return h}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class ie{constructor(t,n){this.width=t,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,n,i,o){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let n=new J;for(let i=0;i<this.height;i++){const o=this.getRow(i,t);for(let a=0;a<this.width;a++){const c=o[a]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",n.append(f)}n.append(`
`)}return n.toString()}}class de extends ie{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,n){const i=this.delegate.getRow(t,n),o=this.getWidth();for(let a=0;a<o;a++)i[a]=255-(i[a]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let o=0;o<n;o++)i[o]=255-(t[o]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,n,i,o){return new de(this.delegate.crop(t,n,i,o))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class he extends ie{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const n=t.getContext("2d").getImageData(0,0,t.width,t.height);return he.toGrayscaleBuffer(n.data,t.width,t.height)}static toGrayscaleBuffer(t,n,i){const o=new Uint8ClampedArray(n*i);for(let a=0,c=0,f=t.length;a<f;a+=4,c++){let h;if(t[a+3]===0)h=255;else{const y=t[a],_=t[a+1],b=t[a+2];h=306*y+601*_+117*b+512>>10}o[c]=h}return o}getRow(t,n){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth(),o=t*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,n,i,o){return super.crop(t,n,i,o),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const n=this.getTempCanvasElement(),i=n.getContext("2d"),o=t*he.DEGREE_TO_RADIANS,a=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*c),h=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*c);return n.width=f,n.height=h,i.translate(f/2,h/2),i.rotate(o),i.drawImage(this.canvas,a/-2,c/-2),this.buffer=he.makeBufferFromCanvasImageData(n),this}invert(){return new de(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(t,n,i){this.deviceId=t,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ee=(globalThis||_e||self||window||void 0)&&(globalThis||_e||self||window||void 0).__awaiter||function(I,t,n,i){function o(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function f(y){try{x(i.next(y))}catch(_){c(_)}}function h(y){try{x(i.throw(y))}catch(_){c(_)}}function x(y){y.done?a(y.value):o(y.value).then(f,h)}x((i=i.apply(I,t||[])).next())})};class ne{constructor(t,n=500,i){this.reader=t,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of t){const o=i.kind==="video"?"videoinput":i.kind;if(o!=="videoinput")continue;const a=i.deviceId||i.id,c=i.label||`Video device ${n.length+1}`,f=i.groupId,h={deviceId:a,label:c,kind:o,groupId:f};n.push(h)}return n})}getVideoInputDevices(){return ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new $(n.deviceId,n.label))})}findDeviceById(t){return ee(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,n){return ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,n)})}decodeOnceFromVideoDevice(t,n){return ee(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const o={video:i};return yield this.decodeOnceFromConstraints(o,n)})}decodeOnceFromConstraints(t,n){return ee(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(t,n){return ee(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,n,i){return ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,n,i)})}decodeFromVideoDevice(t,n,i){return ee(this,void 0,void 0,function*(){let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const a={video:o};return yield this.decodeFromConstraints(a,n,i)})}decodeFromConstraints(t,n,i){return ee(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(o,n,i)})}decodeFromStream(t,n,i){return ee(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,n);return yield this.decodeContinuously(o,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,n){return ee(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((n,i)=>this.playVideoOnLoad(t,()=>n()))}playVideoOnLoad(t,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",n),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,n){const i=document.getElementById(t);if(!i)throw new E(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new E(`element with id '${t}' must be an ${n} element`);return i}decodeFromImage(t,n){if(!t&&!n)throw new E("either imageElement with a src set or an url must be provided");return n&&!t?this.decodeFromImageUrl(n):this.decodeFromImageElement(t)}decodeFromVideo(t,n){if(!t&&!n)throw new E("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,n,i){if(t===void 0&&n===void 0)throw new E("Either an element with a src set or an URL must be provided");return n&&!t?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new E("An image element must be provided.");this.reset();const n=this.prepareImageElement(t);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(t){const n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(t,n){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(t){if(!t)throw new E("A video element must be provided.");this.reset();const n=this.prepareVideoElement(t);return this.videoElement=n,n}decodeFromImageUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=t,i}decodeFromVideoUrl(t){if(!t)throw new E("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=t,i}decodeFromVideoUrlContinuously(t,n){if(!t)throw new E("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElementContinuously(i,n);return i.src=t,o}_decodeOnLoadImage(t){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(n,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,n){return ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,n)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let n;return typeof t>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(n=t),n}prepareVideoElement(t){let n;return!t&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof t=="string"&&(n=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(n=t),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(t,n=!0,i=!0){this._stopAsyncDecode=!1;const o=(a,c)=>{if(this._stopAsyncDecode){c(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);a(f)}catch(f){const h=n&&f instanceof W,y=(f instanceof B||f instanceof F)&&i;if(h||y)return setTimeout(o,this._timeBetweenDecodingAttempts,a,c);c(f)}};return new Promise((a,c)=>o(a,c))}decodeContinuously(t,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const o=this.decode(t);n(o,null),setTimeout(i,this.timeBetweenScansMillis)}catch(o){n(null,o);const a=o instanceof B||o instanceof F,c=o instanceof W;(a||c)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const n=this.createBinaryBitmap(t);return this.decodeBitmap(n)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,n,i){n||(n={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(t,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const n=this.getCaptureCanvas(t),i=new he(n),o=new ge(i);return new S(o)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const n=this.createCaptureCanvas(t);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,o;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,o=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,o=t.naturalHeight||t.height)),n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,n){try{t.srcObject=n}catch{t.src=URL.createObjectURL(n)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class te{constructor(t,n,i=n==null?0:8*n.length,o,a,c=O.currentTimeMillis()){this.text=t,this.rawBytes=n,this.numBits=i,this.resultPoints=o,this.format=a,this.timestamp=c,this.text=t,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=o,this.format=a,this.resultMetadata=null,c==null?this.timestamp=O.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,n)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const n=this.resultPoints;if(n===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(n.length+t.length);O.arraycopy(n,0,i,0,n.length),O.arraycopy(t,0,i,n.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var je;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(je||(je={}));var ce=je,it;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(it||(it={}));var Ee=it;class Rr{constructor(t,n,i,o,a=-1,c=-1){this.rawBytes=t,this.text=n,this.byteSegments=i,this.ecLevel=o,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class yr{exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}static addOrSubtract(t,n){return t^n}}class It{constructor(t,n){if(n.length===0)throw new N;this.field=t;const i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-o),O.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(t===1){i=0;for(let c=0,f=n.length;c!==f;c++){const h=n[c];i=yr.addOrSubtract(i,h)}return i}i=n[0];const o=n.length,a=this.field;for(let c=1;c<o;c++)i=yr.addOrSubtract(a.multiply(t,i),n[c]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,i=t.coefficients;if(n.length>i.length){const c=n;n=i,i=c}let o=new Int32Array(i.length);const a=i.length-n.length;O.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=yr.addOrSubtract(n[c-a],i[c]);return new It(this.field,o)}multiply(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,o=t.coefficients,a=o.length,c=new Int32Array(i+a-1),f=this.field;for(let h=0;h<i;h++){const x=n[h];for(let y=0;y<a;y++)c[h+y]=yr.addOrSubtract(c[h+y],f.multiply(x,o[y]))}return new It(f,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const n=this.coefficients.length,i=this.field,o=new Int32Array(n),a=this.coefficients;for(let c=0;c<n;c++)o[c]=i.multiply(a[c],t);return new It(i,o)}multiplyByMonomial(t,n){if(t<0)throw new N;if(n===0)return this.field.getZero();const i=this.coefficients,o=i.length,a=new Int32Array(o+t),c=this.field;for(let f=0;f<o;f++)a[f]=c.multiply(i[f],n);return new It(c,a)}divide(t){if(!this.field.equals(t.field))throw new N("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new N("Divide by 0");const n=this.field;let i=n.getZero(),o=this;const a=t.getCoefficient(t.getDegree()),c=n.inverse(a);for(;o.getDegree()>=t.getDegree()&&!o.isZero();){const f=o.getDegree()-t.getDegree(),h=n.multiply(o.getCoefficient(o.getDegree()),c),x=t.multiplyByMonomial(f,h),y=n.buildMonomial(f,h);i=i.addOrSubtract(y),o=o.addOrSubtract(x)}return[i,o]}toString(){let t="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),n===0||i!==1){const o=this.field.log(i);o===0?t+="1":o===1?t+="a":(t+="a^",t+=o)}n!==0&&(n===1?t+="x":(t+="x^",t+=n))}}return t}}class Gr extends g{}Gr.kind="ArithmeticException";class Ne extends yr{constructor(t,n,i){super(),this.primitive=t,this.size=n,this.generatorBase=i;const o=new Int32Array(n);let a=1;for(let f=0;f<n;f++)o[f]=a,a*=2,a>=n&&(a^=t,a&=n-1);this.expTable=o;const c=new Int32Array(n);for(let f=0;f<n-1;f++)c[o[f]]=f;this.logTable=c,this.zero=new It(this,Int32Array.from([0])),this.one=new It(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new N;if(n===0)return this.zero;const i=new Int32Array(t+1);return i[0]=n,new It(this,i)}inverse(t){if(t===0)throw new Gr;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+v.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ne.AZTEC_DATA_12=new Ne(4201,4096,1),Ne.AZTEC_DATA_10=new Ne(1033,1024,1),Ne.AZTEC_DATA_6=new Ne(67,64,1),Ne.AZTEC_PARAM=new Ne(19,16,1),Ne.QR_CODE_FIELD_256=new Ne(285,256,0),Ne.DATA_MATRIX_FIELD_256=new Ne(301,256,1),Ne.AZTEC_DATA_8=Ne.DATA_MATRIX_FIELD_256,Ne.MAXICODE_FIELD_64=Ne.AZTEC_DATA_6;class yt extends g{}yt.kind="ReedSolomonException";class Kt extends g{}Kt.kind="IllegalStateException";class Or{constructor(t){this.field=t}decode(t,n){const i=this.field,o=new It(i,t),a=new Int32Array(n);let c=!0;for(let M=0;M<n;M++){const z=o.evaluateAt(i.exp(M+i.getGeneratorBase()));a[a.length-1-M]=z,z!==0&&(c=!1)}if(c)return;const f=new It(i,a),h=this.runEuclideanAlgorithm(i.buildMonomial(n,1),f,n),x=h[0],y=h[1],_=this.findErrorLocations(x),b=this.findErrorMagnitudes(y,_);for(let M=0;M<_.length;M++){const z=t.length-1-i.log(_[M]);if(z<0)throw new yt("Bad error location");t[z]=Ne.addOrSubtract(t[z],b[M])}}runEuclideanAlgorithm(t,n,i){if(t.getDegree()<n.getDegree()){const M=t;t=n,n=M}const o=this.field;let a=t,c=n,f=o.getZero(),h=o.getOne();for(;c.getDegree()>=(i/2|0);){let M=a,z=f;if(a=c,f=h,a.isZero())throw new yt("r_{i-1} was zero");c=M;let V=o.getZero();const Y=a.getCoefficient(a.getDegree()),q=o.inverse(Y);for(;c.getDegree()>=a.getDegree()&&!c.isZero();){const ae=c.getDegree()-a.getDegree(),le=o.multiply(c.getCoefficient(c.getDegree()),q);V=V.addOrSubtract(o.buildMonomial(ae,le)),c=c.addOrSubtract(a.multiplyByMonomial(ae,le))}if(h=V.multiply(f).addOrSubtract(z),c.getDegree()>=a.getDegree())throw new Kt("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new yt("sigmaTilde(0) was zero");const y=o.inverse(x),_=h.multiplyScalar(y),b=c.multiplyScalar(y);return[_,b]}findErrorLocations(t){const n=t.getDegree();if(n===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(n);let o=0;const a=this.field;for(let c=1;c<a.getSize()&&o<n;c++)t.evaluateAt(c)===0&&(i[o]=a.inverse(c),o++);if(o!==n)throw new yt("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,n){const i=n.length,o=new Int32Array(i),a=this.field;for(let c=0;c<i;c++){const f=a.inverse(n[c]);let h=1;for(let x=0;x<i;x++)if(c!==x){const y=a.multiply(n[x],f),_=y&1?y&-2:y|1;h=a.multiply(h,_)}o[c]=a.multiply(t.evaluateAt(f),a.inverse(h)),a.getGeneratorBase()!==0&&(o[c]=a.multiply(o[c],f))}return o}}var ct;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(ct||(ct={}));class Ue{decode(t){this.ddata=t;let n=t.getBits(),i=this.extractBits(n),o=this.correctBits(i),a=Ue.convertBoolArrayToByteArray(o),c=Ue.getEncodedData(o),f=new Rr(a,c,null,null);return f.setNumBits(o.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let n=t.length,i=ct.UPPER,o=ct.UPPER,a="",c=0;for(;c<n;)if(o===ct.BINARY){if(n-c<5)break;let f=Ue.readCode(t,c,5);if(c+=5,f===0){if(n-c<11)break;f=Ue.readCode(t,c,11)+31,c+=11}for(let h=0;h<f;h++){if(n-c<8){c=n;break}const x=Ue.readCode(t,c,8);a+=Q.castAsNonUtf8Char(x),c+=8}o=i}else{let f=o===ct.DIGIT?4:5;if(n-c<f)break;let h=Ue.readCode(t,c,f);c+=f;let x=Ue.getCharacter(o,h);x.startsWith("CTRL_")?(i=o,o=Ue.getTable(x.charAt(5)),x.charAt(6)==="L"&&(i=o)):(a+=x,o=i)}return a}static getTable(t){switch(t){case"L":return ct.LOWER;case"P":return ct.PUNCT;case"M":return ct.MIXED;case"D":return ct.DIGIT;case"B":return ct.BINARY;case"U":default:return ct.UPPER}}static getCharacter(t,n){switch(t){case ct.UPPER:return Ue.UPPER_TABLE[n];case ct.LOWER:return Ue.LOWER_TABLE[n];case ct.MIXED:return Ue.MIXED_TABLE[n];case ct.PUNCT:return Ue.PUNCT_TABLE[n];case ct.DIGIT:return Ue.DIGIT_TABLE[n];default:throw new Kt("Bad table")}}correctBits(t){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Ne.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Ne.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Ne.AZTEC_DATA_10):(i=12,n=Ne.AZTEC_DATA_12);let o=this.ddata.getNbDatablocks(),a=t.length/i;if(a<o)throw new F;let c=t.length%i,f=new Int32Array(a);for(let b=0;b<a;b++,c+=i)f[b]=Ue.readCode(t,c,i);try{new Or(n).decode(f,a-o)}catch(b){throw new F(b)}let h=(1<<i)-1,x=0;for(let b=0;b<o;b++){let M=f[b];if(M===0||M===h)throw new F;(M===1||M===h-1)&&x++}let y=new Array(o*i-x),_=0;for(let b=0;b<o;b++){let M=f[b];if(M===1||M===h-1)y.fill(M>1,_,_+i-1),_+=i-1;else for(let z=i-1;z>=0;--z)y[_++]=(M&1<<z)!==0}return y}extractBits(t){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),o=(n?11:14)+i*4,a=new Int32Array(o),c=new Array(this.totalBitsInLayer(i,n));if(n)for(let f=0;f<a.length;f++)a[f]=f;else{let f=o+1+2*v.truncDivision(v.truncDivision(o,2)-1,15),h=o/2,x=v.truncDivision(f,2);for(let y=0;y<h;y++){let _=y+v.truncDivision(y,15);a[h-y-1]=x-_-1,a[h+y]=x+_+1}}for(let f=0,h=0;f<i;f++){let x=(i-f)*4+(n?9:12),y=f*2,_=o-1-y;for(let b=0;b<x;b++){let M=b*2;for(let z=0;z<2;z++)c[h+M+z]=t.get(a[y+z],a[y+b]),c[h+2*x+M+z]=t.get(a[y+b],a[_-z]),c[h+4*x+M+z]=t.get(a[_-z],a[_-b]),c[h+6*x+M+z]=t.get(a[_-b],a[y+z])}h+=x*8}return c}static readCode(t,n,i){let o=0;for(let a=n;a<n+i;a++)o<<=1,t[a]&&(o|=1);return o}static readByte(t,n){let i=t.length-n;return i>=8?Ue.readCode(t,n,8):Ue.readCode(t,n,i)<<8-i}static convertBoolArrayToByteArray(t){let n=new Uint8Array((t.length+7)/8);for(let i=0;i<n.length;i++)n[i]=Ue.readByte(t,8*i);return n}totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}Ue.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ue.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ue.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ue.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Te{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,n,i,o){const a=t-i,c=n-o;return Math.sqrt(a*a+c*c)}static sum(t){let n=0;for(let i=0,o=t.length;i!==o;i++){const a=t[i];n+=a}return n}}class Wr{static floatToIntBits(t){return t}}Wr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class xe{constructor(t,n){this.x=t,this.y=n}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof xe){const n=t;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Wr.floatToIntBits(this.x)+Wr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const n=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),o=this.distance(t[0],t[2]);let a,c,f;if(i>=n&&i>=o?(c=t[0],a=t[1],f=t[2]):o>=i&&o>=n?(c=t[1],a=t[0],f=t[2]):(c=t[2],a=t[0],f=t[1]),this.crossProductZ(a,c,f)<0){const h=a;a=f,f=h}t[0]=a,t[1]=c,t[2]=f}static distance(t,n){return Te.distance(t.x,t.y,n.x,n.y)}static crossProductZ(t,n,i){const o=n.x,a=n.y;return(i.x-o)*(t.y-a)-(i.y-a)*(t.x-o)}}class Ft{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Fr extends Ft{constructor(t,n,i,o,a){super(t,n),this.compact=i,this.nbDatablocks=o,this.nbLayers=a}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class er{constructor(t,n,i,o){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),n==null&&(n=er.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),o==null&&(o=t.getHeight()/2|0);const a=n/2|0;if(this.leftInit=i-a,this.rightInit=i+a,this.upInit=o-a,this.downInit=o+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let t=this.leftInit,n=this.rightInit,i=this.upInit,o=this.downInit,a=!1,c=!0,f=!1,h=!1,x=!1,y=!1,_=!1;const b=this.width,M=this.height;for(;c;){c=!1;let z=!0;for(;(z||!h)&&n<b;)z=this.containsBlackPoint(i,o,n,!1),z?(n++,c=!0,h=!0):h||n++;if(n>=b){a=!0;break}let V=!0;for(;(V||!x)&&o<M;)V=this.containsBlackPoint(t,n,o,!0),V?(o++,c=!0,x=!0):x||o++;if(o>=M){a=!0;break}let Y=!0;for(;(Y||!y)&&t>=0;)Y=this.containsBlackPoint(i,o,t,!1),Y?(t--,c=!0,y=!0):y||t--;if(t<0){a=!0;break}let q=!0;for(;(q||!_)&&i>=0;)q=this.containsBlackPoint(t,n,i,!0),q?(i--,c=!0,_=!0):_||i--;if(i<0){a=!0;break}c&&(f=!0)}if(!a&&f){const z=n-t;let V=null;for(let le=1;V===null&&le<z;le++)V=this.getBlackPointOnSegment(t,o-le,t+le,o);if(V==null)throw new W;let Y=null;for(let le=1;Y===null&&le<z;le++)Y=this.getBlackPointOnSegment(t,i+le,t+le,i);if(Y==null)throw new W;let q=null;for(let le=1;q===null&&le<z;le++)q=this.getBlackPointOnSegment(n,i+le,n-le,i);if(q==null)throw new W;let ae=null;for(let le=1;ae===null&&le<z;le++)ae=this.getBlackPointOnSegment(n,o-le,n-le,o);if(ae==null)throw new W;return this.centerEdges(ae,V,q,Y)}else throw new W}getBlackPointOnSegment(t,n,i,o){const a=Te.round(Te.distance(t,n,i,o)),c=(i-t)/a,f=(o-n)/a,h=this.image;for(let x=0;x<a;x++){const y=Te.round(t+x*c),_=Te.round(n+x*f);if(h.get(y,_))return new xe(y,_)}return null}centerEdges(t,n,i,o){const a=t.getX(),c=t.getY(),f=n.getX(),h=n.getY(),x=i.getX(),y=i.getY(),_=o.getX(),b=o.getY(),M=er.CORR;return a<this.width/2?[new xe(_-M,b+M),new xe(f+M,h+M),new xe(x-M,y-M),new xe(a+M,c-M)]:[new xe(_+M,b+M),new xe(f+M,h-M),new xe(x-M,y+M),new xe(a-M,c-M)]}containsBlackPoint(t,n,i,o){const a=this.image;if(o){for(let c=t;c<=n;c++)if(a.get(c,i))return!0}else for(let c=t;c<=n;c++)if(a.get(i,c))return!0;return!1}}er.INIT_SIZE=10,er.CORR=1;class xi{static checkAndNudgePoints(t,n){const i=t.getWidth(),o=t.getHeight();let a=!0;for(let c=0;c<n.length&&a;c+=2){const f=Math.floor(n[c]),h=Math.floor(n[c+1]);if(f<-1||f>i||h<-1||h>o)throw new W;a=!1,f===-1?(n[c]=0,a=!0):f===i&&(n[c]=i-1,a=!0),h===-1?(n[c+1]=0,a=!0):h===o&&(n[c+1]=o-1,a=!0)}a=!0;for(let c=n.length-2;c>=0&&a;c-=2){const f=Math.floor(n[c]),h=Math.floor(n[c+1]);if(f<-1||f>i||h<-1||h>o)throw new W;a=!1,f===-1?(n[c]=0,a=!0):f===i&&(n[c]=i-1,a=!0),h===-1?(n[c+1]=0,a=!0):h===o&&(n[c+1]=o-1,a=!0)}}}class _t{constructor(t,n,i,o,a,c,f,h,x){this.a11=t,this.a21=n,this.a31=i,this.a12=o,this.a22=a,this.a32=c,this.a13=f,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,n,i,o,a,c,f,h,x,y,_,b,M,z,V,Y){const q=_t.quadrilateralToSquare(t,n,i,o,a,c,f,h);return _t.squareToQuadrilateral(x,y,_,b,M,z,V,Y).times(q)}transformPoints(t){const n=t.length,i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,h=this.a23,x=this.a31,y=this.a32,_=this.a33;for(let b=0;b<n;b+=2){const M=t[b],z=t[b+1],V=a*M+h*z+_;t[b]=(i*M+c*z+x)/V,t[b+1]=(o*M+f*z+y)/V}}transformPointsWithValues(t,n){const i=this.a11,o=this.a12,a=this.a13,c=this.a21,f=this.a22,h=this.a23,x=this.a31,y=this.a32,_=this.a33,b=t.length;for(let M=0;M<b;M++){const z=t[M],V=n[M],Y=a*z+h*V+_;t[M]=(i*z+c*V+x)/Y,n[M]=(o*z+f*V+y)/Y}}static squareToQuadrilateral(t,n,i,o,a,c,f,h){const x=t-i+a-f,y=n-o+c-h;if(x===0&&y===0)return new _t(i-t,a-i,t,o-n,c-o,n,0,0,1);{const _=i-a,b=f-a,M=o-c,z=h-c,V=_*z-b*M,Y=(x*z-b*y)/V,q=(_*y-x*M)/V;return new _t(i-t+Y*i,f-t+q*f,t,o-n+Y*o,h-n+q*h,n,Y,q,1)}}static quadrilateralToSquare(t,n,i,o,a,c,f,h){return _t.squareToQuadrilateral(t,n,i,o,a,c,f,h).buildAdjoint()}buildAdjoint(){return new _t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new _t(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class mn extends xi{sampleGrid(t,n,i,o,a,c,f,h,x,y,_,b,M,z,V,Y,q,ae,le){const se=_t.quadrilateralToQuadrilateral(o,a,c,f,h,x,y,_,b,M,z,V,Y,q,ae,le);return this.sampleGridWithTransform(t,n,i,se)}sampleGridWithTransform(t,n,i,o){if(n<=0||i<=0)throw new W;const a=new fe(n,i),c=new Float32Array(2*n);for(let f=0;f<i;f++){const h=c.length,x=f+.5;for(let y=0;y<h;y+=2)c[y]=y/2+.5,c[y+1]=x;o.transformPoints(c),xi.checkAndNudgePoints(t,c);try{for(let y=0;y<h;y+=2)t.get(Math.floor(c[y]),Math.floor(c[y+1]))&&a.set(y/2,f)}catch{throw new W}}return a}}class Xr{static setGridSampler(t){Xr.gridSampler=t}static getInstance(){return Xr.gridSampler}}Xr.gridSampler=new mn;class Nt{constructor(t,n){this.x=t,this.y=n}toResultPoint(){return new xe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class r0{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(t){let c=i[0];i[0]=i[2],i[2]=c}this.extractParameters(i);let o=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),a=this.getMatrixCornerPoints(i);return new Fr(o,a,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new W;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],n),this.sampleLine(t[1],t[2],n),this.sampleLine(t[2],t[3],n),this.sampleLine(t[3],t[0],n)]);this.shift=this.getRotation(i,n);let o=0;for(let c=0;c<4;c++){let f=i[(this.shift+c)%4];this.compact?(o<<=7,o+=f>>1&127):(o<<=10,o+=(f>>2&992)+(f>>1&31))}let a=this.getCorrectedParameterData(o,this.compact);this.compact?(this.nbLayers=(a>>6)+1,this.nbDataBlocks=(a&63)+1):(this.nbLayers=(a>>11)+1,this.nbDataBlocks=(a&2047)+1)}getRotation(t,n){let i=0;t.forEach((o,a,c)=>{let f=(o>>n-2<<1)+(o&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let o=0;o<4;o++)if(v.bitCount(i^this.EXPECTED_CORNER_BITS[o])<=2)return o;throw new W}getCorrectedParameterData(t,n){let i,o;n?(i=7,o=2):(i=10,o=4);let a=i-o,c=new Int32Array(i);for(let h=i-1;h>=0;--h)c[h]=t&15,t>>=4;try{new Or(Ne.AZTEC_PARAM).decode(c,a)}catch{throw new W}let f=0;for(let h=0;h<o;h++)f=(f<<4)+c[h];return f}getBullsEyeCorners(t){let n=t,i=t,o=t,a=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let _=this.getFirstDifferent(n,c,1,-1),b=this.getFirstDifferent(i,c,1,1),M=this.getFirstDifferent(o,c,-1,1),z=this.getFirstDifferent(a,c,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(z,_)*this.nbCenterLayers/(this.distancePoint(a,n)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(_,b,M,z))break}n=_,i=b,o=M,a=z,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let f=new xe(n.getX()+.5,n.getY()-.5),h=new xe(i.getX()+.5,i.getY()+.5),x=new xe(o.getX()-.5,o.getY()+.5),y=new xe(a.getX()-.5,a.getY()-.5);return this.expandSquare([f,h,x,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,n,i,o;try{let f=new er(this.image).detect();t=f[0],n=f[1],i=f[2],o=f[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new Nt(h+7,x-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Nt(h+7,x+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nt(h-7,x+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nt(h-7,x-7),!1,-1,-1).toResultPoint()}let a=Te.round((t.getX()+o.getX()+n.getX()+i.getX())/4),c=Te.round((t.getY()+o.getY()+n.getY()+i.getY())/4);try{let f=new er(this.image,15,a,c).detect();t=f[0],n=f[1],i=f[2],o=f[3]}catch{t=this.getFirstDifferent(new Nt(a+7,c-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Nt(a+7,c+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Nt(a-7,c+7),!1,-1,1).toResultPoint(),o=this.getFirstDifferent(new Nt(a-7,c-7),!1,-1,-1).toResultPoint()}return a=Te.round((t.getX()+o.getX()+n.getX()+i.getX())/4),c=Te.round((t.getY()+o.getY()+n.getY()+i.getY())/4),new Nt(a,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,n,i,o,a){let c=Xr.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,x=f/2+this.nbCenterLayers;return c.sampleGrid(t,f,f,h,h,x,h,x,x,h,x,n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY(),a.getX(),a.getY())}sampleLine(t,n,i){let o=0,a=this.distanceResultPoint(t,n),c=a/i,f=t.getX(),h=t.getY(),x=c*(n.getX()-t.getX())/a,y=c*(n.getY()-t.getY())/a;for(let _=0;_<i;_++)this.image.get(Te.round(f+_*x),Te.round(h+_*y))&&(o|=1<<i-_-1);return o}isWhiteOrBlackRectangle(t,n,i,o){let a=3;t=new Nt(t.getX()-a,t.getY()+a),n=new Nt(n.getX()-a,n.getY()-a),i=new Nt(i.getX()+a,i.getY()-a),o=new Nt(o.getX()+a,o.getY()+a);let c=this.getColor(o,t);if(c===0)return!1;let f=this.getColor(t,n);return f!==c||(f=this.getColor(n,i),f!==c)?!1:(f=this.getColor(i,o),f===c)}getColor(t,n){let i=this.distancePoint(t,n),o=(n.getX()-t.getX())/i,a=(n.getY()-t.getY())/i,c=0,f=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),y=Math.ceil(i);for(let b=0;b<y;b++)f+=o,h+=a,this.image.get(Te.round(f),Te.round(h))!==x&&c++;let _=c/i;return _>.1&&_<.9?0:_<=.1===x?1:-1}getFirstDifferent(t,n,i,o){let a=t.getX()+i,c=t.getY()+o;for(;this.isValid(a,c)&&this.image.get(a,c)===n;)a+=i,c+=o;for(a-=i,c-=o;this.isValid(a,c)&&this.image.get(a,c)===n;)a+=i;for(a-=i;this.isValid(a,c)&&this.image.get(a,c)===n;)c+=o;return c-=o,new Nt(a,c)}expandSquare(t,n,i){let o=i/(2*n),a=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new xe(f+o*a,h+o*c),y=new xe(f-o*a,h-o*c);a=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let _=new xe(f+o*a,h+o*c),b=new xe(f-o*a,h-o*c);return[x,_,y,b]}isValid(t,n){return t>=0&&t<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(t){let n=Te.round(t.getX()),i=Te.round(t.getY());return this.isValid(n,i)}distancePoint(t,n){return Te.distance(t.getX(),t.getY(),n.getX(),n.getY())}distanceResultPoint(t,n){return Te.distance(t.getX(),t.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(v.truncDivision(this.nbLayers-4,8)+1)+15}}class kr{decode(t,n=null){let i=null,o=new r0(t.getBlackMatrix()),a=null,c=null;try{let y=o.detectMirror(!1);a=y.getPoints(),this.reportFoundResultPoints(n,a),c=new Ue().decode(y)}catch(y){i=y}if(c==null)try{let y=o.detectMirror(!0);a=y.getPoints(),this.reportFoundResultPoints(n,a),c=new Ue().decode(y)}catch(y){throw i??y}let f=new te(c.getText(),c.getRawBytes(),c.getNumBits(),a,ce.AZTEC,O.currentTimeMillis()),h=c.getByteSegments();h!=null&&f.putMetadata(Ee.BYTE_SEGMENTS,h);let x=c.getECLevel();return x!=null&&f.putMetadata(Ee.ERROR_CORRECTION_LEVEL,x),f}reportFoundResultPoints(t,n){if(t!=null){let i=t.get(L.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((o,a,c)=>{i.foundPossibleResultPoint(o)})}}reset(){}}class Yn extends ne{constructor(t=500){super(new kr,t)}}class ut{decode(t,n){try{return this.doDecode(t,n)}catch{if(n&&n.get(L.TRY_HARDER)===!0&&t.isRotateSupported()){const a=t.rotateCounterClockwise(),c=this.doDecode(a,n),f=c.getResultMetadata();let h=270;f!==null&&f.get(Ee.ORIENTATION)===!0&&(h=h+f.get(Ee.ORIENTATION)%360),c.putMetadata(Ee.ORIENTATION,h);const x=c.getResultPoints();if(x!==null){const y=a.getHeight();for(let _=0;_<x.length;_++)x[_]=new xe(y-x[_].getY()-1,x[_].getX())}return c}else throw new W}}reset(){}doDecode(t,n){const i=t.getWidth(),o=t.getHeight();let a=new T(i);const c=n&&n.get(L.TRY_HARDER)===!0,f=Math.max(1,o>>(c?8:5));let h;c?h=o:h=15;const x=Math.trunc(o/2);for(let y=0;y<h;y++){const _=Math.trunc((y+1)/2),b=(y&1)===0,M=x+f*(b?_:-_);if(M<0||M>=o)break;try{a=t.getBlackRow(M,a)}catch{continue}for(let z=0;z<2;z++){if(z===1&&(a.reverse(),n&&n.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;n.forEach((Y,q)=>V.set(q,Y)),V.delete(L.NEED_RESULT_POINT_CALLBACK),n=V}try{const V=this.decodeRow(M,a,n);if(z===1){V.putMetadata(Ee.ORIENTATION,180);const Y=V.getResultPoints();Y!==null&&(Y[0]=new xe(i-Y[0].getX()-1,Y[0].getY()),Y[1]=new xe(i-Y[1].getX()-1,Y[1].getY()))}return V}catch{}}}throw new W}static recordPattern(t,n,i){const o=i.length;for(let x=0;x<o;x++)i[x]=0;const a=t.getSize();if(n>=a)throw new W;let c=!t.get(n),f=0,h=n;for(;h<a;){if(t.get(h)!==c)i[f]++;else{if(++f===o)break;i[f]=1,c=!c}h++}if(!(f===o||f===o-1&&h===a))throw new W}static recordPatternInReverse(t,n,i){let o=i.length,a=t.get(n);for(;n>0&&o>=0;)t.get(--n)!==a&&(o--,a=!a);if(o>=0)throw new W;ut.recordPattern(t,n+1,i)}static patternMatchVariance(t,n,i){const o=t.length;let a=0,c=0;for(let x=0;x<o;x++)a+=t[x],c+=n[x];if(a<c)return Number.POSITIVE_INFINITY;const f=a/c;i*=f;let h=0;for(let x=0;x<o;x++){const y=t[x],_=n[x]*f,b=y>_?y-_:_-y;if(b>i)return Number.POSITIVE_INFINITY;h+=b}return h/a}}class ue extends ut{static findStartPattern(t){const n=t.getSize(),i=t.getNextSet(0);let o=0,a=Int32Array.from([0,0,0,0,0,0]),c=i,f=!1;const h=6;for(let x=i;x<n;x++)if(t.get(x)!==f)a[o]++;else{if(o===h-1){let y=ue.MAX_AVG_VARIANCE,_=-1;for(let b=ue.CODE_START_A;b<=ue.CODE_START_C;b++){const M=ut.patternMatchVariance(a,ue.CODE_PATTERNS[b],ue.MAX_INDIVIDUAL_VARIANCE);M<y&&(y=M,_=b)}if(_>=0&&t.isRange(Math.max(0,c-(x-c)/2),c,!1))return Int32Array.from([c,x,_]);c+=a[0]+a[1],a=a.slice(2,a.length-1),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,f=!f}throw new W}static decodeCode(t,n,i){ut.recordPattern(t,i,n);let o=ue.MAX_AVG_VARIANCE,a=-1;for(let c=0;c<ue.CODE_PATTERNS.length;c++){const f=ue.CODE_PATTERNS[c],h=this.patternMatchVariance(n,f,ue.MAX_INDIVIDUAL_VARIANCE);h<o&&(o=h,a=c)}if(a>=0)return a;throw new W}decodeRow(t,n,i){const o=i&&i.get(L.ASSUME_GS1)===!0,a=ue.findStartPattern(n),c=a[2];let f=0;const h=new Uint8Array(20);h[f++]=c;let x;switch(c){case ue.CODE_START_A:x=ue.CODE_CODE_A;break;case ue.CODE_START_B:x=ue.CODE_CODE_B;break;case ue.CODE_START_C:x=ue.CODE_CODE_C;break;default:throw new F}let y=!1,_=!1,b="",M=a[0],z=a[1];const V=Int32Array.from([0,0,0,0,0,0]);let Y=0,q=0,ae=c,le=0,se=!0,Oe=!1,De=!1;for(;!y;){const Ai=_;switch(_=!1,Y=q,q=ue.decodeCode(n,V,z),h[f++]=q,q!==ue.CODE_STOP&&(se=!0),q!==ue.CODE_STOP&&(le++,ae+=le*q),M=z,z+=V.reduce((Bx,bx)=>Bx+bx,0),q){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new F}switch(x){case ue.CODE_CODE_A:if(q<64)De===Oe?b+=String.fromCharCode(32+q):b+=String.fromCharCode(32+q+128),De=!1;else if(q<96)De===Oe?b+=String.fromCharCode(q-64):b+=String.fromCharCode(q+64),De=!1;else switch(q!==ue.CODE_STOP&&(se=!1),q){case ue.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!Oe&&De?(Oe=!0,De=!1):Oe&&De?(Oe=!1,De=!1):De=!0;break;case ue.CODE_SHIFT:_=!0,x=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:x=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:x=ue.CODE_CODE_C;break;case ue.CODE_STOP:y=!0;break}break;case ue.CODE_CODE_B:if(q<96)De===Oe?b+=String.fromCharCode(32+q):b+=String.fromCharCode(32+q+128),De=!1;else switch(q!==ue.CODE_STOP&&(se=!1),q){case ue.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!Oe&&De?(Oe=!0,De=!1):Oe&&De?(Oe=!1,De=!1):De=!0;break;case ue.CODE_SHIFT:_=!0,x=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:x=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:x=ue.CODE_CODE_C;break;case ue.CODE_STOP:y=!0;break}break;case ue.CODE_CODE_C:if(q<100)q<10&&(b+="0"),b+=q;else switch(q!==ue.CODE_STOP&&(se=!1),q){case ue.CODE_FNC_1:o&&(b.length===0?b+="]C1":b+="");break;case ue.CODE_CODE_A:x=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:x=ue.CODE_CODE_B;break;case ue.CODE_STOP:y=!0;break}break}Ai&&(x=x===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const nr=z-M;if(z=n.getNextUnset(z),!n.isRange(z,Math.min(n.getSize(),z+(z-M)/2),!1))throw new W;if(ae-=le*Y,ae%103!==Y)throw new B;const Mr=b.length;if(Mr===0)throw new W;Mr>0&&se&&(x===ue.CODE_CODE_C?b=b.substring(0,Mr-2):b=b.substring(0,Mr-1));const ir=(a[1]+a[0])/2,Ke=M+nr/2,Lt=h.length,fr=new Uint8Array(Lt);for(let Ai=0;Ai<Lt;Ai++)fr[Ai]=h[Ai];const vi=[new xe(ir,t),new xe(Ke,t)];return new te(b,fr,0,vi,ce.CODE_128,new Date().getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class ft extends ut{constructor(t=!1,n=!1){super(),this.usingCheckDigit=t,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,n,i){let o=this.counters;o.fill(0),this.decodeRowResult="";let a=ft.findAsteriskPattern(n,o),c=n.getNextSet(a[1]),f=n.getSize(),h,x;do{ft.recordPattern(n,c,o);let V=ft.toNarrowWidePattern(o);if(V<0)throw new W;h=ft.patternToChar(V),this.decodeRowResult+=h,x=c;for(let Y of o)c+=Y;c=n.getNextSet(c)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let V of o)y+=V;let _=c-x-y;if(c!==f&&_*2<y)throw new W;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,Y=0;for(let q=0;q<V;q++)Y+=ft.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(V)!==ft.ALPHABET_STRING.charAt(Y%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new W;let b;this.extendedMode?b=ft.decodeExtended(this.decodeRowResult):b=this.decodeRowResult;let M=(a[1]+a[0])/2,z=x+y/2;return new te(b,null,0,[new xe(M,t),new xe(z,t)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(t,n){let i=t.getSize(),o=t.getNextSet(0),a=0,c=o,f=!1,h=n.length;for(let x=o;x<i;x++)if(t.get(x)!==f)n[a]++;else{if(a===h-1){if(this.toNarrowWidePattern(n)===ft.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((x-c)/2)),c,!1))return[c,x];c+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,f=!f}throw new W}static toNarrowWidePattern(t){let n=t.length,i=0,o;do{let a=2147483647;for(let h of t)h<a&&h>i&&(a=h);i=a,o=0;let c=0,f=0;for(let h=0;h<n;h++){let x=t[h];x>i&&(f|=1<<n-1-h,o++,c+=x)}if(o===3){for(let h=0;h<n&&o>0;h++){let x=t[h];if(x>i&&(o--,x*2>=c))return-1}return f}}while(o>3);return-1}static patternToChar(t){for(let n=0;n<ft.CHARACTER_ENCODINGS.length;n++)if(ft.CHARACTER_ENCODINGS[n]===t)return ft.ALPHABET_STRING.charAt(n);if(t===ft.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(t){let n=t.length,i="";for(let o=0;o<n;o++){let a=t.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){let c=t.charAt(o+1),f="\0";switch(a){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new F;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new F;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new F;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new F;break}i+=f,o++}else i+=a}return i}}ft.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ft.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ft.ASTERISK_ENCODING=148;class Ve extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,n,i){let o=this.decodeStart(n),a=this.decodeEnd(n),c=new J;Ve.decodeMiddle(n,o[1],a[0],c);let f=c.toString(),h=null;i!=null&&(h=i.get(L.ALLOWED_LENGTHS)),h==null&&(h=Ve.DEFAULT_ALLOWED_LENGTHS);let x=f.length,y=!1,_=0;for(let z of h){if(x===z){y=!0;break}z>_&&(_=z)}if(!y&&x>_&&(y=!0),!y)throw new F;const b=[new xe(o[1],t),new xe(a[0],t)];return new te(f,null,0,b,ce.ITF,new Date().getTime())}static decodeMiddle(t,n,i,o){let a=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(a.fill(0),c.fill(0),f.fill(0);n<i;){ut.recordPattern(t,n,a);for(let x=0;x<5;x++){let y=2*x;c[x]=a[y],f[x]=a[y+1]}let h=Ve.decodeDigit(c);o.append(h.toString()),h=this.decodeDigit(f),o.append(h.toString()),a.forEach(function(x){n+=x})}}decodeStart(t){let n=Ve.skipWhiteSpace(t),i=Ve.findGuardPattern(t,n,Ve.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let o=n-1;i>0&&o>=0&&!t.get(o);o--)i--;if(i!==0)throw new W}static skipWhiteSpace(t){const n=t.getSize(),i=t.getNextSet(0);if(i===n)throw new W;return i}decodeEnd(t){t.reverse();try{let n=Ve.skipWhiteSpace(t),i;try{i=Ve.findGuardPattern(t,n,Ve.END_PATTERN_REVERSED[0])}catch(a){a instanceof W&&(i=Ve.findGuardPattern(t,n,Ve.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let o=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-o,i}finally{t.reverse()}}static findGuardPattern(t,n,i){let o=i.length,a=new Int32Array(o),c=t.getSize(),f=!1,h=0,x=n;a.fill(0);for(let y=n;y<c;y++)if(t.get(y)!==f)a[h]++;else{if(h===o-1){if(ut.patternMatchVariance(a,i,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return[x,y];x+=a[0]+a[1],O.arraycopy(a,2,a,0,h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,f=!f}throw new W}static decodeDigit(t){let n=Ve.MAX_AVG_VARIANCE,i=-1,o=Ve.PATTERNS.length;for(let a=0;a<o;a++){let c=Ve.PATTERNS[a],f=ut.patternMatchVariance(t,c,Ve.MAX_INDIVIDUAL_VARIANCE);f<n?(n=f,i=a):f===n&&(i=-1)}if(i>=0)return i%10;throw new W}}Ve.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ve.MAX_AVG_VARIANCE=.38,Ve.MAX_INDIVIDUAL_VARIANCE=.5,Ve.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ve.START_PATTERN=Int32Array.from([1,1,1,1]),Ve.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class tt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let n=!1,i,o=0,a=Int32Array.from([0,0,0]);for(;!n;){a=Int32Array.from([0,0,0]),i=tt.findGuardPattern(t,o,!1,this.START_END_PATTERN,a);let c=i[0];o=i[1];let f=c-(o-c);f>=0&&(n=t.isRange(f,c,!1))}return i}static checkChecksum(t){return tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let i=parseInt(t.charAt(n-1),10);return tt.getStandardUPCEANChecksum(t.substring(0,n-1))===i}static getStandardUPCEANChecksum(t){let n=t.length,i=0;for(let o=n-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new F;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new F;i+=a}return(1e3-i)%10}static decodeEnd(t,n){return tt.findGuardPattern(t,n,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,n,i,o){return this.findGuardPattern(t,n,i,o,new Int32Array(o.length))}static findGuardPattern(t,n,i,o,a){let c=t.getSize();n=i?t.getNextUnset(n):t.getNextSet(n);let f=0,h=n,x=o.length,y=i;for(let _=n;_<c;_++)if(t.get(_)!==y)a[f]++;else{if(f===x-1){if(ut.patternMatchVariance(a,o,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return Int32Array.from([h,_]);h+=a[0]+a[1];let b=a.slice(2,a.length-1);for(let M=0;M<f-1;M++)a[M]=b[M];a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,y=!y}throw new W}static decodeDigit(t,n,i,o){this.recordPattern(t,i,n);let a=this.MAX_AVG_VARIANCE,c=-1,f=o.length;for(let h=0;h<f;h++){let x=o[h],y=ut.patternMatchVariance(n,x,tt.MAX_INDIVIDUAL_VARIANCE);y<a&&(a=y,c=h)}if(c>=0)return c;throw new W}}tt.MAX_AVG_VARIANCE=.48,tt.MAX_INDIVIDUAL_VARIANCE=.7,tt.START_END_PATTERN=Int32Array.from([1,1,1]),tt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),tt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class wn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),c=o.toString(),f=wn.parseExtensionString(c),h=[new xe((i[0]+i[1])/2,t),new xe(a,t)],x=new te(c,null,0,h,ce.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),c=n[1],f=0;for(let x=0;x<5&&c<a;x++){let y=tt.decodeDigit(t,o,c,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);for(let _ of o)c+=_;y>=10&&(f|=1<<4-x),x!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(i.length!==5)throw new W;let h=this.determineCheckDigit(f);if(wn.extensionChecksum(i.toString())!==h)throw new W;return c}static extensionChecksum(t){let n=t.length,i=0;for(let o=n-2;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;i*=3;for(let o=n-1;o>=0;o-=2)i+=t.charAt(o).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let n=0;n<10;n++)if(t===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new W}static parseExtensionString(t){if(t.length!==5)return null;let n=wn.parseExtension5String(t);return n==null?null:new Map([[Ee.SUGGESTED_PRICE,n]])}static parseExtension5String(t){let n;switch(t.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(t.substring(1)),o=(i/100).toString(),a=i%100,c=a<10?"0"+a:a.toString();return n+o+"."+c}}class n0{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,n,i){let o=this.decodeRowStringBuffer,a=this.decodeMiddle(n,i,o),c=o.toString(),f=n0.parseExtensionString(c),h=[new xe((i[0]+i[1])/2,t),new xe(a,t)],x=new te(c,null,0,h,ce.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&x.putAllMetadata(f),x}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),c=n[1],f=0;for(let h=0;h<2&&c<a;h++){let x=tt.decodeDigit(t,o,c,tt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+x%10);for(let y of o)c+=y;x>=10&&(f|=1<<1-h),h!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(i.length!==2)throw new W;if(parseInt(i.toString())%4!==f)throw new W;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(t)]])}}class i0{static decodeRow(t,n,i){let o=tt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new wn().decodeRow(t,n,o)}catch{return new n0().decodeRow(t,n,o)}}}i0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Me extends tt{constructor(){super(),this.decodeRowStringBuffer="",Me.L_AND_G_PATTERNS=Me.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let n=Me.L_PATTERNS[t-10],i=new Int32Array(n.length);for(let o=0;o<n.length;o++)i[o]=n[n.length-o-1];Me.L_AND_G_PATTERNS[t]=i}}decodeRow(t,n,i){let o=Me.findStartGuardPattern(n),a=i==null?null:i.get(L.NEED_RESULT_POINT_CALLBACK);if(a!=null){const se=new xe((o[0]+o[1])/2,t);a.foundPossibleResultPoint(se)}let c=this.decodeMiddle(n,o,this.decodeRowStringBuffer),f=c.rowOffset,h=c.resultString;if(a!=null){const se=new xe(f,t);a.foundPossibleResultPoint(se)}let x=this.decodeEnd(n,f);if(a!=null){const se=new xe((x[0]+x[1])/2,t);a.foundPossibleResultPoint(se)}let y=x[1],_=y+(y-x[0]);if(_>=n.getSize()||!n.isRange(y,_,!1))throw new W;let b=h.toString();if(b.length<8)throw new F;if(!Me.checkChecksum(b))throw new B;let M=(o[1]+o[0])/2,z=(x[1]+x[0])/2,V=this.getBarcodeFormat(),Y=[new xe(M,t),new xe(z,t)],q=new te(b,null,0,Y,V,new Date().getTime()),ae=0;try{let se=i0.decodeRow(t,n,x[1]);q.putMetadata(Ee.UPC_EAN_EXTENSION,se.getText()),q.putAllMetadata(se.getResultMetadata()),q.addResultPoints(se.getResultPoints()),ae=se.getText().length}catch{}let le=i==null?null:i.get(L.ALLOWED_EAN_EXTENSIONS);if(le!=null){let se=!1;for(let Oe in le)if(ae.toString()===Oe){se=!0;break}if(!se)throw new W}return q}decodeEnd(t,n){return Me.findGuardPattern(t,n,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Me.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let n=t.length;if(n===0)return!1;let i=parseInt(t.charAt(n-1),10);return Me.getStandardUPCEANChecksum(t.substring(0,n-1))===i}static getStandardUPCEANChecksum(t){let n=t.length,i=0;for(let o=n-1;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new F;i+=a}i*=3;for(let o=n-2;o>=0;o-=2){let a=t.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new F;i+=a}return(1e3-i)%10}}class Yr extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,i){let o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),c=n[1],f=0;for(let x=0;x<6&&c<a;x++){let y=Me.decodeDigit(t,o,c,Me.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);for(let _ of o)c+=_;y>=10&&(f|=1<<5-x)}i=Yr.determineFirstDigit(i,f),c=Me.findGuardPattern(t,c,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&c<a;x++){let y=Me.decodeDigit(t,o,c,Me.L_PATTERNS);i+=String.fromCharCode(48+y);for(let _ of o)c+=_}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(t,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new W}}Yr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ns extends Me{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,n,i){const o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),c=n[1];for(let h=0;h<4&&c<a;h++){let x=Me.decodeDigit(t,o,c,Me.L_PATTERNS);i+=String.fromCharCode(48+x);for(let y of o)c+=y}c=Me.findGuardPattern(t,c,!0,Me.MIDDLE_PATTERN,new Int32Array(Me.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&c<a;h++){let x=Me.decodeDigit(t,o,c,Me.L_PATTERNS);i+=String.fromCharCode(48+x);for(let y of o)c+=y}return{rowOffset:c,resultString:i}}getBarcodeFormat(){return ce.EAN_8}}class is extends Me{constructor(){super(...arguments),this.ean13Reader=new Yr}getBarcodeFormat(){return ce.UPC_A}decode(t,n){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,n,i))}decodeMiddle(t,n,i){return this.ean13Reader.decodeMiddle(t,n,i)}maybeReturnResult(t){let n=t.getText();if(n.charAt(0)==="0"){let i=new te(n.substring(1),null,null,t.getResultPoints(),ce.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new W}reset(){this.ean13Reader.reset()}}class ur extends Me{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,n,i){const o=this.decodeMiddleCounters.map(x=>x);o[0]=0,o[1]=0,o[2]=0,o[3]=0;const a=t.getSize();let c=n[1],f=0;for(let x=0;x<6&&c<a;x++){const y=ur.decodeDigit(t,o,c,ur.L_AND_G_PATTERNS);i+=String.fromCharCode(48+y%10);for(let _ of o)c+=_;y>=10&&(f|=1<<5-x)}let h=ur.determineNumSysAndCheckDigit(i,f);return{rowOffset:c,resultString:h}}decodeEnd(t,n){return ur.findGuardPatternWithoutCounters(t,n,!0,ur.MIDDLE_END_PATTERN)}checkChecksum(t){return Me.checkChecksum(ur.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,n){for(let i=0;i<=1;i++)for(let o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){let a=String.fromCharCode(48+i),c=String.fromCharCode(48+o);return a+t+c}throw W.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(t){const n=t.slice(1,7).split("").map(a=>a.charCodeAt(0)),i=new J;i.append(t.charAt(0));let o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}ur.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ur.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gi extends ut{constructor(t){super();let n=t==null?null:t.get(L.POSSIBLE_FORMATS),i=[];l(n)?(i.push(new Yr),i.push(new is),i.push(new ns),i.push(new ur)):(n.indexOf(ce.EAN_13)>-1&&i.push(new Yr),n.indexOf(ce.UPC_A)>-1&&i.push(new is),n.indexOf(ce.EAN_8)>-1&&i.push(new ns),n.indexOf(ce.UPC_E)>-1&&i.push(new ur)),this.readers=i}decodeRow(t,n,i){for(let o of this.readers)try{const a=o.decodeRow(t,n,i),c=a.getBarcodeFormat()===ce.EAN_13&&a.getText().charAt(0)==="0",f=i==null?null:i.get(L.POSSIBLE_FORMATS),h=f==null||f.includes(ce.UPC_A);if(c&&h){const x=a.getRawBytes(),y=new te(a.getText().substring(1),x,x?x.length:null,a.getResultPoints(),ce.UPC_A);return y.putAllMetadata(a.getResultMetadata()),y}return a}catch{}throw new W}reset(){for(let t of this.readers)t.reset()}}class Dt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,n){for(let i=0;i<n.length;i++)if(ut.patternMatchVariance(t,n[i],Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return i;throw new W}static count(t){return Te.sum(new Int32Array(t))}static increment(t,n){let i=0,o=n[0];for(let a=1;a<t.length;a++)n[a]>o&&(o=n[a],i=a);t[i]++}static decrement(t,n){let i=0,o=n[0];for(let a=1;a<t.length;a++)n[a]<o&&(o=n[a],i=a);t[i]--}static isFinderPattern(t){let n=t[0]+t[1],i=n+t[2]+t[3],o=n/i;if(o>=Dt.MIN_FINDER_PATTERN_RATIO&&o<=Dt.MAX_FINDER_PATTERN_RATIO){let a=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of t)f>c&&(c=f),f<a&&(a=f);return c<10*a}return!1}}Dt.MAX_AVG_VARIANCE=.2,Dt.MAX_INDIVIDUAL_VARIANCE=.45,Dt.MIN_FINDER_PATTERN_RATIO=9.5/12,Dt.MAX_FINDER_PATTERN_RATIO=12.5/14;class yn{constructor(t,n){this.value=t,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof yn))return!1;const n=t;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Kn{constructor(t,n,i,o,a){this.value=t,this.startEnd=n,this.value=t,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new xe(i,a)),this.resultPoints.push(new xe(o,a))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Kn))return!1;const n=t;return this.value===n.value}hashCode(){return this.value}}class Cr{constructor(){}static getRSSvalue(t,n,i){let o=0;for(let h of t)o+=h;let a=0,c=0,f=t.length;for(let h=0;h<f-1;h++){let x;for(x=1,c|=1<<h;x<t[h];x++,c&=~(1<<h)){let y=Cr.combins(o-x-1,f-h-2);if(i&&c===0&&o-x-(f-h-1)>=f-h-1&&(y-=Cr.combins(o-x-(f-h),f-h-2)),f-h-1>1){let _=0;for(let b=o-x-(f-h-2);b>n;b--)_+=Cr.combins(o-x-b-1,f-h-3);y-=_*(f-1-h)}else o-x>n&&y--;a+=y}o-=x}return a}static combins(t,n){let i,o;t-n>n?(o=n,i=t-n):(o=t-n,i=n);let a=1,c=1;for(let f=t;f>i;f--)a*=f,c<=o&&(a/=c,c++);for(;c<=o;)a/=c,c++;return a}}class ss{static buildBitArray(t){let n=t.length*2-1;t[t.length-1].getRightChar()==null&&(n-=1);let i=12*n,o=new T(i),a=0,f=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&o.set(a),a++;for(let h=1;h<t.length;++h){let x=t[h],y=x.getLeftChar().getValue();for(let _=11;_>=0;--_)y&1<<_&&o.set(a),a++;if(x.getRightChar()!=null){let _=x.getRightChar().getValue();for(let b=11;b>=0;--b)_&1<<b&&o.set(a),a++}}return o}}class pt{constructor(t,n){n?this.decodedInformation=null:(this.finished=t,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Er{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class kt extends Er{constructor(t,n){super(t),this.value=n}getValue(){return this.value}isFNC1(){return this.value===kt.FNC1}}kt.FNC1="$";class sn extends Er{constructor(t,n,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vr extends Er{constructor(t,n,i){if(super(t),n<0||n>10||i<0||i>10)throw new F;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vr.FNC1}isSecondDigitFNC1(){return this.secondDigit===vr.FNC1}isAnyFNC1(){return this.firstDigit===vr.FNC1||this.secondDigit===vr.FNC1}}vr.FNC1=10;class pe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new W;let n=t.substring(0,2);for(let a of pe.TWO_DIGIT_DATA_LENGTH)if(a[0]===n)return a[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(2,a[2],t):pe.processFixedAI(2,a[1],t);if(t.length<3)throw new W;let i=t.substring(0,3);for(let a of pe.THREE_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(3,a[2],t):pe.processFixedAI(3,a[1],t);for(let a of pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(a[0]===i)return a[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,a[2],t):pe.processFixedAI(4,a[1],t);if(t.length<4)throw new W;let o=t.substring(0,4);for(let a of pe.FOUR_DIGIT_DATA_LENGTH)if(a[0]===o)return a[1]===pe.VARIABLE_LENGTH?pe.processVariableAI(4,a[2],t):pe.processFixedAI(4,a[1],t);throw new W}static processFixedAI(t,n,i){if(i.length<t)throw new W;let o=i.substring(0,t);if(i.length<t+n)throw new W;let a=i.substring(t,t+n),c=i.substring(t+n),f="("+o+")"+a,h=pe.parseFieldsInGeneralPurpose(c);return h==null?f:f+h}static processVariableAI(t,n,i){let o=i.substring(0,t),a;i.length<t+n?a=i.length:a=t+n;let c=i.substring(t,a),f=i.substring(a),h="("+o+")"+c,x=pe.parseFieldsInGeneralPurpose(f);return x==null?h:h+x}}pe.VARIABLE_LENGTH=[],pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",pe.VARIABLE_LENGTH,20],["22",pe.VARIABLE_LENGTH,29],["30",pe.VARIABLE_LENGTH,8],["37",pe.VARIABLE_LENGTH,8],["90",pe.VARIABLE_LENGTH,30],["91",pe.VARIABLE_LENGTH,30],["92",pe.VARIABLE_LENGTH,30],["93",pe.VARIABLE_LENGTH,30],["94",pe.VARIABLE_LENGTH,30],["95",pe.VARIABLE_LENGTH,30],["96",pe.VARIABLE_LENGTH,30],["97",pe.VARIABLE_LENGTH,3],["98",pe.VARIABLE_LENGTH,30],["99",pe.VARIABLE_LENGTH,30]],pe.THREE_DIGIT_DATA_LENGTH=[["240",pe.VARIABLE_LENGTH,30],["241",pe.VARIABLE_LENGTH,30],["242",pe.VARIABLE_LENGTH,6],["250",pe.VARIABLE_LENGTH,30],["251",pe.VARIABLE_LENGTH,30],["253",pe.VARIABLE_LENGTH,17],["254",pe.VARIABLE_LENGTH,20],["400",pe.VARIABLE_LENGTH,30],["401",pe.VARIABLE_LENGTH,30],["402",17],["403",pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",pe.VARIABLE_LENGTH,20],["421",pe.VARIABLE_LENGTH,15],["422",3],["423",pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",pe.VARIABLE_LENGTH,15],["391",pe.VARIABLE_LENGTH,18],["392",pe.VARIABLE_LENGTH,15],["393",pe.VARIABLE_LENGTH,18],["703",pe.VARIABLE_LENGTH,30]],pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",pe.VARIABLE_LENGTH,20],["8003",pe.VARIABLE_LENGTH,30],["8004",pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",pe.VARIABLE_LENGTH,30],["8008",pe.VARIABLE_LENGTH,12],["8018",18],["8020",pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",pe.VARIABLE_LENGTH,70],["8200",pe.VARIABLE_LENGTH,70]];class pi{constructor(t){this.buffer=new J,this.information=t}decodeAllCodes(t,n){let i=n,o=null;do{let a=this.decodeGeneralPurposeField(i,o),c=pe.parseFieldsInGeneralPurpose(a.getNewString());if(c!=null&&t.append(c),a.isRemaining()?o=""+a.getRemainingValue():o=null,i===a.getNewPosition())break;i=a.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let n=t;n<t+3;++n)if(this.information.get(n))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let a=this.extractNumericValueFromBitArray(t,4);return a===0?new vr(this.information.getSize(),vr.FNC1,vr.FNC1):new vr(this.information.getSize(),a-1,vr.FNC1)}let n=this.extractNumericValueFromBitArray(t,7),i=(n-8)/11,o=(n-8)%11;return new vr(t+7,i,o)}extractNumericValueFromBitArray(t,n){return pi.extractNumericValueFromBitArray(this.information,t,n)}static extractNumericValueFromBitArray(t,n,i){let o=0;for(let a=0;a<i;++a)t.get(n+a)&&(o|=1<<i-a-1);return o}decodeGeneralPurposeField(t,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new sn(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new sn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),t=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),t=n.isFinished()):(n=this.parseNumericBlock(),t=n.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let n;return t.isSecondDigitFNC1()?n=new sn(this.current.getPosition(),this.buffer.toString()):n=new sn(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new pt(!0,n)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let n=new sn(this.current.getPosition(),this.buffer.toString());return new pt(!0,n)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new sn(this.current.getPosition(),this.buffer.toString());return new pt(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let n=new sn(this.current.getPosition(),this.buffer.toString());return new pt(!0,n)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,8);return o>=232&&o<253}decodeIsoIec646(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new kt(t+5,kt.FNC1);if(n>=5&&n<15)return new kt(t+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new kt(t+7,""+(i+1));if(i>=90&&i<116)return new kt(t+7,""+(i+7));let o=this.extractNumericValueFromBitArray(t,8),a;switch(o){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new F}return new kt(t+8,a)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(t,5);if(n>=5&&n<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let n=this.extractNumericValueFromBitArray(t,5);if(n===15)return new kt(t+5,kt.FNC1);if(n>=5&&n<15)return new kt(t+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new kt(t+6,""+(i+33));let o;switch(i){case 58:o="*";break;case 59:o=",";break;case 60:o="-";break;case 61:o=".";break;case 62:o="/";break;default:throw new Kt("Decoding invalid alphanumeric value: "+i)}return new kt(t+6,o)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<5&&n+t<this.information.getSize();++n)if(n===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+n))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let n=t;n<t+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let n=0;n<4&&n+t<this.information.getSize();++n)if(this.information.get(t+n))return!1;return!0}}class Uo{constructor(t){this.information=t,this.generalDecoder=new pi(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tr extends Uo{constructor(t){super(t)}encodeCompressedGtin(t,n){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,n,i)}encodeCompressedGtinWithoutAI(t,n,i){for(let o=0;o<4;++o){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&t.append("0"),a/10===0&&t.append("0"),t.append(a)}tr.appendCheckDigit(t,i)}static appendCheckDigit(t,n){let i=0;for(let o=0;o<13;o++){let a=t.charAt(o+n).charCodeAt(0)-48;i+=o&1?a:3*a}i=10-i%10,i===10&&(i=0),t.append(i)}}tr.GTIN_SIZE=40;class mi extends tr{constructor(t){super(t)}parseInformation(){let t=new J;t.append("(01)");let n=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(mi.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,mi.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,mi.HEADER_SIZE+44)}}mi.HEADER_SIZE=4;class os extends Uo{constructor(t){super(t)}parseInformation(){let t=new J;return this.getGeneralDecoder().decodeAllCodes(t,os.HEADER_SIZE)}}os.HEADER_SIZE=5;class as extends tr{constructor(t){super(t)}encodeCompressedWeight(t,n,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(t,o);let a=this.checkWeight(o),c=1e5;for(let f=0;f<5;++f)a/c===0&&t.append("0"),c/=10;t.append(a)}}class Kr extends as{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Kr.HEADER_SIZE+as.GTIN_SIZE+Kr.WEIGHT_SIZE)throw new W;let t=new J;return this.encodeCompressedGtin(t,Kr.HEADER_SIZE),this.encodeCompressedWeight(t,Kr.HEADER_SIZE+as.GTIN_SIZE,Kr.WEIGHT_SIZE),t.toString()}}Kr.HEADER_SIZE=5,Kr.WEIGHT_SIZE=15;class rx extends Kr{constructor(t){super(t)}addWeightCode(t,n){t.append("(3103)")}checkWeight(t){return t}}class nx extends Kr{constructor(t){super(t)}addWeightCode(t,n){n<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Qr extends tr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qr.HEADER_SIZE+tr.GTIN_SIZE)throw new W;let t=new J;this.encodeCompressedGtin(t,Qr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Qr.HEADER_SIZE+tr.GTIN_SIZE,Qr.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Qr.HEADER_SIZE+tr.GTIN_SIZE+Qr.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Qr.HEADER_SIZE=8,Qr.LAST_DIGIT_SIZE=2;class Qt extends tr{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+tr.GTIN_SIZE)throw new W;let t=new J;this.encodeCompressedGtin(t,Qt.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+tr.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+tr.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let o=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+tr.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return t.append(o.getNewString()),t.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class rt extends as{constructor(t,n,i){super(t),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new W;let t=new J;return this.encodeCompressedGtin(t,rt.HEADER_SIZE),this.encodeCompressedWeight(t,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(t,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,rt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let o=i%32;i/=32;let a=i%12+1;i/=12;let c=i;c/10==0&&t.append("0"),t.append(c),a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o)}addWeightCode(t,n){t.append("("),t.append(this.firstAIdigits),t.append(n/1e5),t.append(")")}checkWeight(t){return t%1e5}}rt.HEADER_SIZE=8,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function a1(I){try{if(I.get(1))return new mi(I);if(!I.get(2))return new os(I);switch(pi.extractNumericValueFromBitArray(I,1,4)){case 4:return new rx(I);case 5:return new nx(I)}switch(pi.extractNumericValueFromBitArray(I,1,5)){case 12:return new Qr(I);case 13:return new Qt(I)}switch(pi.extractNumericValueFromBitArray(I,1,7)){case 56:return new rt(I,"310","11");case 57:return new rt(I,"320","11");case 58:return new rt(I,"310","13");case 59:return new rt(I,"320","13");case 60:return new rt(I,"310","15");case 61:return new rt(I,"320","15");case 62:return new rt(I,"310","17");case 63:return new rt(I,"320","17")}}catch(t){throw console.log(t),new Kt("unknown decoder: "+I)}}class Cn{constructor(t,n,i,o){this.leftchar=t,this.rightchar=n,this.finderpattern=i,this.maybeLast=o}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,n){return t instanceof Cn?Cn.equalsOrNull(t.leftchar,n.leftchar)&&Cn.equalsOrNull(t.rightchar,n.rightchar)&&Cn.equalsOrNull(t.finderpattern,n.finderpattern):!1}static equalsOrNull(t,n){return t===null?n===null:Cn.equals(t,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class zo{constructor(t,n,i){this.pairs=t,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,n){return t instanceof zo?this.checkEqualitity(t,n)&&t.wasReversed===n.wasReversed:!1}checkEqualitity(t,n){if(!t||!n)return;let i;return t.forEach((o,a)=>{n.forEach(c=>{o.getLeftChar().getValue()===c.getLeftChar().getValue()&&o.getRightChar().getValue()===c.getRightChar().getValue()&&o.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(i=!0)})}),i}}class re extends Dt{constructor(t){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,n,i){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(t,n))}catch(o){this.verbose&&console.log(o)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(t,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,t))}catch(a){if(a instanceof W){if(!this.pairs.length)throw new W;i=!0}}if(this.checkChecksum())return this.pairs;let o;if(this.rows.length?o=!0:o=!1,this.storeRow(t,!1),o){let a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new W}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),n}checkRows(t,n){for(let i=n;i<this.rows.length;i++){let o=this.rows[i];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(o.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let a=new Array(t);a.push(o);try{return this.checkRows(a,i+1)}catch(c){this.verbose&&console.log(c)}}throw new W}static isValidSequence(t){for(let n of re.FINDER_PATTERN_SEQUENCES){if(t.length>n.length)continue;let i=!0;for(let o=0;o<t.length;o++)if(t[o].getFinderPattern().getValue()!=n[o]){i=!1;break}if(i)return!0}return!1}storeRow(t,n){let i=0,o=!1,a=!1;for(;i<this.rows.length;){let c=this.rows[i];if(c.getRowNumber()>t){a=c.isEquivalent(this.pairs);break}o=c.isEquivalent(this.pairs),i++}a||o||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new zo(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,n){for(let i of n)if(i.getPairs().length!==t.length){for(let o of i.getPairs())for(let a of t)if(Cn.equals(o,a))break}}static isPartialRow(t,n){for(let i of n){let o=!0;for(let a of t){let c=!1;for(let f of i.getPairs())if(a.equals(f)){c=!0;break}if(!c){o=!1;break}}if(o)return!0}return!1}getRows(){return this.rows}static constructResult(t){let n=ss.buildBitArray(t),o=a1(n).parseInformation(),a=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[a[0],a[1],c[0],c[1]];return new te(o,null,null,f,ce.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),n=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let o=i.getChecksumPortion(),a=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);o+=h.getLeftChar().getChecksumPortion(),a++;let x=h.getRightChar();x!=null&&(o+=x.getChecksumPortion(),a++)}return o%=211,211*(a-4)+o==n.getValue()}static getNextSecondBar(t,n){let i;return t.get(n)?(i=t.getNextUnset(n),i=t.getNextSet(i)):(i=t.getNextSet(n),i=t.getNextUnset(i)),i}retrieveNextPair(t,n,i){let o=n.length%2==0;this.startFromEven&&(o=!o);let a,c=!0,f=-1;do this.findNextPair(t,n,f),a=this.parseFoundFinderPattern(t,i,o),a==null?f=re.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let h=this.decodeDataCharacter(t,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new W;let x;try{x=this.decodeDataCharacter(t,a,o,!1)}catch(y){x=null,this.verbose&&console.log(y)}return new Cn(h,x,a,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,n,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let a=t.getSize(),c;i>=0?c=i:this.isEmptyPair(n)?c=0:c=n[n.length-1].getFinderPattern().getStartEnd()[1];let f=n.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;c<a&&(h=!t.get(c),!!h);)c++;let x=0,y=c;for(let _=c;_<a;_++)if(t.get(_)!=h)o[x]++;else{if(x==3){if(f&&re.reverseCounters(o),re.isFinderPattern(o)){this.startEnd[0]=y,this.startEnd[1]=_;return}f&&re.reverseCounters(o),y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,x--}else x++;o[x]=1,h=!h}throw new W}static reverseCounters(t){let n=t.length;for(let i=0;i<n/2;++i){let o=t[i];t[i]=t[n-i-1],t[n-i-1]=o}}parseFoundFinderPattern(t,n,i){let o,a,c;if(i){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,o=this.startEnd[0]-x,a=x,c=this.startEnd[1]}else a=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),o=c-this.startEnd[1];let f=this.getDecodeFinderCounters();O.arraycopy(f,0,f,1,f.length-1),f[0]=o;let h;try{h=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new Kn(h,[a,c],a,c,n)}decodeDataCharacter(t,n,i,o){let a=this.getDataCharacterCounters();for(let Ke=0;Ke<a.length;Ke++)a[Ke]=0;if(o)re.recordPatternInReverse(t,n.getStartEnd()[0],a);else{re.recordPattern(t,n.getStartEnd()[1],a);for(let Ke=0,Lt=a.length-1;Ke<Lt;Ke++,Lt--){let fr=a[Ke];a[Ke]=a[Lt],a[Lt]=fr}}let c=17,f=Te.sum(new Int32Array(a))/c,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new W;let x=this.getOddCounts(),y=this.getEvenCounts(),_=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let Ke=0;Ke<a.length;Ke++){let Lt=1*a[Ke]/f,fr=Lt+.5;if(fr<1){if(Lt<.3)throw new W;fr=1}else if(fr>8){if(Lt>8.7)throw new W;fr=8}let vi=Ke/2;Ke&1?(y[vi]=fr,b[vi]=Lt-fr):(x[vi]=fr,_[vi]=Lt-fr)}this.adjustOddEvenCounts(c);let M=4*n.getValue()+(i?0:2)+(o?0:1)-1,z=0,V=0;for(let Ke=x.length-1;Ke>=0;Ke--){if(re.isNotA1left(n,i,o)){let Lt=re.WEIGHTS[M][2*Ke];V+=x[Ke]*Lt}z+=x[Ke]}let Y=0;for(let Ke=y.length-1;Ke>=0;Ke--)if(re.isNotA1left(n,i,o)){let Lt=re.WEIGHTS[M][2*Ke+1];Y+=y[Ke]*Lt}let q=V+Y;if(z&1||z>13||z<4)throw new W;let ae=(13-z)/2,le=re.SYMBOL_WIDEST[ae],se=9-le,Oe=Cr.getRSSvalue(x,le,!0),De=Cr.getRSSvalue(y,se,!1),nr=re.EVEN_TOTAL_SUBSET[ae],Mr=re.GSUM[ae],ir=Oe*nr+De+Mr;return new yn(ir,q)}static isNotA1left(t,n,i){return!(t.getValue()==0&&n&&i)}adjustOddEvenCounts(t){let n=Te.sum(new Int32Array(this.getOddCounts())),i=Te.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);let c=!1,f=!1;i>13?f=!0:i<4&&(c=!0);let h=n+i-t,x=(n&1)==1,y=(i&1)==0;if(h==1)if(x){if(y)throw new W;a=!0}else{if(!y)throw new W;f=!0}else if(h==-1)if(x){if(y)throw new W;o=!0}else{if(!y)throw new W;c=!0}else if(h==0){if(x){if(!y)throw new W;n<i?(o=!0,f=!0):(a=!0,c=!0)}else if(y)throw new W}else throw new W;if(o){if(a)throw new W;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new W;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class ix extends yn{constructor(t,n,i){super(t,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dt extends Dt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,n,i){const o=this.decodePair(n,!1,t,i);dt.addOrTally(this.possibleLeftPairs,o),n.reverse();let a=this.decodePair(n,!0,t,i);dt.addOrTally(this.possibleRightPairs,a),n.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&dt.checkChecksum(c,f))return dt.constructResult(c,f)}throw new W}static addOrTally(t,n){if(n==null)return;let i=!1;for(let o of t)if(o.getValue()===n.getValue()){o.incrementCount(),i=!0;break}i||t.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,n){let i=4537077*t.getValue()+n.getValue(),o=new String(i).toString(),a=new J;for(let x=13-o.length;x>0;x--)a.append("0");a.append(o);let c=0;for(let x=0;x<13;x++){let y=a.charAt(x).charCodeAt(0)-48;c+=x&1?y:3*y}c=10-c%10,c===10&&(c=0),a.append(c.toString());let f=t.getFinderPattern().getResultPoints(),h=n.getFinderPattern().getResultPoints();return new te(a.toString(),null,0,[f[0],f[1],h[0],h[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(t,n){let i=(t.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*t.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o}decodePair(t,n,i,o){try{let a=this.findFinderPattern(t,n),c=this.parseFoundFinderPattern(t,i,n,a),f=o==null?null:o.get(L.NEED_RESULT_POINT_CALLBACK);if(f!=null){let y=(a[0]+a[1])/2;n&&(y=t.getSize()-1-y),f.foundPossibleResultPoint(new xe(y,i))}let h=this.decodeDataCharacter(t,c,!0),x=this.decodeDataCharacter(t,c,!1);return new ix(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,n,i){let o=this.getDataCharacterCounters();for(let Y=0;Y<o.length;Y++)o[Y]=0;if(i)ut.recordPatternInReverse(t,n.getStartEnd()[0],o);else{ut.recordPattern(t,n.getStartEnd()[1]+1,o);for(let Y=0,q=o.length-1;Y<q;Y++,q--){let ae=o[Y];o[Y]=o[q],o[q]=ae}}let a=i?16:15,c=Te.sum(new Int32Array(o))/a,f=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let Y=0;Y<o.length;Y++){let q=o[Y]/c,ae=Math.floor(q+.5);ae<1?ae=1:ae>8&&(ae=8);let le=Math.floor(Y/2);Y&1?(h[le]=ae,y[le]=q-ae):(f[le]=ae,x[le]=q-ae)}this.adjustOddEvenCounts(i,a);let _=0,b=0;for(let Y=f.length-1;Y>=0;Y--)b*=9,b+=f[Y],_+=f[Y];let M=0,z=0;for(let Y=h.length-1;Y>=0;Y--)M*=9,M+=h[Y],z+=h[Y];let V=b+3*M;if(i){if(_&1||_>12||_<4)throw new W;let Y=(12-_)/2,q=dt.OUTSIDE_ODD_WIDEST[Y],ae=9-q,le=Cr.getRSSvalue(f,q,!1),se=Cr.getRSSvalue(h,ae,!0),Oe=dt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],De=dt.OUTSIDE_GSUM[Y];return new yn(le*Oe+se+De,V)}else{if(z&1||z>10||z<4)throw new W;let Y=(10-z)/2,q=dt.INSIDE_ODD_WIDEST[Y],ae=9-q,le=Cr.getRSSvalue(f,q,!0),se=Cr.getRSSvalue(h,ae,!1),Oe=dt.INSIDE_ODD_TOTAL_SUBSET[Y],De=dt.INSIDE_GSUM[Y];return new yn(se*Oe+le+De,V)}}findFinderPattern(t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let o=t.getSize(),a=!1,c=0;for(;c<o&&(a=!t.get(c),n!==a);)c++;let f=0,h=c;for(let x=c;x<o;x++)if(t.get(x)!==a)i[f]++;else{if(f===3){if(Dt.isFinderPattern(i))return[h,x];h+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,a=!a}throw new W}parseFoundFinderPattern(t,n,i,o){let a=t.get(o[0]),c=o[0]-1;for(;c>=0&&a!==t.get(c);)c--;c++;const f=o[0]-c,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);O.arraycopy(h,0,x,1,h.length-1),x[0]=f;const y=this.parseFinderValue(x,dt.FINDER_PATTERNS);let _=c,b=o[1];return i&&(_=t.getSize()-1-_,b=t.getSize()-1-b),new Kn(y,[c,o[1]],_,b,n)}adjustOddEvenCounts(t,n){let i=Te.sum(new Int32Array(this.getOddCounts())),o=Te.sum(new Int32Array(this.getEvenCounts())),a=!1,c=!1,f=!1,h=!1;t?(i>12?c=!0:i<4&&(a=!0),o>12?h=!0:o<4&&(f=!0)):(i>11?c=!0:i<5&&(a=!0),o>10?h=!0:o<4&&(f=!0));let x=i+o-n,y=(i&1)===(t?1:0),_=(o&1)===1;if(x===1)if(y){if(_)throw new W;c=!0}else{if(!_)throw new W;h=!0}else if(x===-1)if(y){if(_)throw new W;a=!0}else{if(!_)throw new W;f=!0}else if(x===0){if(y){if(!_)throw new W;i<o?(a=!0,h=!0):(c=!0,f=!0)}else if(_)throw new W}else throw new W;if(a){if(c)throw new W;Dt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Dt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new W;Dt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Dt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dt.OUTSIDE_GSUM=[0,161,961,2015,2715],dt.INSIDE_GSUM=[0,336,1036,1516],dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dt.INSIDE_ODD_WIDEST=[2,4,6,8],dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class wi extends ut{constructor(t,n){super(),this.readers=[],this.verbose=n===!0;const i=t?t.get(L.POSSIBLE_FORMATS):null,o=t&&t.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ce.EAN_13)||i.includes(ce.UPC_A)||i.includes(ce.EAN_8)||i.includes(ce.UPC_E))&&this.readers.push(new gi(t)),i.includes(ce.CODE_39)&&this.readers.push(new ft(o)),i.includes(ce.CODE_128)&&this.readers.push(new ue),i.includes(ce.ITF)&&this.readers.push(new Ve),i.includes(ce.RSS_14)&&this.readers.push(new dt),i.includes(ce.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new gi(t)),this.readers.push(new ft),this.readers.push(new gi(t)),this.readers.push(new ue),this.readers.push(new Ve),this.readers.push(new dt),this.readers.push(new re(this.verbose)))}decodeRow(t,n,i){for(let o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(t,n,i)}catch{}throw new W}reset(){this.readers.forEach(t=>t.reset())}}class sx extends ne{constructor(t=500,n){super(new wi(n),t,n)}}class He{constructor(t,n,i){this.ecCodewords=t,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(t,n,i,o,a,c){this.versionNumber=t,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=o,this.dataRegionSizeColumns=a,this.ecBlocks=c;let f=0;const h=c.getECCodewords(),x=c.getECBlocks();for(let y of x)f+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,n){if(t&1||n&1)throw new F;for(let i of Fe.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===n)return i;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Fe(1,10,10,8,8,new He(5,new ze(1,3))),new Fe(2,12,12,10,10,new He(7,new ze(1,5))),new Fe(3,14,14,12,12,new He(10,new ze(1,8))),new Fe(4,16,16,14,14,new He(12,new ze(1,12))),new Fe(5,18,18,16,16,new He(14,new ze(1,18))),new Fe(6,20,20,18,18,new He(18,new ze(1,22))),new Fe(7,22,22,20,20,new He(20,new ze(1,30))),new Fe(8,24,24,22,22,new He(24,new ze(1,36))),new Fe(9,26,26,24,24,new He(28,new ze(1,44))),new Fe(10,32,32,14,14,new He(36,new ze(1,62))),new Fe(11,36,36,16,16,new He(42,new ze(1,86))),new Fe(12,40,40,18,18,new He(48,new ze(1,114))),new Fe(13,44,44,20,20,new He(56,new ze(1,144))),new Fe(14,48,48,22,22,new He(68,new ze(1,174))),new Fe(15,52,52,24,24,new He(42,new ze(2,102))),new Fe(16,64,64,14,14,new He(56,new ze(2,140))),new Fe(17,72,72,16,16,new He(36,new ze(4,92))),new Fe(18,80,80,18,18,new He(48,new ze(4,114))),new Fe(19,88,88,20,20,new He(56,new ze(4,144))),new Fe(20,96,96,22,22,new He(68,new ze(4,174))),new Fe(21,104,104,24,24,new He(56,new ze(6,136))),new Fe(22,120,120,18,18,new He(68,new ze(6,175))),new Fe(23,132,132,20,20,new He(62,new ze(8,163))),new Fe(24,144,144,22,22,new He(62,new ze(8,156),new ze(2,155))),new Fe(25,8,18,6,16,new He(7,new ze(1,5))),new Fe(26,8,32,6,14,new He(11,new ze(1,10))),new Fe(27,12,26,10,24,new He(14,new ze(1,16))),new Fe(28,12,36,10,16,new He(18,new ze(1,22))),new Fe(29,16,36,14,16,new He(24,new ze(1,32))),new Fe(30,16,48,14,22,new He(28,new ze(1,49)))]}}Fe.VERSIONS=Fe.buildVersions();class Ho{constructor(t){const n=t.getHeight();if(n<8||n>144||n&1)throw new F;this.version=Ho.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const n=t.getHeight(),i=t.getWidth();return Fe.getVersionForDimensions(n,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,o=0;const a=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,h=!1,x=!1,y=!1;do if(i===a&&o===0&&!f)t[n++]=this.readCorner1(a,c)&255,i-=2,o+=2,f=!0;else if(i===a-2&&o===0&&c&3&&!h)t[n++]=this.readCorner2(a,c)&255,i-=2,o+=2,h=!0;else if(i===a+4&&o===2&&!(c&7)&&!x)t[n++]=this.readCorner3(a,c)&255,i-=2,o+=2,x=!0;else if(i===a-2&&o===0&&(c&7)===4&&!y)t[n++]=this.readCorner4(a,c)&255,i-=2,o+=2,y=!0;else{do i<a&&o>=0&&!this.readMappingMatrix.get(o,i)&&(t[n++]=this.readUtah(i,o,a,c)&255),i-=2,o+=2;while(i>=0&&o<c);i+=1,o+=3;do i>=0&&o<c&&!this.readMappingMatrix.get(o,i)&&(t[n++]=this.readUtah(i,o,a,c)&255),i+=2,o-=2;while(i<a&&o>=0);i+=3,o+=1}while(i<a||o<c);if(n!==this.version.getTotalCodewords())throw new F;return t}readModule(t,n,i,o){return t<0&&(t+=i,n+=4-(i+4&7)),n<0&&(n+=o,t+=4-(o+4&7)),this.readMappingMatrix.set(n,t),this.mappingBitMatrix.get(n,t)}readUtah(t,n,i,o){let a=0;return this.readModule(t-2,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t-2,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t-1,n,i,o)&&(a|=1),a<<=1,this.readModule(t,n-2,i,o)&&(a|=1),a<<=1,this.readModule(t,n-1,i,o)&&(a|=1),a<<=1,this.readModule(t,n,i,o)&&(a|=1),a}readCorner1(t,n){let i=0;return this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,1,t,n)&&(i|=1),i<<=1,this.readModule(t-1,2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(2,n-1,t,n)&&(i|=1),i<<=1,this.readModule(3,n-1,t,n)&&(i|=1),i}readCorner2(t,n){let i=0;return this.readModule(t-3,0,t,n)&&(i|=1),i<<=1,this.readModule(t-2,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(0,n-4,t,n)&&(i|=1),i<<=1,this.readModule(0,n-3,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i}readCorner3(t,n){let i=0;return this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(0,n-3,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-3,t,n)&&(i|=1),i<<=1,this.readModule(1,n-2,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i}readCorner4(t,n){let i=0;return this.readModule(t-3,0,t,n)&&(i|=1),i<<=1,this.readModule(t-2,0,t,n)&&(i|=1),i<<=1,this.readModule(t-1,0,t,n)&&(i|=1),i<<=1,this.readModule(0,n-2,t,n)&&(i|=1),i<<=1,this.readModule(0,n-1,t,n)&&(i|=1),i<<=1,this.readModule(1,n-1,t,n)&&(i|=1),i<<=1,this.readModule(2,n-1,t,n)&&(i|=1),i<<=1,this.readModule(3,n-1,t,n)&&(i|=1),i}extractDataRegion(t){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==n)throw new N("Dimension of bitMatrix must match the version size");const o=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),c=n/o|0,f=i/a|0,h=c*o,x=f*a,y=new fe(x,h);for(let _=0;_<c;++_){const b=_*o;for(let M=0;M<f;++M){const z=M*a;for(let V=0;V<o;++V){const Y=_*(o+2)+1+V,q=b+V;for(let ae=0;ae<a;++ae){const le=M*(a+2)+1+ae;if(t.get(le,Y)){const se=z+ae;y.set(se,q)}}}}}return y}}class Vo{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n){const i=n.getECBlocks();let o=0;const a=i.getECBlocks();for(let V of a)o+=V.getCount();const c=new Array(o);let f=0;for(let V of a)for(let Y=0;Y<V.getCount();Y++){const q=V.getDataCodewords(),ae=i.getECCodewords()+q;c[f++]=new Vo(q,new Uint8Array(ae))}const x=c[0].codewords.length-i.getECCodewords(),y=x-1;let _=0;for(let V=0;V<y;V++)for(let Y=0;Y<f;Y++)c[Y].codewords[V]=t[_++];const b=n.getVersionNumber()===24,M=b?8:f;for(let V=0;V<M;V++)c[V].codewords[x-1]=t[_++];const z=c[0].codewords.length;for(let V=x;V<z;V++)for(let Y=0;Y<f;Y++){const q=b?(Y+8)%f:Y,ae=b&&q>7?V-1:V;c[q].codewords[ae]=t[_++]}if(_!==t.length)throw new N;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Go{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new N(""+t);let n=0,i=this.bitOffset,o=this.byteOffset;const a=this.bytes;if(i>0){const c=8-i,f=t<c?t:c,h=c-f,x=255>>8-f<<h;n=(a[o]&x)>>h,t-=f,i+=f,i===8&&(i=0,o++)}if(t>0){for(;t>=8;)n=n<<8|a[o]&255,o++,t-=8;if(t>0){const c=8-t,f=255>>c<<c;n=n<<t|(a[o]&f)>>c,i+=t}}return this.bitOffset=i,this.byteOffset=o,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class En{static decode(t){const n=new Go(t),i=new J,o=new J,a=new Array;let c=Et.ASCII_ENCODE;do if(c===Et.ASCII_ENCODE)c=this.decodeAsciiSegment(n,i,o);else{switch(c){case Et.C40_ENCODE:this.decodeC40Segment(n,i);break;case Et.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(n,i,a);break;default:throw new F}c=Et.ASCII_ENCODE}while(c!==Et.PAD_ENCODE&&n.available()>0);return o.length()>0&&i.append(o.toString()),new Rr(t,i.toString(),a.length===0?null:a,null)}static decodeAsciiSegment(t,n,i){let o=!1;do{let a=t.readBits(8);if(a===0)throw new F;if(a<=128)return o&&(a+=128),n.append(String.fromCharCode(a-1)),Et.ASCII_ENCODE;if(a===129)return Et.PAD_ENCODE;if(a<=229){const c=a-130;c<10&&n.append("0"),n.append(""+c)}else switch(a){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:o=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(a!==254||t.available()!==0)throw new F;break}}while(t.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(t,n){let i=!1;const o=[];let a=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(a){case 0:if(h<3)a=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),i=!1):n.append(x)}else throw new F;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),i=!1):n.append(x)}else switch(h){case 27:n.append("");break;case 30:i=!0;break;default:throw new F}a=0;break;case 3:i?(n.append(String.fromCharCode(h+224)),i=!1):n.append(String.fromCharCode(h+96)),a=0;break;default:throw new F}}}while(t.available()>0)}static decodeTextSegment(t,n){let i=!1,o=[],a=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let f=0;f<3;f++){const h=o[f];switch(a){case 0:if(h<3)a=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];i?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),i=!1):n.append(x)}else throw new F;break;case 1:i?(n.append(String.fromCharCode(h+128)),i=!1):n.append(String.fromCharCode(h)),a=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];i?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),i=!1):n.append(x)}else switch(h){case 27:n.append("");break;case 30:i=!0;break;default:throw new F}a=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];i?(n.append(String.fromCharCode(x.charCodeAt(0)+128)),i=!1):n.append(x),a=0}else throw new F;break;default:throw new F}}}while(t.available()>0)}static decodeAnsiX12Segment(t,n){const i=[];do{if(t.available()===8)return;const o=t.readBits(8);if(o===254)return;this.parseTwoBytes(o,t.readBits(8),i);for(let a=0;a<3;a++){const c=i[a];switch(c){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(c<14)n.append(String.fromCharCode(c+44));else if(c<40)n.append(String.fromCharCode(c+51));else throw new F;break}}}while(t.available()>0)}static parseTwoBytes(t,n,i){let o=(t<<8)+n-1,a=Math.floor(o/1600);i[0]=a,o-=a*1600,a=Math.floor(o/40),i[1]=a,i[2]=o-a*40}static decodeEdifactSegment(t,n){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let o=t.readBits(6);if(o===31){const a=8-t.getBitOffset();a!==8&&t.readBits(a);return}o&32||(o|=64),n.append(String.fromCharCode(o))}}while(t.available()>0)}static decodeBase256Segment(t,n,i){let o=1+t.getByteOffset();const a=this.unrandomize255State(t.readBits(8),o++);let c;if(a===0?c=t.available()/8|0:a<250?c=a:c=250*(a-249)+this.unrandomize255State(t.readBits(8),o++),c<0)throw new F;const f=new Uint8Array(c);for(let h=0;h<c;h++){if(t.available()<8)throw new F;f[h]=this.unrandomize255State(t.readBits(8),o++)}i.push(f);try{n.append(X.decode(f,Q.ISO88591))}catch(h){throw new Kt("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,n){const i=149*n%255+1,o=t-i;return o>=0?o:o+256}}En.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],En.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],En.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],En.TEXT_SHIFT2_SET_CHARS=En.C40_SHIFT2_SET_CHARS,En.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ox{constructor(){this.rsDecoder=new Or(Ne.DATA_MATRIX_FIELD_256)}decode(t){const n=new Ho(t),i=n.getVersion(),o=n.readCodewords(),a=Vo.getDataBlocks(o,i);let c=0;for(let x of a)c+=x.getNumDataCodewords();const f=new Uint8Array(c),h=a.length;for(let x=0;x<h;x++){const y=a[x],_=y.getCodewords(),b=y.getNumDataCodewords();this.correctErrors(_,b);for(let M=0;M<b;M++)f[M*h+x]=_[M]}return En.decode(f)}correctErrors(t,n){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-n)}catch{throw new B}for(let o=0;o<n;o++)t[o]=i[o]}}class mt{constructor(t){this.image=t,this.rectangleDetector=new er(this.image)}detect(){const t=this.rectangleDetector.detect();let n=this.detectSolid1(t);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new W;n=this.shiftToModuleCenter(n);const i=n[0],o=n[1],a=n[2],c=n[3];let f=this.transitionsBetween(i,c)+1,h=this.transitionsBetween(a,c)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let x=mt.sampleGrid(this.image,i,o,a,c,f,h);return new Ft(x,[i,o,a,c])}static shiftPoint(t,n,i){let o=(n.getX()-t.getX())/(i+1),a=(n.getY()-t.getY())/(i+1);return new xe(t.getX()+o,t.getY()+a)}static moveAway(t,n,i){let o=t.getX(),a=t.getY();return o<n?o-=1:o+=1,a<i?a-=1:a+=1,new xe(o,a)}detectSolid1(t){let n=t[0],i=t[1],o=t[3],a=t[2],c=this.transitionsBetween(n,i),f=this.transitionsBetween(i,o),h=this.transitionsBetween(o,a),x=this.transitionsBetween(a,n),y=c,_=[a,n,i,o];return y>f&&(y=f,_[0]=n,_[1]=i,_[2]=o,_[3]=a),y>h&&(y=h,_[0]=i,_[1]=o,_[2]=a,_[3]=n),y>x&&(_[0]=o,_[1]=a,_[2]=n,_[3]=i),_}detectSolid2(t){let n=t[0],i=t[1],o=t[2],a=t[3],c=this.transitionsBetween(n,a),f=mt.shiftPoint(i,o,(c+1)*4),h=mt.shiftPoint(o,i,(c+1)*4),x=this.transitionsBetween(f,n),y=this.transitionsBetween(h,a);return x<y?(t[0]=n,t[1]=i,t[2]=o,t[3]=a):(t[0]=i,t[1]=o,t[2]=a,t[3]=n),t}correctTopRight(t){let n=t[0],i=t[1],o=t[2],a=t[3],c=this.transitionsBetween(n,a),f=this.transitionsBetween(i,a),h=mt.shiftPoint(n,i,(f+1)*4),x=mt.shiftPoint(o,i,(c+1)*4);c=this.transitionsBetween(h,a),f=this.transitionsBetween(x,a);let y=new xe(a.getX()+(o.getX()-i.getX())/(c+1),a.getY()+(o.getY()-i.getY())/(c+1)),_=new xe(a.getX()+(n.getX()-i.getX())/(f+1),a.getY()+(n.getY()-i.getY())/(f+1));if(!this.isValid(y))return this.isValid(_)?_:null;if(!this.isValid(_))return y;let b=this.transitionsBetween(h,y)+this.transitionsBetween(x,y),M=this.transitionsBetween(h,_)+this.transitionsBetween(x,_);return b>M?y:_}shiftToModuleCenter(t){let n=t[0],i=t[1],o=t[2],a=t[3],c=this.transitionsBetween(n,a)+1,f=this.transitionsBetween(o,a)+1,h=mt.shiftPoint(n,i,f*4),x=mt.shiftPoint(o,i,c*4);c=this.transitionsBetween(h,a)+1,f=this.transitionsBetween(x,a)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let y=(n.getX()+i.getX()+o.getX()+a.getX())/4,_=(n.getY()+i.getY()+o.getY()+a.getY())/4;n=mt.moveAway(n,y,_),i=mt.moveAway(i,y,_),o=mt.moveAway(o,y,_),a=mt.moveAway(a,y,_);let b,M;return h=mt.shiftPoint(n,i,f*4),h=mt.shiftPoint(h,a,c*4),b=mt.shiftPoint(i,n,f*4),b=mt.shiftPoint(b,o,c*4),x=mt.shiftPoint(o,a,f*4),x=mt.shiftPoint(x,i,c*4),M=mt.shiftPoint(a,o,f*4),M=mt.shiftPoint(M,n,c*4),[h,b,x,M]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,n,i,o,a,c,f){return Xr.getInstance().sampleGrid(t,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,n.getX(),n.getY(),a.getX(),a.getY(),o.getX(),o.getY(),i.getX(),i.getY())}transitionsBetween(t,n){let i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),a=Math.trunc(n.getX()),c=Math.trunc(n.getY()),f=Math.abs(c-o)>Math.abs(a-i);if(f){let V=i;i=o,o=V,V=a,a=c,c=V}let h=Math.abs(a-i),x=Math.abs(c-o),y=-h/2,_=o<c?1:-1,b=i<a?1:-1,M=0,z=this.image.get(f?o:i,f?i:o);for(let V=i,Y=o;V!==a;V+=b){let q=this.image.get(f?Y:V,f?V:Y);if(q!==z&&(M++,z=q),y+=x,y>0){if(Y===c)break;Y+=_,y-=h}}return M}}class vn{constructor(){this.decoder=new ox}decode(t,n=null){let i,o;if(n!=null&&n.has(L.PURE_BARCODE)){const x=vn.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(x),o=vn.NO_POINTS}else{const x=new mt(t.getBlackMatrix()).detect();i=this.decoder.decode(x.getBits()),o=x.getPoints()}const a=i.getRawBytes(),c=new te(i.getText(),a,8*a.length,o,ce.DATA_MATRIX,O.currentTimeMillis()),f=i.getByteSegments();f!=null&&c.putMetadata(Ee.BYTE_SEGMENTS,f);const h=i.getECLevel();return h!=null&&c.putMetadata(Ee.ERROR_CORRECTION_LEVEL,h),c}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(n==null||i==null)throw new W;const o=this.moduleSize(n,t);let a=n[1];const c=i[1];let f=n[0];const x=(i[0]-f+1)/o,y=(c-a+1)/o;if(x<=0||y<=0)throw new W;const _=o/2;a+=_,f+=_;const b=new fe(x,y);for(let M=0;M<y;M++){const z=a+M*o;for(let V=0;V<x;V++)t.get(f+V*o,z)&&b.set(V,M)}return b}static moduleSize(t,n){const i=n.getWidth();let o=t[0];const a=t[1];for(;o<i&&n.get(o,a);)o++;if(o===i)throw new W;const c=o-t[0];if(c===0)throw new W;return c}}vn.NO_POINTS=[];class ax extends ne{constructor(t=500){super(new vn,t)}}var yi;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(yi||(yi={}));class Qe{constructor(t,n,i){this.value=t,this.stringValue=n,this.bits=i,Qe.FOR_BITS.set(i,this),Qe.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Qe.L;case"M":return Qe.M;case"Q":return Qe.Q;case"H":return Qe.H;default:throw new E(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Qe))return!1;const n=t;return this.value===n.value}static forBits(t){if(t<0||t>=Qe.FOR_BITS.size)throw new N;return Qe.FOR_BITS.get(t)}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.L=new Qe(yi.L,"L",1),Qe.M=new Qe(yi.M,"M",0),Qe.Q=new Qe(yi.Q,"Q",3),Qe.H=new Qe(yi.H,"H",2);class Vt{constructor(t){this.errorCorrectionLevel=Qe.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,n){return v.bitCount(t^n)}static decodeFormatInformation(t,n){const i=Vt.doDecodeFormatInformation(t,n);return i!==null?i:Vt.doDecodeFormatInformation(t^Vt.FORMAT_INFO_MASK_QR,n^Vt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,n){let i=Number.MAX_SAFE_INTEGER,o=0;for(const a of Vt.FORMAT_INFO_DECODE_LOOKUP){const c=a[0];if(c===t||c===n)return new Vt(a[1]);let f=Vt.numBitsDiffering(t,c);f<i&&(o=a[1],i=f),t!==n&&(f=Vt.numBitsDiffering(n,c),f<i&&(o=a[1],i=f))}return i<=3?new Vt(o):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Vt))return!1;const n=t;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Vt.FORMAT_INFO_MASK_QR=21522,Vt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(t,...n){this.ecCodewordsPerBlock=t,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const n=this.ecBlocks;for(const i of n)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(t,n){this.count=t,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(t,n,...i){this.versionNumber=t,this.alignmentPatternCenters=n,this.ecBlocks=i;let o=0;const a=i[0].getECCodewordsPerBlock(),c=i[0].getECBlocks();for(const f of c)o+=f.getCount()*(f.getDataCodewords()+a);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new F;try{return this.getVersionForNumber((t-17)/4)}catch{throw new F}}static getVersionForNumber(t){if(t<1||t>40)throw new N;return ve.VERSIONS[t-1]}static decodeVersionInformation(t){let n=Number.MAX_SAFE_INTEGER,i=0;for(let o=0;o<ve.VERSION_DECODE_INFO.length;o++){const a=ve.VERSION_DECODE_INFO[o];if(a===t)return ve.getVersionForNumber(o+7);const c=Vt.numBitsDiffering(t,a);c<n&&(i=o+7,n=c)}return n<=3?ve.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),n=new fe(t);n.setRegion(0,0,9,9),n.setRegion(t-8,0,8,9),n.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let o=0;o<i;o++){const a=this.alignmentPatternCenters[o]-2;for(let c=0;c<i;c++)o===0&&(c===0||c===i-1)||o===i-1&&c===0||n.setRegion(this.alignmentPatternCenters[c]-2,a,5,5)}return n.setRegion(6,9,1,t-17),n.setRegion(9,6,t-17,1),this.versionNumber>6&&(n.setRegion(t-11,0,3,6),n.setRegion(0,t-11,6,3)),n}toString(){return""+this.versionNumber}}ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ve.VERSIONS=[new ve(1,new Int32Array(0),new K(7,new k(1,19)),new K(10,new k(1,16)),new K(13,new k(1,13)),new K(17,new k(1,9))),new ve(2,Int32Array.from([6,18]),new K(10,new k(1,34)),new K(16,new k(1,28)),new K(22,new k(1,22)),new K(28,new k(1,16))),new ve(3,Int32Array.from([6,22]),new K(15,new k(1,55)),new K(26,new k(1,44)),new K(18,new k(2,17)),new K(22,new k(2,13))),new ve(4,Int32Array.from([6,26]),new K(20,new k(1,80)),new K(18,new k(2,32)),new K(26,new k(2,24)),new K(16,new k(4,9))),new ve(5,Int32Array.from([6,30]),new K(26,new k(1,108)),new K(24,new k(2,43)),new K(18,new k(2,15),new k(2,16)),new K(22,new k(2,11),new k(2,12))),new ve(6,Int32Array.from([6,34]),new K(18,new k(2,68)),new K(16,new k(4,27)),new K(24,new k(4,19)),new K(28,new k(4,15))),new ve(7,Int32Array.from([6,22,38]),new K(20,new k(2,78)),new K(18,new k(4,31)),new K(18,new k(2,14),new k(4,15)),new K(26,new k(4,13),new k(1,14))),new ve(8,Int32Array.from([6,24,42]),new K(24,new k(2,97)),new K(22,new k(2,38),new k(2,39)),new K(22,new k(4,18),new k(2,19)),new K(26,new k(4,14),new k(2,15))),new ve(9,Int32Array.from([6,26,46]),new K(30,new k(2,116)),new K(22,new k(3,36),new k(2,37)),new K(20,new k(4,16),new k(4,17)),new K(24,new k(4,12),new k(4,13))),new ve(10,Int32Array.from([6,28,50]),new K(18,new k(2,68),new k(2,69)),new K(26,new k(4,43),new k(1,44)),new K(24,new k(6,19),new k(2,20)),new K(28,new k(6,15),new k(2,16))),new ve(11,Int32Array.from([6,30,54]),new K(20,new k(4,81)),new K(30,new k(1,50),new k(4,51)),new K(28,new k(4,22),new k(4,23)),new K(24,new k(3,12),new k(8,13))),new ve(12,Int32Array.from([6,32,58]),new K(24,new k(2,92),new k(2,93)),new K(22,new k(6,36),new k(2,37)),new K(26,new k(4,20),new k(6,21)),new K(28,new k(7,14),new k(4,15))),new ve(13,Int32Array.from([6,34,62]),new K(26,new k(4,107)),new K(22,new k(8,37),new k(1,38)),new K(24,new k(8,20),new k(4,21)),new K(22,new k(12,11),new k(4,12))),new ve(14,Int32Array.from([6,26,46,66]),new K(30,new k(3,115),new k(1,116)),new K(24,new k(4,40),new k(5,41)),new K(20,new k(11,16),new k(5,17)),new K(24,new k(11,12),new k(5,13))),new ve(15,Int32Array.from([6,26,48,70]),new K(22,new k(5,87),new k(1,88)),new K(24,new k(5,41),new k(5,42)),new K(30,new k(5,24),new k(7,25)),new K(24,new k(11,12),new k(7,13))),new ve(16,Int32Array.from([6,26,50,74]),new K(24,new k(5,98),new k(1,99)),new K(28,new k(7,45),new k(3,46)),new K(24,new k(15,19),new k(2,20)),new K(30,new k(3,15),new k(13,16))),new ve(17,Int32Array.from([6,30,54,78]),new K(28,new k(1,107),new k(5,108)),new K(28,new k(10,46),new k(1,47)),new K(28,new k(1,22),new k(15,23)),new K(28,new k(2,14),new k(17,15))),new ve(18,Int32Array.from([6,30,56,82]),new K(30,new k(5,120),new k(1,121)),new K(26,new k(9,43),new k(4,44)),new K(28,new k(17,22),new k(1,23)),new K(28,new k(2,14),new k(19,15))),new ve(19,Int32Array.from([6,30,58,86]),new K(28,new k(3,113),new k(4,114)),new K(26,new k(3,44),new k(11,45)),new K(26,new k(17,21),new k(4,22)),new K(26,new k(9,13),new k(16,14))),new ve(20,Int32Array.from([6,34,62,90]),new K(28,new k(3,107),new k(5,108)),new K(26,new k(3,41),new k(13,42)),new K(30,new k(15,24),new k(5,25)),new K(28,new k(15,15),new k(10,16))),new ve(21,Int32Array.from([6,28,50,72,94]),new K(28,new k(4,116),new k(4,117)),new K(26,new k(17,42)),new K(28,new k(17,22),new k(6,23)),new K(30,new k(19,16),new k(6,17))),new ve(22,Int32Array.from([6,26,50,74,98]),new K(28,new k(2,111),new k(7,112)),new K(28,new k(17,46)),new K(30,new k(7,24),new k(16,25)),new K(24,new k(34,13))),new ve(23,Int32Array.from([6,30,54,78,102]),new K(30,new k(4,121),new k(5,122)),new K(28,new k(4,47),new k(14,48)),new K(30,new k(11,24),new k(14,25)),new K(30,new k(16,15),new k(14,16))),new ve(24,Int32Array.from([6,28,54,80,106]),new K(30,new k(6,117),new k(4,118)),new K(28,new k(6,45),new k(14,46)),new K(30,new k(11,24),new k(16,25)),new K(30,new k(30,16),new k(2,17))),new ve(25,Int32Array.from([6,32,58,84,110]),new K(26,new k(8,106),new k(4,107)),new K(28,new k(8,47),new k(13,48)),new K(30,new k(7,24),new k(22,25)),new K(30,new k(22,15),new k(13,16))),new ve(26,Int32Array.from([6,30,58,86,114]),new K(28,new k(10,114),new k(2,115)),new K(28,new k(19,46),new k(4,47)),new K(28,new k(28,22),new k(6,23)),new K(30,new k(33,16),new k(4,17))),new ve(27,Int32Array.from([6,34,62,90,118]),new K(30,new k(8,122),new k(4,123)),new K(28,new k(22,45),new k(3,46)),new K(30,new k(8,23),new k(26,24)),new K(30,new k(12,15),new k(28,16))),new ve(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new k(3,117),new k(10,118)),new K(28,new k(3,45),new k(23,46)),new K(30,new k(4,24),new k(31,25)),new K(30,new k(11,15),new k(31,16))),new ve(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new k(7,116),new k(7,117)),new K(28,new k(21,45),new k(7,46)),new K(30,new k(1,23),new k(37,24)),new K(30,new k(19,15),new k(26,16))),new ve(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new k(5,115),new k(10,116)),new K(28,new k(19,47),new k(10,48)),new K(30,new k(15,24),new k(25,25)),new K(30,new k(23,15),new k(25,16))),new ve(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new k(13,115),new k(3,116)),new K(28,new k(2,46),new k(29,47)),new K(30,new k(42,24),new k(1,25)),new K(30,new k(23,15),new k(28,16))),new ve(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new k(17,115)),new K(28,new k(10,46),new k(23,47)),new K(30,new k(10,24),new k(35,25)),new K(30,new k(19,15),new k(35,16))),new ve(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new k(17,115),new k(1,116)),new K(28,new k(14,46),new k(21,47)),new K(30,new k(29,24),new k(19,25)),new K(30,new k(11,15),new k(46,16))),new ve(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new k(13,115),new k(6,116)),new K(28,new k(14,46),new k(23,47)),new K(30,new k(44,24),new k(7,25)),new K(30,new k(59,16),new k(1,17))),new ve(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new k(12,121),new k(7,122)),new K(28,new k(12,47),new k(26,48)),new K(30,new k(39,24),new k(14,25)),new K(30,new k(22,15),new k(41,16))),new ve(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new k(6,121),new k(14,122)),new K(28,new k(6,47),new k(34,48)),new K(30,new k(46,24),new k(10,25)),new K(30,new k(2,15),new k(64,16))),new ve(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new k(17,122),new k(4,123)),new K(28,new k(29,46),new k(14,47)),new K(30,new k(49,24),new k(10,25)),new K(30,new k(24,15),new k(46,16))),new ve(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new k(4,122),new k(18,123)),new K(28,new k(13,46),new k(32,47)),new K(30,new k(48,24),new k(14,25)),new K(30,new k(42,15),new k(32,16))),new ve(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new k(20,117),new k(4,118)),new K(28,new k(40,47),new k(7,48)),new K(30,new k(43,24),new k(22,25)),new K(30,new k(10,15),new k(67,16))),new ve(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new k(19,118),new k(6,119)),new K(28,new k(18,47),new k(31,48)),new K(30,new k(34,24),new k(34,25)),new K(30,new k(20,15),new k(61,16)))];var Bt;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Bt||(Bt={}));class Ar{constructor(t,n){this.value=t,this.isMasked=n}unmaskBitMatrix(t,n){for(let i=0;i<n;i++)for(let o=0;o<n;o++)this.isMasked(i,o)&&t.flip(o,i)}}Ar.values=new Map([[Bt.DATA_MASK_000,new Ar(Bt.DATA_MASK_000,(I,t)=>(I+t&1)===0)],[Bt.DATA_MASK_001,new Ar(Bt.DATA_MASK_001,(I,t)=>(I&1)===0)],[Bt.DATA_MASK_010,new Ar(Bt.DATA_MASK_010,(I,t)=>t%3===0)],[Bt.DATA_MASK_011,new Ar(Bt.DATA_MASK_011,(I,t)=>(I+t)%3===0)],[Bt.DATA_MASK_100,new Ar(Bt.DATA_MASK_100,(I,t)=>(Math.floor(I/2)+Math.floor(t/3)&1)===0)],[Bt.DATA_MASK_101,new Ar(Bt.DATA_MASK_101,(I,t)=>I*t%6===0)],[Bt.DATA_MASK_110,new Ar(Bt.DATA_MASK_110,(I,t)=>I*t%6<3)],[Bt.DATA_MASK_111,new Ar(Bt.DATA_MASK_111,(I,t)=>(I+t+I*t%3&1)===0)]]);class lx{constructor(t){const n=t.getHeight();if(n<21||(n&3)!==1)throw new F;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let a=0;a<6;a++)t=this.copyBit(a,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let a=5;a>=0;a--)t=this.copyBit(8,a,t);const n=this.bitMatrix.getHeight();let i=0;const o=n-7;for(let a=n-1;a>=o;a--)i=this.copyBit(8,a,i);for(let a=n-8;a<n;a++)i=this.copyBit(a,8,i);if(this.parsedFormatInfo=Vt.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),n=Math.floor((t-17)/4);if(n<=6)return ve.getVersionForNumber(n);let i=0;const o=t-11;for(let c=5;c>=0;c--)for(let f=t-9;f>=o;f--)i=this.copyBit(f,c,i);let a=ve.decodeVersionInformation(i);if(a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;i=0;for(let c=5;c>=0;c--)for(let f=t-9;f>=o;f--)i=this.copyBit(c,f,i);if(a=ve.decodeVersionInformation(i),a!==null&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new F}copyBit(t,n,i){return(this.isMirror?this.bitMatrix.get(n,t):this.bitMatrix.get(t,n))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),n=this.readVersion(),i=Ar.values.get(t.getDataMask()),o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o);const a=n.buildFunctionPattern();let c=!0;const f=new Uint8Array(n.getTotalCodewords());let h=0,x=0,y=0;for(let _=o-1;_>0;_-=2){_===6&&_--;for(let b=0;b<o;b++){const M=c?o-1-b:b;for(let z=0;z<2;z++)a.get(_-z,M)||(y++,x<<=1,this.bitMatrix.get(_-z,M)&&(x|=1),y===8&&(f[h++]=x,y=0,x=0))}c=!c}if(h!==n.getTotalCodewords())throw new F;return f}remask(){if(this.parsedFormatInfo===null)return;const t=Ar.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,n)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let n=0,i=t.getWidth();n<i;n++)for(let o=n+1,a=t.getHeight();o<a;o++)t.get(n,o)!==t.get(o,n)&&(t.flip(o,n),t.flip(n,o))}}class Wo{constructor(t,n){this.numDataCodewords=t,this.codewords=n}static getDataBlocks(t,n,i){if(t.length!==n.getTotalCodewords())throw new N;const o=n.getECBlocksForLevel(i);let a=0;const c=o.getECBlocks();for(const z of c)a+=z.getCount();const f=new Array(a);let h=0;for(const z of c)for(let V=0;V<z.getCount();V++){const Y=z.getDataCodewords(),q=o.getECCodewordsPerBlock()+Y;f[h++]=new Wo(Y,new Uint8Array(q))}const x=f[0].codewords.length;let y=f.length-1;for(;y>=0&&f[y].codewords.length!==x;)y--;y++;const _=x-o.getECCodewordsPerBlock();let b=0;for(let z=0;z<_;z++)for(let V=0;V<h;V++)f[V].codewords[z]=t[b++];for(let z=y;z<h;z++)f[z].codewords[_]=t[b++];const M=f[0].codewords.length;for(let z=_;z<M;z++)for(let V=0;V<h;V++){const Y=V<y?z:z+1;f[V].codewords[Y]=t[b++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Sr;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(Sr||(Sr={}));class Ae{constructor(t,n,i,o){this.value=t,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=o,Ae.FOR_BITS.set(o,this),Ae.FOR_VALUE.set(t,this)}static forBits(t){const n=Ae.FOR_BITS.get(t);if(n===void 0)throw new N;return n}getCharacterCountBits(t){const n=t.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ae))return!1;const n=t;return this.value===n.value}toString(){return this.stringValue}}Ae.FOR_BITS=new Map,Ae.FOR_VALUE=new Map,Ae.TERMINATOR=new Ae(Sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ae.NUMERIC=new Ae(Sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ae.ALPHANUMERIC=new Ae(Sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ae.STRUCTURED_APPEND=new Ae(Sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ae.BYTE=new Ae(Sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ae.ECI=new Ae(Sr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ae.KANJI=new Ae(Sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ae.FNC1_FIRST_POSITION=new Ae(Sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ae.FNC1_SECOND_POSITION=new Ae(Sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ae.HANZI=new Ae(Sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class st{static decode(t,n,i,o){const a=new Go(t);let c=new J;const f=new Array;let h=-1,x=-1;try{let y=null,_=!1,b;do{if(a.available()<4)b=Ae.TERMINATOR;else{const M=a.readBits(4);b=Ae.forBits(M)}switch(b){case Ae.TERMINATOR:break;case Ae.FNC1_FIRST_POSITION:case Ae.FNC1_SECOND_POSITION:_=!0;break;case Ae.STRUCTURED_APPEND:if(a.available()<16)throw new F;h=a.readBits(8),x=a.readBits(8);break;case Ae.ECI:const M=st.parseECIValue(a);if(y=G.getCharacterSetECIByValue(M),y===null)throw new F;break;case Ae.HANZI:const z=a.readBits(4),V=a.readBits(b.getCharacterCountBits(n));z===st.GB2312_SUBSET&&st.decodeHanziSegment(a,c,V);break;default:const Y=a.readBits(b.getCharacterCountBits(n));switch(b){case Ae.NUMERIC:st.decodeNumericSegment(a,c,Y);break;case Ae.ALPHANUMERIC:st.decodeAlphanumericSegment(a,c,Y,_);break;case Ae.BYTE:st.decodeByteSegment(a,c,Y,y,f,o);break;case Ae.KANJI:st.decodeKanjiSegment(a,c,Y);break;default:throw new F}break}}while(b!==Ae.TERMINATOR)}catch{throw new F}return new Rr(t,c.toString(),f.length===0?null:f,i===null?null:i.toString(),h,x)}static decodeHanziSegment(t,n,i){if(i*13>t.available())throw new F;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=t.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,o[a]=f>>8&255,o[a+1]=f&255,a+=2,i--}try{n.append(X.decode(o,Q.GB2312))}catch(c){throw new F(c)}}static decodeKanjiSegment(t,n,i){if(i*13>t.available())throw new F;const o=new Uint8Array(2*i);let a=0;for(;i>0;){const c=t.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,o[a]=f>>8,o[a+1]=f,a+=2,i--}try{n.append(X.decode(o,Q.SHIFT_JIS))}catch(c){throw new F(c)}}static decodeByteSegment(t,n,i,o,a,c){if(8*i>t.available())throw new F;const f=new Uint8Array(i);for(let x=0;x<i;x++)f[x]=t.readBits(8);let h;o===null?h=Q.guessEncoding(f,c):h=o.getName();try{n.append(X.decode(f,h))}catch(x){throw new F(x)}a.push(f)}static toAlphaNumericChar(t){if(t>=st.ALPHANUMERIC_CHARS.length)throw new F;return st.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,n,i,o){const a=n.length();for(;i>1;){if(t.available()<11)throw new F;const c=t.readBits(11);n.append(st.toAlphaNumericChar(Math.floor(c/45))),n.append(st.toAlphaNumericChar(c%45)),i-=2}if(i===1){if(t.available()<6)throw new F;n.append(st.toAlphaNumericChar(t.readBits(6)))}if(o)for(let c=a;c<n.length();c++)n.charAt(c)==="%"&&(c<n.length()-1&&n.charAt(c+1)==="%"?n.deleteCharAt(c+1):n.setCharAt(c,""))}static decodeNumericSegment(t,n,i){for(;i>=3;){if(t.available()<10)throw new F;const o=t.readBits(10);if(o>=1e3)throw new F;n.append(st.toAlphaNumericChar(Math.floor(o/100))),n.append(st.toAlphaNumericChar(Math.floor(o/10)%10)),n.append(st.toAlphaNumericChar(o%10)),i-=3}if(i===2){if(t.available()<7)throw new F;const o=t.readBits(7);if(o>=100)throw new F;n.append(st.toAlphaNumericChar(Math.floor(o/10))),n.append(st.toAlphaNumericChar(o%10))}else if(i===1){if(t.available()<4)throw new F;const o=t.readBits(4);if(o>=10)throw new F;n.append(st.toAlphaNumericChar(o))}}static parseECIValue(t){const n=t.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=t.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=t.readBits(16);return(n&31)<<16&4294967295|i}throw new F}}st.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",st.GB2312_SUBSET=1;class l1{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const n=t[0];t[0]=t[2],t[2]=n}}class cx{constructor(){this.rsDecoder=new Or(Ne.QR_CODE_FIELD_256)}decodeBooleanArray(t,n){return this.decodeBitMatrix(fe.parseFromBooleanArray(t),n)}decodeBitMatrix(t,n){const i=new lx(t);let o=null;try{return this.decodeBitMatrixParser(i,n)}catch(a){o=a}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const a=this.decodeBitMatrixParser(i,n);return a.setOther(new l1(!0)),a}catch(a){throw o!==null?o:a}}decodeBitMatrixParser(t,n){const i=t.readVersion(),o=t.readFormatInformation().getErrorCorrectionLevel(),a=t.readCodewords(),c=Wo.getDataBlocks(a,i,o);let f=0;for(const y of c)f+=y.getNumDataCodewords();const h=new Uint8Array(f);let x=0;for(const y of c){const _=y.getCodewords(),b=y.getNumDataCodewords();this.correctErrors(_,b);for(let M=0;M<b;M++)h[x++]=_[M]}return st.decode(h,i,o,n)}correctErrors(t,n){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-n)}catch{throw new B}for(let o=0;o<n;o++)t[o]=i[o]}}class Xo extends xe{constructor(t,n,i){super(t,n),this.estimatedModuleSize=i}aboutEquals(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,n,i){const o=(this.getX()+n)/2,a=(this.getY()+t)/2,c=(this.estimatedModuleSize+i)/2;return new Xo(o,a,c)}}class ls{constructor(t,n,i,o,a,c,f){this.image=t,this.startX=n,this.startY=i,this.width=o,this.height=a,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,n=this.height,i=this.width,o=t+i,a=this.startY+n/2,c=new Int32Array(3),f=this.image;for(let h=0;h<n;h++){const x=a+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));c[0]=0,c[1]=0,c[2]=0;let y=t;for(;y<o&&!f.get(y,x);)y++;let _=0;for(;y<o;){if(f.get(y,x))if(_===1)c[1]++;else if(_===2){if(this.foundPatternCross(c)){const b=this.handlePossibleCenter(c,x,y);if(b!==null)return b}c[0]=c[2],c[1]=1,c[2]=0,_=1}else c[++_]++;else _===1&&_++,c[_]++;y++}if(this.foundPatternCross(c)){const b=this.handlePossibleCenter(c,x,o);if(b!==null)return b}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(t,n){return n-t[2]-t[1]/2}foundPatternCross(t){const n=this.moduleSize,i=n/2;for(let o=0;o<3;o++)if(Math.abs(n-t[o])>=i)return!1;return!0}crossCheckVertical(t,n,i,o){const a=this.image,c=a.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=t;for(;h>=0&&a.get(n,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&!a.get(n,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<c&&a.get(n,h)&&f[1]<=i;)f[1]++,h++;if(h===c||f[1]>i)return NaN;for(;h<c&&!a.get(n,h)&&f[2]<=i;)f[2]++,h++;if(f[2]>i)return NaN;const x=f[0]+f[1]+f[2];return 5*Math.abs(x-o)>=2*o?NaN:this.foundPatternCross(f)?ls.centerFromEnd(f,h):NaN}handlePossibleCenter(t,n,i){const o=t[0]+t[1]+t[2],a=ls.centerFromEnd(t,i),c=this.crossCheckVertical(n,a,2*t[1],o);if(!isNaN(c)){const f=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(f,c,a))return x.combineEstimate(c,a,f);const h=new Xo(a,c,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Yo extends xe{constructor(t,n,i,o){super(t,n),this.estimatedModuleSize=i,this.count=o,o===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,n,i){if(Math.abs(n-this.getY())<=t&&Math.abs(i-this.getX())<=t){const o=Math.abs(t-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1}combineEstimate(t,n,i){const o=this.count+1,a=(this.count*this.getX()+n)/o,c=(this.count*this.getY()+t)/o,f=(this.count*this.estimatedModuleSize+i)/o;return new Yo(a,c,f,o)}}class ux{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class bt{constructor(t,n){this.image=t,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const n=t!=null&&t.get(L.TRY_HARDER)!==void 0,i=t!=null&&t.get(L.PURE_BARCODE)!==void 0,o=this.image,a=o.getHeight(),c=o.getWidth();let f=Math.floor(3*a/(4*bt.MAX_MODULES));(f<bt.MIN_SKIP||n)&&(f=bt.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let _=f-1;_<a&&!h;_+=f){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let b=0;for(let M=0;M<c;M++)if(o.get(M,_))(b&1)===1&&b++,x[b]++;else if(b&1)x[b]++;else if(b===4)if(bt.foundPatternCross(x)){if(this.handlePossibleCenter(x,_,M,i)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>x[2]&&(_+=V-x[2]-f,M=c-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,b=3;continue}b=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,b=3;else x[++b]++;bt.foundPatternCross(x)&&this.handlePossibleCenter(x,_,c,i)===!0&&(f=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return xe.orderBestPatterns(y),new ux(y)}static centerFromEnd(t,n){return n-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let n=0;for(let a=0;a<5;a++){const c=t[a];if(c===0)return!1;n+=c}if(n<7)return!1;const i=n/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,n,i,o){const a=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;t>=c&&n>=c&&f.get(n-c,t-c);)a[2]++,c++;if(t<c||n<c)return!1;for(;t>=c&&n>=c&&!f.get(n-c,t-c)&&a[1]<=i;)a[1]++,c++;if(t<c||n<c||a[1]>i)return!1;for(;t>=c&&n>=c&&f.get(n-c,t-c)&&a[0]<=i;)a[0]++,c++;if(a[0]>i)return!1;const h=f.getHeight(),x=f.getWidth();for(c=1;t+c<h&&n+c<x&&f.get(n+c,t+c);)a[2]++,c++;if(t+c>=h||n+c>=x)return!1;for(;t+c<h&&n+c<x&&!f.get(n+c,t+c)&&a[3]<i;)a[3]++,c++;if(t+c>=h||n+c>=x||a[3]>=i)return!1;for(;t+c<h&&n+c<x&&f.get(n+c,t+c)&&a[4]<i;)a[4]++,c++;if(a[4]>=i)return!1;const y=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(y-o)<2*o&&bt.foundPatternCross(a)}crossCheckVertical(t,n,i,o){const a=this.image,c=a.getHeight(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(n,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(n,h)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&a.get(n,h)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<c&&a.get(n,h);)f[2]++,h++;if(h===c)return NaN;for(;h<c&&!a.get(n,h)&&f[3]<i;)f[3]++,h++;if(h===c||f[3]>=i)return NaN;for(;h<c&&a.get(n,h)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-o)>=2*o?NaN:bt.foundPatternCross(f)?bt.centerFromEnd(f,h):NaN}crossCheckHorizontal(t,n,i,o){const a=this.image,c=a.getWidth(),f=this.getCrossCheckStateCount();let h=t;for(;h>=0&&a.get(h,n);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!a.get(h,n)&&f[1]<=i;)f[1]++,h--;if(h<0||f[1]>i)return NaN;for(;h>=0&&a.get(h,n)&&f[0]<=i;)f[0]++,h--;if(f[0]>i)return NaN;for(h=t+1;h<c&&a.get(h,n);)f[2]++,h++;if(h===c)return NaN;for(;h<c&&!a.get(h,n)&&f[3]<i;)f[3]++,h++;if(h===c||f[3]>=i)return NaN;for(;h<c&&a.get(h,n)&&f[4]<i;)f[4]++,h++;if(f[4]>=i)return NaN;const x=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(x-o)>=o?NaN:bt.foundPatternCross(f)?bt.centerFromEnd(f,h):NaN}handlePossibleCenter(t,n,i,o){const a=t[0]+t[1]+t[2]+t[3]+t[4];let c=bt.centerFromEnd(t,i),f=this.crossCheckVertical(n,Math.floor(c),t[2],a);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),t[2],a),!isNaN(c)&&(!o||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),t[2],a)))){const h=a/7;let x=!1;const y=this.possibleCenters;for(let _=0,b=y.length;_<b;_++){const M=y[_];if(M.aboutEquals(h,f,c)){y[_]=M.combineEstimate(f,c,h),x=!0;break}}if(!x){const _=new Yo(c,f,h);y.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=bt.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,n=0;const i=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=bt.CENTER_QUORUM&&(t++,n+=c.getEstimatedModuleSize());if(t<3)return!1;const o=n/i;let a=0;for(const c of this.possibleCenters)a+=Math.abs(c.getEstimatedModuleSize()-o);return a<=.05*n}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new W;const n=this.possibleCenters;let i;if(t>3){let o=0,a=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();o+=x,a+=x*x}i=o/t;let c=Math.sqrt(a/t-i*i);n.sort((h,x)=>{const y=Math.abs(x.getEstimatedModuleSize()-i),_=Math.abs(h.getEstimatedModuleSize()-i);return y<_?-1:y>_?1:0});const f=Math.max(.2*i,c);for(let h=0;h<n.length&&n.length>3;h++){const x=n[h];Math.abs(x.getEstimatedModuleSize()-i)>f&&(n.splice(h,1),h--)}}if(n.length>3){let o=0;for(const a of n)o+=a.getEstimatedModuleSize();i=o/n.length,n.sort((a,c)=>{if(c.getCount()===a.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-i),h=Math.abs(a.getEstimatedModuleSize()-i);return f<h?1:f>h?-1:0}else return c.getCount()-a.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}bt.CENTER_QUORUM=2,bt.MIN_SKIP=3,bt.MAX_MODULES=57;class s0{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(L.NEED_RESULT_POINT_CALLBACK);const i=new bt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const n=t.getTopLeft(),i=t.getTopRight(),o=t.getBottomLeft(),a=this.calculateModuleSize(n,i,o);if(a<1)throw new W("No pattern found in proccess finder.");const c=s0.computeDimension(n,i,o,a),f=ve.getProvisionalVersionForDimension(c),h=f.getDimensionForVersion()-7;let x=null;if(f.getAlignmentPatternCenters().length>0){const M=i.getX()-n.getX()+o.getX(),z=i.getY()-n.getY()+o.getY(),V=1-3/h,Y=Math.floor(n.getX()+V*(M-n.getX())),q=Math.floor(n.getY()+V*(z-n.getY()));for(let ae=4;ae<=16;ae<<=1)try{x=this.findAlignmentInRegion(a,Y,q,ae);break}catch(le){if(!(le instanceof W))throw le}}const y=s0.createTransform(n,i,o,x,c),_=s0.sampleGrid(this.image,y,c);let b;return x===null?b=[o,n,i]:b=[o,n,i,x],new Ft(_,b)}static createTransform(t,n,i,o,a){const c=a-3.5;let f,h,x,y;return o!==null?(f=o.getX(),h=o.getY(),x=c-3,y=x):(f=n.getX()-t.getX()+i.getX(),h=n.getY()-t.getY()+i.getY(),x=c,y=c),_t.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,x,y,3.5,c,t.getX(),t.getY(),n.getX(),n.getY(),f,h,i.getX(),i.getY())}static sampleGrid(t,n,i){return Xr.getInstance().sampleGridWithTransform(t,i,i,n)}static computeDimension(t,n,i,o){const a=Te.round(xe.distance(t,n)/o),c=Te.round(xe.distance(t,i)/o);let f=Math.floor((a+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new W("Dimensions could be not found.")}return f}calculateModuleSize(t,n,i){return(this.calculateModuleSizeOneWay(t,n)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(n.getX()),Math.floor(n.getY())),o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?o/7:isNaN(o)?i/7:(i+o)/14}sizeOfBlackWhiteBlackRunBothWays(t,n,i,o){let a=this.sizeOfBlackWhiteBlackRun(t,n,i,o),c=1,f=t-(i-t);f<0?(c=t/(t-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let h=Math.floor(n-(o-n)*c);return c=1,h<0?(c=n/(n-h),h=0):h>=this.image.getHeight()&&(c=(this.image.getHeight()-1-n)/(h-n),h=this.image.getHeight()-1),f=Math.floor(t+(f-t)*c),a+=this.sizeOfBlackWhiteBlackRun(t,n,f,h),a-1}sizeOfBlackWhiteBlackRun(t,n,i,o){const a=Math.abs(o-n)>Math.abs(i-t);if(a){let M=t;t=n,n=M,M=i,i=o,o=M}const c=Math.abs(i-t),f=Math.abs(o-n);let h=-c/2;const x=t<i?1:-1,y=n<o?1:-1;let _=0;const b=i+x;for(let M=t,z=n;M!==b;M+=x){const V=a?z:M,Y=a?M:z;if(_===1===this.image.get(V,Y)){if(_===2)return Te.distance(M,z,t,n);_++}if(h+=f,h>0){if(z===o)break;z+=y,h-=c}}return _===2?Te.distance(i+x,o,t,n):NaN}findAlignmentInRegion(t,n,i,o){const a=Math.floor(o*t),c=Math.max(0,n-a),f=Math.min(this.image.getWidth()-1,n+a);if(f-c<t*3)throw new W("Alignment top exceeds estimated module size.");const h=Math.max(0,i-a),x=Math.min(this.image.getHeight()-1,i+a);if(x-h<t*3)throw new W("Alignment bottom exceeds estimated module size.");return new ls(this.image,c,h,f-c,x-h,t,this.resultPointCallback).find()}}class An{constructor(){this.decoder=new cx}getDecoder(){return this.decoder}decode(t,n){let i,o;if(n!=null&&n.get(L.PURE_BARCODE)!==void 0){const h=An.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(h,n),o=An.NO_POINTS}else{const h=new s0(t.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(h.getBits(),n),o=h.getPoints()}i.getOther()instanceof l1&&i.getOther().applyMirroredCorrection(o);const a=new te(i.getText(),i.getRawBytes(),void 0,o,ce.QR_CODE,void 0),c=i.getByteSegments();c!==null&&a.putMetadata(Ee.BYTE_SEGMENTS,c);const f=i.getECLevel();return f!==null&&a.putMetadata(Ee.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(a.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),a.putMetadata(Ee.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),a}reset(){}static extractPureBits(t){const n=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(n===null||i===null)throw new W;const o=this.moduleSize(n,t);let a=n[1],c=i[1],f=n[0],h=i[0];if(f>=h||a>=c)throw new W;if(c-a!==h-f&&(h=f+(c-a),h>=t.getWidth()))throw new W;const x=Math.round((h-f+1)/o),y=Math.round((c-a+1)/o);if(x<=0||y<=0)throw new W;if(y!==x)throw new W;const _=Math.floor(o/2);a+=_,f+=_;const b=f+Math.floor((x-1)*o)-h;if(b>0){if(b>_)throw new W;f-=b}const M=a+Math.floor((y-1)*o)-c;if(M>0){if(M>_)throw new W;a-=M}const z=new fe(x,y);for(let V=0;V<y;V++){const Y=a+Math.floor(V*o);for(let q=0;q<x;q++)t.get(f+Math.floor(q*o),Y)&&z.set(q,V)}return z}static moduleSize(t,n){const i=n.getHeight(),o=n.getWidth();let a=t[0],c=t[1],f=!0,h=0;for(;a<o&&c<i;){if(f!==n.get(a,c)){if(++h===5)break;f=!f}a++,c++}if(a===o||c===i)throw new W;return(a-t[0])/7}}An.NO_POINTS=new Array;class Ie{PDF417Common(){}static getBitCountSum(t){return Te.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ie.EMPTY_INT_ARRAY;const n=new Int32Array(t.length);let i=0;for(const o of t)n[i++]=o;return n}static getCodeword(t){const n=C.binarySearch(Ie.SYMBOL_TABLE,t&262143);return n<0?-1:(Ie.CODEWORD_TABLE[n]-1)%Ie.NUMBER_OF_CODEWORDS}}Ie.NUMBER_OF_CODEWORDS=929,Ie.MAX_CODEWORDS_IN_BARCODE=Ie.NUMBER_OF_CODEWORDS-1,Ie.MIN_ROWS_IN_BARCODE=3,Ie.MAX_ROWS_IN_BARCODE=90,Ie.MODULES_IN_CODEWORD=17,Ie.MODULES_IN_STOP_PATTERN=18,Ie.BARS_IN_MODULE=8,Ie.EMPTY_INT_ARRAY=new Int32Array([]),Ie.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ie.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fx{constructor(t,n){this.bits=t,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Be{static detectMultiple(t,n,i){let o=t.getBlackMatrix(),a=Be.detect(i,o);return a.length||(o=o.clone(),o.rotate180(),a=Be.detect(i,o)),new fx(o,a)}static detect(t,n){const i=new Array;let o=0,a=0,c=!1;for(;o<n.getHeight();){const f=Be.findVertices(n,o,a);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,a=0;for(const h of i)h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())));o+=Be.ROW_STEP;continue}if(c=!0,i.push(f),!t)break;f[2]!=null?(a=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(a=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return i}static findVertices(t,n,i){const o=t.getHeight(),a=t.getWidth(),c=new Array(8);return Be.copyToResult(c,Be.findRowsWithPattern(t,o,a,n,i,Be.START_PATTERN),Be.INDEXES_START_PATTERN),c[4]!=null&&(i=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY())),Be.copyToResult(c,Be.findRowsWithPattern(t,o,a,n,i,Be.STOP_PATTERN),Be.INDEXES_STOP_PATTERN),c}static copyToResult(t,n,i){for(let o=0;o<i.length;o++)t[i[o]]=n[o]}static findRowsWithPattern(t,n,i,o,a,c){const f=new Array(4);let h=!1;const x=new Int32Array(c.length);for(;o<n;o+=Be.ROW_STEP){let _=Be.findGuardPattern(t,a,o,i,!1,c,x);if(_!=null){for(;o>0;){const b=Be.findGuardPattern(t,a,--o,i,!1,c,x);if(b!=null)_=b;else{o++;break}}f[0]=new xe(_[0],o),f[1]=new xe(_[1],o),h=!0;break}}let y=o+1;if(h){let _=0,b=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;y<n;y++){const M=Be.findGuardPattern(t,b[0],y,i,!1,c,x);if(M!=null&&Math.abs(b[0]-M[0])<Be.MAX_PATTERN_DRIFT&&Math.abs(b[1]-M[1])<Be.MAX_PATTERN_DRIFT)b=M,_=0;else{if(_>Be.SKIPPED_ROW_COUNT_MAX)break;_++}}y-=_+1,f[2]=new xe(b[0],y),f[3]=new xe(b[1],y)}return y-o<Be.BARCODE_MIN_HEIGHT&&C.fill(f,null),f}static findGuardPattern(t,n,i,o,a,c,f){C.fillWithin(f,0,f.length,0);let h=n,x=0;for(;t.get(h,i)&&h>0&&x++<Be.MAX_PIXEL_DRIFT;)h--;let y=h,_=0,b=c.length;for(let M=a;y<o;y++)if(t.get(y,i)!==M)f[_]++;else{if(_===b-1){if(Be.patternMatchVariance(f,c,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=f[0]+f[1],O.arraycopy(f,2,f,0,_-1),f[_-1]=0,f[_]=0,_--}else _++;f[_]=1,M=!M}return _===b-1&&Be.patternMatchVariance(f,c,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(t,n,i){let o=t.length,a=0,c=0;for(let x=0;x<o;x++)a+=t[x],c+=n[x];if(a<c)return 1/0;let f=a/c;i*=f;let h=0;for(let x=0;x<o;x++){let y=t[x],_=n[x]*f,b=y>_?y-_:_-y;if(b>i)return 1/0;h+=b}return h/a}}Be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Be.MAX_AVG_VARIANCE=.42,Be.MAX_INDIVIDUAL_VARIANCE=.8,Be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Be.MAX_PIXEL_DRIFT=3,Be.MAX_PATTERN_DRIFT=5,Be.SKIPPED_ROW_COUNT_MAX=25,Be.ROW_STEP=5,Be.BARCODE_MIN_HEIGHT=10;class Mt{constructor(t,n){if(n.length===0)throw new N;this.field=t;let i=n.length;if(i>1&&n[0]===0){let o=1;for(;o<i&&n[o]===0;)o++;o===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-o),O.arraycopy(n,o,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let o=0;for(let a of this.coefficients)o=this.field.add(o,a);return o}let n=this.coefficients[0],i=this.coefficients.length;for(let o=1;o<i;o++)n=this.field.add(this.field.multiply(t,n),this.coefficients[o]);return n}add(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let n=this.coefficients,i=t.coefficients;if(n.length>i.length){let c=n;n=i,i=c}let o=new Int32Array(i.length),a=i.length-n.length;O.arraycopy(i,0,o,0,a);for(let c=a;c<i.length;c++)o[c]=this.field.add(n[c-a],i[c]);return new Mt(this.field,o)}subtract(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Mt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new N("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Mt(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,o=t.coefficients,a=o.length,c=new Int32Array(i+a-1);for(let f=0;f<i;f++){let h=n[f];for(let x=0;x<a;x++)c[f+x]=this.field.add(c[f+x],this.field.multiply(h,o[x]))}return new Mt(this.field,c)}negative(){let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Mt(this.field,n)}multiplyScalar(t){if(t===0)return new Mt(this.field,new Int32Array([0]));if(t===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new Mt(this.field,i)}multiplyByMonomial(t,n){if(t<0)throw new N;if(n===0)return new Mt(this.field,new Int32Array([0]));let i=this.coefficients.length,o=new Int32Array(i+t);for(let a=0;a<i;a++)o[a]=this.field.multiply(this.coefficients[a],n);return new Mt(this.field,o)}toString(){let t=new J;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(n===0||i!==1)&&t.append(i),n!==0&&(n===1?t.append("x"):(t.append("x^"),t.append(n))))}return t.toString()}}class dx{add(t,n){return(t+n)%this.modulus}subtract(t,n){return(this.modulus+t-n)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new N;return this.logTable[t]}inverse(t){if(t===0)throw new Gr;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,n){return t===0||n===0?0:this.expTable[(this.logTable[t]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ko extends dx{constructor(t,n){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let o=0;o<t;o++)this.expTable[o]=i,i=i*n%t;for(let o=0;o<t-1;o++)this.logTable[this.expTable[o]]=o;this.zero=new Mt(this,new Int32Array([0])),this.one=new Mt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,n){if(t<0)throw new N;if(n===0)return this.zero;let i=new Int32Array(t+1);return i[0]=n,new Mt(this,i)}}Ko.PDF417_GF=new Ko(Ie.NUMBER_OF_CODEWORDS,3);class c1{constructor(){this.field=Ko.PDF417_GF}decode(t,n,i){let o=new Mt(this.field,t),a=new Int32Array(n),c=!1;for(let z=n;z>0;z--){let V=o.evaluateAt(this.field.exp(z));a[n-z]=V,V!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(i!=null)for(const z of i){let V=this.field.exp(t.length-1-z),Y=new Mt(this.field,new Int32Array([this.field.subtract(0,V),1]));f=f.multiply(Y)}let h=new Mt(this.field,a),x=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),h,n),y=x[0],_=x[1],b=this.findErrorLocations(y),M=this.findErrorMagnitudes(_,y,b);for(let z=0;z<b.length;z++){let V=t.length-1-this.field.log(b[z]);if(V<0)throw B.getChecksumInstance();t[V]=this.field.subtract(t[V],M[z])}return b.length}runEuclideanAlgorithm(t,n,i){if(t.getDegree()<n.getDegree()){let b=t;t=n,n=b}let o=t,a=n,c=this.field.getZero(),f=this.field.getOne();for(;a.getDegree()>=Math.round(i/2);){let b=o,M=c;if(o=a,c=f,o.isZero())throw B.getChecksumInstance();a=b;let z=this.field.getZero(),V=o.getCoefficient(o.getDegree()),Y=this.field.inverse(V);for(;a.getDegree()>=o.getDegree()&&!a.isZero();){let q=a.getDegree()-o.getDegree(),ae=this.field.multiply(a.getCoefficient(a.getDegree()),Y);z=z.add(this.field.buildMonomial(q,ae)),a=a.subtract(o.multiplyByMonomial(q,ae))}f=z.multiply(c).subtract(M).negative()}let h=f.getCoefficient(0);if(h===0)throw B.getChecksumInstance();let x=this.field.inverse(h),y=f.multiply(x),_=a.multiply(x);return[y,_]}findErrorLocations(t){let n=t.getDegree(),i=new Int32Array(n),o=0;for(let a=1;a<this.field.getSize()&&o<n;a++)t.evaluateAt(a)===0&&(i[o]=this.field.inverse(a),o++);if(o!==n)throw B.getChecksumInstance();return i}findErrorMagnitudes(t,n,i){let o=n.getDegree(),a=new Int32Array(o);for(let x=1;x<=o;x++)a[o-x]=this.field.multiply(x,n.getCoefficient(x));let c=new Mt(this.field,a),f=i.length,h=new Int32Array(f);for(let x=0;x<f;x++){let y=this.field.inverse(i[x]),_=this.field.subtract(0,t.evaluateAt(y)),b=this.field.inverse(c.evaluateAt(y));h[x]=this.field.multiply(_,b)}return h}}class Qn{constructor(t,n,i,o,a){t instanceof Qn?this.constructor_2(t):this.constructor_1(t,n,i,o,a)}constructor_1(t,n,i,o,a){const c=n==null||i==null,f=o==null||a==null;if(c&&f)throw new W;c?(n=new xe(0,o.getY()),i=new xe(0,a.getY())):f&&(o=new xe(t.getWidth()-1,n.getY()),a=new xe(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=n,this.bottomLeft=i,this.topRight=o,this.bottomRight=a,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(o.getX(),a.getX())),this.minY=Math.trunc(Math.min(n.getY(),o.getY())),this.maxY=Math.trunc(Math.max(i.getY(),a.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,n){return t==null?n:n==null?t:new Qn(t.image,t.topLeft,t.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(t,n,i){let o=this.topLeft,a=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(t>0){let h=i?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let y=new xe(h.getX(),x);i?o=y:c=y}if(n>0){let h=i?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+n);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let y=new xe(h.getX(),x);i?a=y:f=y}return new Qn(this.image,o,a,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class hx{constructor(t,n,i,o){this.columnCount=t,this.errorCorrectionLevel=o,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class o0{constructor(){this.buffer=""}static form(t,n){let i=-1;function o(c,f,h,x,y,_){if(c==="%%")return"%";if(n[++i]===void 0)return;c=x?parseInt(x.substr(1)):void 0;let b=y?parseInt(y.substr(1)):void 0,M;switch(_){case"s":M=n[i];break;case"c":M=n[i][0];break;case"f":M=parseFloat(n[i]).toFixed(c);break;case"p":M=parseFloat(n[i]).toPrecision(c);break;case"e":M=parseFloat(n[i]).toExponential(c);break;case"x":M=parseInt(n[i]).toString(b||16);break;case"d":M=parseFloat(parseInt(n[i],b||10).toPrecision(c)).toFixed(0);break}M=typeof M=="object"?JSON.stringify(M):(+M).toString(b);let z=parseInt(h),V=h&&h[0]+""=="0"?"0":" ";for(;M.length<z;)M=f!==void 0?M+V:V+M;return M}let a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}format(t,...n){this.buffer+=o0.form(t,n)}toString(){return this.buffer}}class a0{constructor(t){this.boundingBox=new Qn(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let n=this.getCodeword(t);if(n!=null)return n;for(let i=1;i<a0.MAX_NEARBY_DISTANCE;i++){let o=this.imageRowToCodewordIndex(t)-i;if(o>=0&&(n=this.codewords[o],n!=null)||(o=this.imageRowToCodewordIndex(t)+i,o<this.codewords.length&&(n=this.codewords[o],n!=null)))return n}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,n){this.codewords[this.imageRowToCodewordIndex(t)]=n}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new o0;let n=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",n++);continue}t.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return t.toString()}}a0.MAX_NEARBY_DISTANCE=5;class l0{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let n=this.values.get(t);n==null&&(n=0),n++,this.values.set(t,n)}getValue(){let t=-1,n=new Array;for(const[i,o]of this.values.entries()){const a={getKey:()=>i,getValue:()=>o};a.getValue()>t?(t=a.getValue(),n=[],n.push(a.getKey())):a.getValue()===t&&n.push(a.getKey())}return Ie.toIntArray(n)}getConfidence(t){return this.values.get(t)}}class u1 extends a0{constructor(t,n){super(t),this._isLeft=n}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,t);let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(a.getY())),h=-1,x=1,y=0;for(let _=c;_<f;_++){if(n[_]==null)continue;let b=n[_],M=b.getRowNumber()-h;if(M===0)y++;else if(M===1)x=Math.max(x,y),y=1,h=b.getRowNumber();else if(M<0||b.getRowNumber()>=t.getRowCount()||M>_)n[_]=null;else{let z;x>2?z=(x-2)*M:z=M;let V=z>=_;for(let Y=1;Y<=z&&!V;Y++)V=n[_-Y]!=null;V?n[_]=null:(h=b.getRowNumber(),y=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let n=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=n.length)continue;n[o]++}return n}adjustIncompleteIndicatorColumnRowNumbers(t){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.getCodewords(),h=-1;for(let x=a;x<c;x++){if(f[x]==null)continue;let y=f[x];y.setRowNumberAsRowIndicatorColumn();let _=y.getRowNumber()-h;_===0||(_===1?h=y.getRowNumber():y.getRowNumber()>=t.getRowCount()?f[x]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),n=new l0,i=new l0,o=new l0,a=new l0;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,x=f.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:i.setValue(h*3+1);break;case 1:a.setValue(h/3),o.setValue(h%3);break;case 2:n.setValue(h+1);break}}if(n.getValue().length===0||i.getValue().length===0||o.getValue().length===0||a.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<Ie.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>Ie.MAX_ROWS_IN_BARCODE)return null;let c=new hx(n.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,n){for(let i=0;i<t.length;i++){let o=t[i];if(t[i]==null)continue;let a=o.getValue()%30,c=o.getRowNumber();if(c>n.getRowCount()){t[i]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(t[i]=null);break;case 2:a+1!==n.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class c0{constructor(t,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ie.MAX_CODEWORDS_IN_BARCODE,n;do n=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let o=0;o<i.length;o++)i[o]!=null&&(i[o].hasValidRowNumber()||this.adjustRowNumbers(n,o,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&n[i]!=null&&t[i].getRowNumber()===n[i].getRowNumber())for(let o=1;o<=this.barcodeColumnCount;o++){let a=this.detectionResultColumns[o].getCodewords()[i];a!=null&&(a.setRowNumber(t[i].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[o].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let c=this.barcodeColumnCount+1;c>0&&a<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=c0.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let o=n[i].getRowNumber(),a=0;for(let c=1;c<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[i];f!=null&&(a=c0.adjustRowNumberIfValid(o,a,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),n=0):++n),n}adjustRowNumbers(t,n,i){if(!this.detectionResultColumns[t-1])return;let o=i[n],a=this.detectionResultColumns[t-1].getCodewords(),c=a;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=a[n],f[3]=c[n],n>0&&(f[0]=i[n-1],f[4]=a[n-1],f[5]=c[n-1]),n>1&&(f[8]=i[n-2],f[10]=a[n-2],f[11]=c[n-2]),n<i.length-1&&(f[1]=i[n+1],f[6]=a[n+1],f[7]=c[n+1]),n<i.length-2&&(f[9]=i[n+2],f[12]=a[n+2],f[13]=c[n+2]);for(let h of f)if(c0.adjustRowNumber(o,h))return}static adjustRowNumber(t,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===t.getBucket()?(t.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,n){this.detectionResultColumns[t]=n}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new o0;for(let i=0;i<t.getCodewords().length;i++){n.format("CW %3d:",i);for(let o=0;o<this.barcodeColumnCount+2;o++){if(this.detectionResultColumns[o]==null){n.format("    |   ");continue}let a=this.detectionResultColumns[o].getCodewords()[i];if(a==null){n.format("    |   ");continue}n.format(" %3d|%3d",a.getRowNumber(),a.getValue())}n.format("%n")}return n.toString()}}class u0{constructor(t,n,i,o){this.rowNumber=u0.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(o)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==u0.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}u0.BARCODE_ROW_UNKNOWN=-1;class rr{static initialize(){for(let t=0;t<Ie.SYMBOL_TABLE.length;t++){let n=Ie.SYMBOL_TABLE[t],i=n&1;for(let o=0;o<Ie.BARS_IN_MODULE;o++){let a=0;for(;(n&1)===i;)a+=1,n>>=1;i=n&1,rr.RATIOS_TABLE[t]||(rr.RATIOS_TABLE[t]=new Array(Ie.BARS_IN_MODULE)),rr.RATIOS_TABLE[t][Ie.BARS_IN_MODULE-o-1]=Math.fround(a/Ie.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let n=rr.getDecodedCodewordValue(rr.sampleBitCounts(t));return n!==-1?n:rr.getClosestDecodedValue(t)}static sampleBitCounts(t){let n=Te.sum(t),i=new Int32Array(Ie.BARS_IN_MODULE),o=0,a=0;for(let c=0;c<Ie.MODULES_IN_CODEWORD;c++){let f=n/(2*Ie.MODULES_IN_CODEWORD)+c*n/Ie.MODULES_IN_CODEWORD;a+t[o]<=f&&(a+=t[o],o++),i[o]++}return i}static getDecodedCodewordValue(t){let n=rr.getBitValue(t);return Ie.getCodeword(n)===-1?-1:n}static getBitValue(t){let n=0;for(let i=0;i<t.length;i++)for(let o=0;o<t[i];o++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(t){let n=Te.sum(t),i=new Array(Ie.BARS_IN_MODULE);if(n>1)for(let c=0;c<i.length;c++)i[c]=Math.fround(t[c]/n);let o=Wr.MAX_VALUE,a=-1;this.bSymbolTableReady||rr.initialize();for(let c=0;c<rr.RATIOS_TABLE.length;c++){let f=0,h=rr.RATIOS_TABLE[c];for(let x=0;x<Ie.BARS_IN_MODULE;x++){let y=Math.fround(h[x]-i[x]);if(f+=Math.fround(y*y),f>=o)break}f<o&&(o=f,a=Ie.SYMBOL_TABLE[c])}return a}}rr.bSymbolTableReady=!1,rr.RATIOS_TABLE=new Array(Ie.SYMBOL_TABLE.length).map(I=>new Array(Ie.BARS_IN_MODULE));class f1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class d1{static parseLong(t,n=void 0){return parseInt(t,n)}}class h1 extends g{}h1.kind="NullPointerException";class xx{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,n,i){if(t==null)throw new h1;if(n<0||n>t.length||i<0||n+i>t.length||n+i<0)throw new P;if(i===0)return;for(let o=0;o<i;o++)this.write(t[n+o])}flush(){}close(){}}class gx extends g{}class px extends xx{constructor(t=32){if(super(),this.count=0,t<0)throw new N("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new gx;i=v.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,n,i){if(n<0||n>t.length||i<0||n+i-t.length>0)throw new P;this.ensureCapacity(this.count+i),O.arraycopy(t,n,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Xe;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Xe||(Xe={}));function x1(){if(typeof window<"u")return window.BigInt||null;if(typeof _e<"u")return _e.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let cs;function Sn(I){if(typeof cs>"u"&&(cs=x1()),cs===null)throw new Error("BigInt is not supported!");return cs(I)}function mx(){let I=[];I[0]=Sn(1);let t=Sn(900);I[1]=t;for(let n=2;n<16;n++)I[n]=I[n-1]*t;return I}class Z{static decode(t,n){let i=new J(""),o=G.ISO8859_1;i.enableDecoding(o);let a=1,c=t[a++],f=new f1;for(;a<t[0];){switch(c){case Z.TEXT_COMPACTION_MODE_LATCH:a=Z.textCompaction(t,a,i);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:a=Z.byteCompaction(c,t,o,a,i);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[a++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:a=Z.numericCompaction(t,a,i);break;case Z.ECI_CHARSET:G.getCharacterSetECIByValue(t[a++]);break;case Z.ECI_GENERAL_PURPOSE:a+=2;break;case Z.ECI_USER_DEFINED:a++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=Z.decodeMacroBlock(t,a,f);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new F;default:a--,a=Z.textCompaction(t,a,i);break}if(a<t.length)c=t[a++];else throw F.getFormatInstance()}if(i.length()===0)throw F.getFormatInstance();let h=new Rr(null,i.toString(),null,n);return h.setOther(f),h}static decodeMacroBlock(t,n,i){if(n+Z.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw F.getFormatInstance();let o=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<Z.NUMBER_OF_SEQUENCE_CODEWORDS;f++,n++)o[f]=t[n];i.setSegmentIndex(v.parseInt(Z.decodeBase900toBase10(o,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let a=new J;n=Z.textCompaction(t,n,a),i.setFileId(a.toString());let c=-1;for(t[n]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=n+1);n<t[0];)switch(t[n]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,t[n]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new J;n=Z.textCompaction(t,n+1,f),i.setFileName(f.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new J;n=Z.textCompaction(t,n+1,h),i.setSender(h.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new J;n=Z.textCompaction(t,n+1,x),i.setAddressee(x.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new J;n=Z.numericCompaction(t,n+1,y),i.setSegmentCount(v.parseInt(y.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let _=new J;n=Z.numericCompaction(t,n+1,_),i.setTimestamp(d1.parseLong(_.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let b=new J;n=Z.numericCompaction(t,n+1,b),i.setChecksum(v.parseInt(b.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let M=new J;n=Z.numericCompaction(t,n+1,M),i.setFileSize(d1.parseLong(M.toString()));break;default:throw F.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(c!==-1){let f=n-c;i.isLastSegment()&&f--,i.setOptionalData(C.copyOfRange(t,c,c+f))}return n}static textCompaction(t,n,i){let o=new Int32Array((t[0]-n)*2),a=new Int32Array((t[0]-n)*2),c=0,f=!1;for(;n<t[0]&&!f;){let h=t[n++];if(h<Z.TEXT_COMPACTION_MODE_LATCH)o[c]=h/30,o[c+1]=h%30,c+=2;else switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:o[c++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:n--,f=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o[c]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[n++],a[c]=h,c++;break}}return Z.decodeTextCompaction(o,a,c,i),n}static decodeTextCompaction(t,n,i,o){let a=Xe.ALPHA,c=Xe.ALPHA,f=0;for(;f<i;){let h=t[f],x="";switch(a){case Xe.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Z.LL:a=Xe.LOWER;break;case Z.ML:a=Xe.MIXED;break;case Z.PS:c=a,a=Xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break;case Xe.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case Z.AS:c=a,a=Xe.ALPHA_SHIFT;break;case Z.ML:a=Xe.MIXED;break;case Z.PS:c=a,a=Xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break;case Xe.MIXED:if(h<Z.PL)x=Z.MIXED_CHARS[h];else switch(h){case Z.PL:a=Xe.PUNCT;break;case 26:x=" ";break;case Z.LL:a=Xe.LOWER;break;case Z.AL:a=Xe.ALPHA;break;case Z.PS:c=a,a=Xe.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break;case Xe.PUNCT:if(h<Z.PAL)x=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:a=Xe.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break;case Xe.ALPHA_SHIFT:if(a=c,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break;case Xe.PUNCT_SHIFT:if(a=c,h<Z.PAL)x=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:a=Xe.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(n[f]);break;case Z.TEXT_COMPACTION_MODE_LATCH:a=Xe.ALPHA;break}break}x!==""&&o.append(x),f++}}static byteCompaction(t,n,i,o,a){let c=new px,f=0,h=0,x=!1;switch(t){case Z.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),_=n[o++];for(;o<n[0]&&!x;)switch(y[f++]=_,h=900*h+_,_=n[o++],_){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,x=!0;break;default:if(f%5===0&&f>0){for(let b=0;b<6;++b)c.write(Number(Sn(h)>>Sn(8*(5-b))));h=0,f=0}break}o===n[0]&&_<Z.TEXT_COMPACTION_MODE_LATCH&&(y[f++]=_);for(let b=0;b<f;b++)c.write(y[b]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;o<n[0]&&!x;){let b=n[o++];if(b<Z.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+b;else switch(b){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:o--,x=!0;break}if(f%5===0&&f>0){for(let M=0;M<6;++M)c.write(Number(Sn(h)>>Sn(8*(5-M))));h=0,f=0}}break}return a.append(X.decode(c.toByteArray(),i)),o}static numericCompaction(t,n,i){let o=0,a=!1,c=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;n<t[0]&&!a;){let f=t[n++];if(n===t[0]&&(a=!0),f<Z.TEXT_COMPACTION_MODE_LATCH)c[o]=f,o++;else switch(f){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:n--,a=!0;break}(o%Z.MAX_NUMERIC_CODEWORDS===0||f===Z.NUMERIC_COMPACTION_MODE_LATCH||a)&&o>0&&(i.append(Z.decodeBase900toBase10(c,o)),o=0)}return n}static decodeBase900toBase10(t,n){let i=Sn(0);for(let a=0;a<n;a++)i+=Z.EXP900[n-a-1]*Sn(t[a]);let o=i.toString();if(o.charAt(0)!=="1")throw new F;return o.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=x1()?mx():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class be{constructor(){}static decode(t,n,i,o,a,c,f){let h=new Qn(t,n,i,o,a),x=null,y=null,_;for(let z=!0;;z=!1){if(n!=null&&(x=be.getRowIndicatorColumn(t,h,n,!0,c,f)),o!=null&&(y=be.getRowIndicatorColumn(t,h,o,!1,c,f)),_=be.merge(x,y),_==null)throw W.getNotFoundInstance();let V=_.getBoundingBox();if(z&&V!=null&&(V.getMinY()<h.getMinY()||V.getMaxY()>h.getMaxY()))h=V;else break}_.setBoundingBox(h);let b=_.getBarcodeColumnCount()+1;_.setDetectionResultColumn(0,x),_.setDetectionResultColumn(b,y);let M=x!=null;for(let z=1;z<=b;z++){let V=M?z:b-z;if(_.getDetectionResultColumn(V)!==void 0)continue;let Y;V===0||V===b?Y=new u1(h,V===0):Y=new a0(h),_.setDetectionResultColumn(V,Y);let q=-1,ae=q;for(let le=h.getMinY();le<=h.getMaxY();le++){if(q=be.getStartColumn(_,V,le,M),q<0||q>h.getMaxX()){if(ae===-1)continue;q=ae}let se=be.detectCodeword(t,h.getMinX(),h.getMaxX(),M,q,le,c,f);se!=null&&(Y.setCodeword(le,se),ae=q,c=Math.min(c,se.getWidth()),f=Math.max(f,se.getWidth()))}}return be.createDecoderResult(_)}static merge(t,n){if(t==null&&n==null)return null;let i=be.getBarcodeMetadata(t,n);if(i==null)return null;let o=Qn.merge(be.adjustBoundingBox(t),be.adjustBoundingBox(n));return new c0(i,o)}static adjustBoundingBox(t){if(t==null)return null;let n=t.getRowHeights();if(n==null)return null;let i=be.getMax(n),o=0;for(let f of n)if(o+=i-f,f>0)break;let a=t.getCodewords();for(let f=0;o>0&&a[f]==null;f++)o--;let c=0;for(let f=n.length-1;f>=0&&(c+=i-n[f],!(n[f]>0));f--);for(let f=a.length-1;c>0&&a[f]==null;f--)c--;return t.getBoundingBox().addMissingRows(o,c,t.isLeft())}static getMax(t){let n=-1;for(let i of t)n=Math.max(n,i);return n}static getBarcodeMetadata(t,n){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let o;return n==null||(o=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==o.getColumnCount()&&i.getErrorCorrectionLevel()!==o.getErrorCorrectionLevel()&&i.getRowCount()!==o.getRowCount()?null:i}static getRowIndicatorColumn(t,n,i,o,a,c){let f=new u1(n,o);for(let h=0;h<2;h++){let x=h===0?1:-1,y=Math.trunc(Math.trunc(i.getX()));for(let _=Math.trunc(Math.trunc(i.getY()));_<=n.getMaxY()&&_>=n.getMinY();_+=x){let b=be.detectCodeword(t,0,t.getWidth(),o,y,_,a,c);b!=null&&(f.setCodeword(_,b),o?y=b.getStartX():y=b.getEndX())}}return f}static adjustCodewordCount(t,n){let i=n[0][1],o=i.getValue(),a=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-be.getNumberOfECCodeWords(t.getBarcodeECLevel());if(o.length===0){if(a<1||a>Ie.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();i.setValue(a)}else o[0]!==a&&i.setValue(a)}static createDecoderResult(t){let n=be.createBarcodeMatrix(t);be.adjustCodewordCount(t,n);let i=new Array,o=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),a=[],c=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let y=n[h][x+1].getValue(),_=h*t.getBarcodeColumnCount()+x;y.length===0?i.push(_):y.length===1?o[_]=y[0]:(c.push(_),a.push(y))}let f=new Array(a.length);for(let h=0;h<f.length;h++)f[h]=a[h];return be.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),o,Ie.toIntArray(i),Ie.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(t,n,i,o,a){let c=new Int32Array(o.length),f=100;for(;f-- >0;){for(let h=0;h<c.length;h++)n[o[h]]=a[h][c[h]];try{return be.decodeCodewords(n,t,i)}catch(h){if(!(h instanceof B))throw h}if(c.length===0)throw B.getChecksumInstance();for(let h=0;h<c.length;h++)if(c[h]<a[h].length-1){c[h]++;break}else if(c[h]=0,h===c.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(t){let n=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let o=0;o<n.length;o++)for(let a=0;a<n[o].length;a++)n[o][a]=new l0;let i=0;for(let o of t.getDetectionResultColumns()){if(o!=null){for(let a of o.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=0){if(c>=n.length)continue;n[c][i].setValue(a.getValue())}}}i++}return n}static isValidBarcodeColumn(t,n){return n>=0&&n<=t.getBarcodeColumnCount()+1}static getStartColumn(t,n,i,o){let a=o?1:-1,c=null;if(be.isValidBarcodeColumn(t,n-a)&&(c=t.getDetectionResultColumn(n-a).getCodeword(i)),c!=null)return o?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(n).getCodewordNearby(i),c!=null)return o?c.getStartX():c.getEndX();if(be.isValidBarcodeColumn(t,n-a)&&(c=t.getDetectionResultColumn(n-a).getCodewordNearby(i)),c!=null)return o?c.getEndX():c.getStartX();let f=0;for(;be.isValidBarcodeColumn(t,n-a);){n-=a;for(let h of t.getDetectionResultColumn(n).getCodewords())if(h!=null)return(o?h.getEndX():h.getStartX())+a*f*(h.getEndX()-h.getStartX());f++}return o?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,n,i,o,a,c,f,h){a=be.adjustCodewordStartColumn(t,n,i,o,a,c);let x=be.getModuleBitCount(t,n,i,o,a,c);if(x==null)return null;let y,_=Te.sum(x);if(o)y=a+_;else{for(let z=0;z<x.length/2;z++){let V=x[z];x[z]=x[x.length-1-z],x[x.length-1-z]=V}y=a,a=y-_}if(!be.checkCodewordSkew(_,f,h))return null;let b=rr.getDecodedValue(x),M=Ie.getCodeword(b);return M===-1?null:new u0(a,y,be.getCodewordBucketNumber(b),M)}static getModuleBitCount(t,n,i,o,a,c){let f=a,h=new Int32Array(8),x=0,y=o?1:-1,_=o;for(;(o?f<i:f>=n)&&x<h.length;)t.get(f,c)===_?(h[x]++,f+=y):(x++,_=!_);return x===h.length||f===(o?i:n)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,n,i,o,a,c){let f=a,h=o?-1:1;for(let x=0;x<2;x++){for(;(o?f>=n:f<i)&&o===t.get(f,c);){if(Math.abs(a-f)>be.CODEWORD_SKEW_SIZE)return a;f+=h}h=-h,o=!o}return f}static checkCodewordSkew(t,n,i){return n-be.CODEWORD_SKEW_SIZE<=t&&t<=i+be.CODEWORD_SKEW_SIZE}static decodeCodewords(t,n,i){if(t.length===0)throw F.getFormatInstance();let o=1<<n+1,a=be.correctErrors(t,i,o);be.verifyCodewordCount(t,o);let c=Z.decode(t,""+n);return c.setErrorsCorrected(a),c.setErasures(i.length),c}static correctErrors(t,n,i){if(n!=null&&n.length>i/2+be.MAX_ERRORS||i<0||i>be.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return be.errorCorrection.decode(t,i,n)}static verifyCodewordCount(t,n){if(t.length<4)throw F.getFormatInstance();let i=t[0];if(i>t.length)throw F.getFormatInstance();if(i===0)if(n<t.length)t[0]=t.length-n;else throw F.getFormatInstance()}static getBitCountForCodeword(t){let n=new Int32Array(8),i=0,o=n.length-1;for(;!((t&1)!==i&&(i=t&1,o--,o<0));)n[o]++,t>>=1;return n}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return be.getCodewordBucketNumber(be.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let n=new o0;for(let i=0;i<t.length;i++){n.format("Row %2d: ",i);for(let o=0;o<t[i].length;o++){let a=t[i][o];a.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}n.format("%n")}return n.toString()}}be.CODEWORD_SKEW_SIZE=2,be.MAX_ERRORS=3,be.MAX_EC_CODEWORDS=512,be.errorCorrection=new c1;class Pt{decode(t,n=null){let i=Pt.decode(t,n,!1);if(i==null||i.length===0||i[0]==null)throw W.getNotFoundInstance();return i[0]}decodeMultiple(t,n=null){try{return Pt.decode(t,n,!0)}catch(i){throw i instanceof F||i instanceof B?W.getNotFoundInstance():i}}static decode(t,n,i){const o=new Array,a=Be.detectMultiple(t,n,i);for(const c of a.getPoints()){const f=be.decode(a.getBits(),c[4],c[5],c[6],c[7],Pt.getMinCodewordWidth(c),Pt.getMaxCodewordWidth(c)),h=new te(f.getText(),f.getRawBytes(),void 0,c,ce.PDF_417);h.putMetadata(Ee.ERROR_CORRECTION_LEVEL,f.getECLevel());const x=f.getOther();x!=null&&h.putMetadata(Ee.PDF417_EXTRA_METADATA,x),o.push(h)}return o.map(c=>c)}static getMaxWidth(t,n){return t==null||n==null?0:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMinWidth(t,n){return t==null||n==null?v.MAX_VALUE:Math.trunc(Math.abs(t.getX()-n.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Pt.getMaxWidth(t[0],t[4]),Pt.getMaxWidth(t[6],t[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.max(Pt.getMaxWidth(t[1],t[5]),Pt.getMaxWidth(t[7],t[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Pt.getMinWidth(t[0],t[4]),Pt.getMinWidth(t[6],t[2])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN),Math.min(Pt.getMinWidth(t[1],t[5]),Pt.getMinWidth(t[7],t[3])*Ie.MODULES_IN_CODEWORD/Ie.MODULES_IN_STOP_PATTERN)))}reset(){}}class us extends g{}us.kind="ReaderException";class g1{constructor(t,n){this.verbose=t===!0,n&&this.setHints(n)}decode(t,n){return n&&this.setHints(n),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const n=!l(t)&&t.get(L.TRY_HARDER)===!0,i=l(t)?null:t.get(L.POSSIBLE_FORMATS),o=new Array;if(!l(i)){const a=i.some(c=>c===ce.UPC_A||c===ce.UPC_E||c===ce.EAN_13||c===ce.EAN_8||c===ce.CODABAR||c===ce.CODE_39||c===ce.CODE_93||c===ce.CODE_128||c===ce.ITF||c===ce.RSS_14||c===ce.RSS_EXPANDED);a&&!n&&o.push(new wi(t,this.verbose)),i.includes(ce.QR_CODE)&&o.push(new An),i.includes(ce.DATA_MATRIX)&&o.push(new vn),i.includes(ce.AZTEC)&&o.push(new kr),i.includes(ce.PDF_417)&&o.push(new Pt),a&&n&&o.push(new wi(t,this.verbose))}o.length===0&&(n||o.push(new wi(t,this.verbose)),o.push(new An),o.push(new vn),o.push(new kr),o.push(new Pt),n&&o.push(new wi(t,this.verbose))),this.readers=o}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new us("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(t,this.hints)}catch(i){if(i instanceof us)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class wx extends ne{constructor(t=null,n=500){const i=new g1;i.setHints(t),super(i,n)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class yx extends ne{constructor(t=500){super(new Pt,t)}}class Cx extends ne{constructor(t=500){super(new An,t)}}var Qo;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Qo||(Qo={}));var vt=Qo;class Zo{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new It(t,Int32Array.from([1])))}buildGenerator(t){const n=this.cachedGenerators;if(t>=n.length){let i=n[n.length-1];const o=this.field;for(let a=n.length;a<=t;a++){const c=i.multiply(new It(o,Int32Array.from([1,o.exp(a-1+o.getGeneratorBase())])));n.push(c),i=c}}return n[t]}encode(t,n){if(n===0)throw new N("No error correction bytes");const i=t.length-n;if(i<=0)throw new N("No data bytes provided");const o=this.buildGenerator(n),a=new Int32Array(i);O.arraycopy(t,0,a,0,i);let c=new It(this.field,a);c=c.multiplyByMonomial(n,1);const h=c.divide(o)[1].getCoefficients(),x=n-h.length;for(let y=0;y<x;y++)t[i+y]=0;O.arraycopy(h,0,t,i+x,h.length)}}class ht{constructor(){}static applyMaskPenaltyRule1(t){return ht.applyMaskPenaltyRule1Internal(t,!0)+ht.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let c=0;c<a-1;c++){const f=i[c];for(let h=0;h<o-1;h++){const x=f[h];x===f[h+1]&&x===i[c+1][h]&&x===i[c+1][h+1]&&n++}}return ht.N2*n}static applyMaskPenaltyRule3(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let c=0;c<a;c++)for(let f=0;f<o;f++){const h=i[c];f+6<o&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(ht.isWhiteHorizontal(h,f-4,f)||ht.isWhiteHorizontal(h,f+7,f+11))&&n++,c+6<a&&i[c][f]===1&&i[c+1][f]===0&&i[c+2][f]===1&&i[c+3][f]===1&&i[c+4][f]===1&&i[c+5][f]===0&&i[c+6][f]===1&&(ht.isWhiteVertical(i,f,c-4,c)||ht.isWhiteVertical(i,f,c+7,c+11))&&n++}return n*ht.N3}static isWhiteHorizontal(t,n,i){n=Math.max(n,0),i=Math.min(i,t.length);for(let o=n;o<i;o++)if(t[o]===1)return!1;return!0}static isWhiteVertical(t,n,i,o){i=Math.max(i,0),o=Math.min(o,t.length);for(let a=i;a<o;a++)if(t[a][n]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let n=0;const i=t.getArray(),o=t.getWidth(),a=t.getHeight();for(let h=0;h<a;h++){const x=i[h];for(let y=0;y<o;y++)x[y]===1&&n++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(n*2-c)*10/c)*ht.N4}static getDataMaskBit(t,n,i){let o,a;switch(t){case 0:o=i+n&1;break;case 1:o=i&1;break;case 2:o=n%3;break;case 3:o=(i+n)%3;break;case 4:o=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:a=i*n,o=(a&1)+a%3;break;case 6:a=i*n,o=(a&1)+a%3&1;break;case 7:a=i*n,o=a%3+(i+n&1)&1;break;default:throw new N("Invalid mask pattern: "+t)}return o===0}static applyMaskPenaltyRule1Internal(t,n){let i=0;const o=n?t.getHeight():t.getWidth(),a=n?t.getWidth():t.getHeight(),c=t.getArray();for(let f=0;f<o;f++){let h=0,x=-1;for(let y=0;y<a;y++){const _=n?c[f][y]:c[y][f];_===x?h++:(h>=5&&(i+=ht.N1+(h-5)),h=1,x=_)}h>=5&&(i+=ht.N1+(h-5))}return i}}ht.N1=3,ht.N2=3,ht.N3=40,ht.N4=10;class fs{constructor(t,n){this.width=t,this.height=n;const i=new Array(n);for(let o=0;o!==n;o++)i[o]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,n){return this.bytes[n][t]}getArray(){return this.bytes}setNumber(t,n,i){this.bytes[n][t]=i}setBoolean(t,n,i){this.bytes[n][t]=i?1:0}clear(t){for(const n of this.bytes)C.fill(n,t)}equals(t){if(!(t instanceof fs))return!1;const n=t;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,o=this.height;i<o;++i){const a=this.bytes[i],c=n.bytes[i];for(let f=0,h=this.width;f<h;++f)if(a[f]!==c[f])return!1}return!0}toString(){const t=new J;for(let n=0,i=this.height;n<i;++n){const o=this.bytes[n];for(let a=0,c=this.width;a<c;++a)switch(o[a]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Zn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new J;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Zn.NUM_MASK_PATTERNS}}Zn.NUM_MASK_PATTERNS=8;class Ye extends g{}Ye.kind="WriterException";class Se{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,n,i,o,a){Se.clearMatrix(a),Se.embedBasicPatterns(i,a),Se.embedTypeInfo(n,o,a),Se.maybeEmbedVersionInfo(i,a),Se.embedDataBits(t,o,a)}static embedBasicPatterns(t,n){Se.embedPositionDetectionPatternsAndSeparators(n),Se.embedDarkDotAtLeftBottomCorner(n),Se.maybeEmbedPositionAdjustmentPatterns(t,n),Se.embedTimingPatterns(n)}static embedTypeInfo(t,n,i){const o=new T;Se.makeTypeInfoBits(t,n,o);for(let a=0,c=o.getSize();a<c;++a){const f=o.get(o.getSize()-1-a),h=Se.TYPE_INFO_COORDINATES[a],x=h[0],y=h[1];if(i.setBoolean(x,y,f),a<8){const _=i.getWidth()-a-1;i.setBoolean(_,8,f)}else{const b=i.getHeight()-7+(a-8);i.setBoolean(8,b,f)}}}static maybeEmbedVersionInfo(t,n){if(t.getVersionNumber()<7)return;const i=new T;Se.makeVersionInfoBits(t,i);let o=6*3-1;for(let a=0;a<6;++a)for(let c=0;c<3;++c){const f=i.get(o);o--,n.setBoolean(a,n.getHeight()-11+c,f),n.setBoolean(n.getHeight()-11+c,a,f)}}static embedDataBits(t,n,i){let o=0,a=-1,c=i.getWidth()-1,f=i.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<i.getHeight();){for(let h=0;h<2;++h){const x=c-h;if(!Se.isEmpty(i.get(x,f)))continue;let y;o<t.getSize()?(y=t.get(o),++o):y=!1,n!==255&&ht.getDataMaskBit(n,x,f)&&(y=!y),i.setBoolean(x,f,y)}f+=a}a=-a,f+=a,c-=2}if(o!==t.getSize())throw new Ye("Not all bits consumed: "+o+"/"+t.getSize())}static findMSBSet(t){return 32-v.numberOfLeadingZeros(t)}static calculateBCHCode(t,n){if(n===0)throw new N("0 polynomial");const i=Se.findMSBSet(n);for(t<<=i-1;Se.findMSBSet(t)>=i;)t^=n<<Se.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,n,i){if(!Zn.isValidMaskPattern(n))throw new Ye("Invalid mask pattern");const o=t.getBits()<<3|n;i.appendBits(o,5);const a=Se.calculateBCHCode(o,Se.TYPE_INFO_POLY);i.appendBits(a,10);const c=new T;if(c.appendBits(Se.TYPE_INFO_MASK_PATTERN,15),i.xor(c),i.getSize()!==15)throw new Ye("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,n){n.appendBits(t.getVersionNumber(),6);const i=Se.calculateBCHCode(t.getVersionNumber(),Se.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Ye("should not happen but we got: "+n.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let n=8;n<t.getWidth()-8;++n){const i=(n+1)%2;Se.isEmpty(t.get(n,6))&&t.setNumber(n,6,i),Se.isEmpty(t.get(6,n))&&t.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Ye;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,n,i){for(let o=0;o<8;++o){if(!Se.isEmpty(i.get(t+o,n)))throw new Ye;i.setNumber(t+o,n,0)}}static embedVerticalSeparationPattern(t,n,i){for(let o=0;o<7;++o){if(!Se.isEmpty(i.get(t,n+o)))throw new Ye;i.setNumber(t,n+o,0)}}static embedPositionAdjustmentPattern(t,n,i){for(let o=0;o<5;++o){const a=Se.POSITION_ADJUSTMENT_PATTERN[o];for(let c=0;c<5;++c)i.setNumber(t+c,n+o,a[c])}}static embedPositionDetectionPattern(t,n,i){for(let o=0;o<7;++o){const a=Se.POSITION_DETECTION_PATTERN[o];for(let c=0;c<7;++c)i.setNumber(t+c,n+o,a[c])}}static embedPositionDetectionPatternsAndSeparators(t){const n=Se.POSITION_DETECTION_PATTERN[0].length;Se.embedPositionDetectionPattern(0,0,t),Se.embedPositionDetectionPattern(t.getWidth()-n,0,t),Se.embedPositionDetectionPattern(0,t.getWidth()-n,t);const i=8;Se.embedHorizontalSeparationPattern(0,i-1,t),Se.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Se.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const o=7;Se.embedVerticalSeparationPattern(o,0,t),Se.embedVerticalSeparationPattern(t.getHeight()-o-1,0,t),Se.embedVerticalSeparationPattern(o,t.getHeight()-o,t)}static maybeEmbedPositionAdjustmentPatterns(t,n){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,o=Se.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let a=0,c=o.length;a!==c;a++){const f=o[a];if(f>=0)for(let h=0;h!==c;h++){const x=o[h];x>=0&&Se.isEmpty(n.get(x,f))&&Se.embedPositionAdjustmentPattern(x-2,f-2,n)}}}}Se.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Se.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Se.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Se.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Se.VERSION_INFO_POLY=7973,Se.TYPE_INFO_POLY=1335,Se.TYPE_INFO_MASK_PATTERN=21522;class Ex{constructor(t,n){this.dataBytes=t,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class qe{constructor(){}static calculateMaskPenalty(t){return ht.applyMaskPenaltyRule1(t)+ht.applyMaskPenaltyRule2(t)+ht.applyMaskPenaltyRule3(t)+ht.applyMaskPenaltyRule4(t)}static encode(t,n,i=null){let o=qe.DEFAULT_BYTE_MODE_ENCODING;const a=i!==null&&i.get(vt.CHARACTER_SET)!==void 0;a&&(o=i.get(vt.CHARACTER_SET).toString());const c=this.chooseMode(t,o),f=new T;if(c===Ae.BYTE&&(a||qe.DEFAULT_BYTE_MODE_ENCODING!==o)){const le=G.getCharacterSetECIByName(o);le!==void 0&&this.appendECI(le,f)}this.appendModeInfo(c,f);const h=new T;this.appendBytes(t,c,h,o);let x;if(i!==null&&i.get(vt.QR_VERSION)!==void 0){const le=Number.parseInt(i.get(vt.QR_VERSION).toString(),10);x=ve.getVersionForNumber(le);const se=this.calculateBitsNeeded(c,f,h,x);if(!this.willFit(se,x,n))throw new Ye("Data too big for requested version")}else x=this.recommendVersion(n,c,f,h);const y=new T;y.appendBitArray(f);const _=c===Ae.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(_,x,c,y),y.appendBitArray(h);const b=x.getECBlocksForLevel(n),M=x.getTotalCodewords()-b.getTotalECCodewords();this.terminateBits(M,y);const z=this.interleaveWithECBytes(y,x.getTotalCodewords(),M,b.getNumBlocks()),V=new Zn;V.setECLevel(n),V.setMode(c),V.setVersion(x);const Y=x.getDimensionForVersion(),q=new fs(Y,Y),ae=this.chooseMaskPattern(z,n,x,q);return V.setMaskPattern(ae),Se.buildMatrix(z,n,x,ae,q),V.setMatrix(q),V}static recommendVersion(t,n,i,o){const a=this.calculateBitsNeeded(n,i,o,ve.getVersionForNumber(1)),c=this.chooseVersion(a,t),f=this.calculateBitsNeeded(n,i,o,c);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,n,i,o){return n.getSize()+t.getCharacterCountBits(o)+i.getSize()}static getAlphanumericCode(t){return t<qe.ALPHANUMERIC_TABLE.length?qe.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,n=null){if(G.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(t))return Ae.KANJI;let i=!1,o=!1;for(let a=0,c=t.length;a<c;++a){const f=t.charAt(a);if(qe.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)o=!0;else return Ae.BYTE}return o?Ae.ALPHANUMERIC:i?Ae.NUMERIC:Ae.BYTE}static isOnlyDoubleByteKanji(t){let n;try{n=X.encode(t,G.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let o=0;o<i;o+=2){const a=n[o]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0}static chooseMaskPattern(t,n,i,o){let a=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<Zn.NUM_MASK_PATTERNS;f++){Se.buildMatrix(t,n,i,f,o);let h=this.calculateMaskPenalty(o);h<a&&(a=h,c=f)}return c}static chooseVersion(t,n){for(let i=1;i<=40;i++){const o=ve.getVersionForNumber(i);if(qe.willFit(t,o,n))return o}throw new Ye("Data too big")}static willFit(t,n,i){const o=n.getTotalCodewords(),c=n.getECBlocksForLevel(i).getTotalECCodewords(),f=o-c,h=(t+7)/8;return f>=h}static terminateBits(t,n){const i=t*8;if(n.getSize()>i)throw new Ye("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let c=0;c<4&&n.getSize()<i;++c)n.appendBit(!1);const o=n.getSize()&7;if(o>0)for(let c=o;c<8;c++)n.appendBit(!1);const a=t-n.getSizeInBytes();for(let c=0;c<a;++c)n.appendBits(c&1?17:236,8);if(n.getSize()!==i)throw new Ye("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,n,i,o,a,c){if(o>=i)throw new Ye("Block ID too large");const f=t%i,h=i-f,x=Math.floor(t/i),y=x+1,_=Math.floor(n/i),b=_+1,M=x-_,z=y-b;if(M!==z)throw new Ye("EC bytes mismatch");if(i!==h+f)throw new Ye("RS blocks mismatch");if(t!==(_+M)*h+(b+z)*f)throw new Ye("Total bytes mismatch");o<h?(a[0]=_,c[0]=M):(a[0]=b,c[0]=z)}static interleaveWithECBytes(t,n,i,o){if(t.getSizeInBytes()!==i)throw new Ye("Number of bits and data bytes does not match");let a=0,c=0,f=0;const h=new Array;for(let y=0;y<o;++y){const _=new Int32Array(1),b=new Int32Array(1);qe.getNumDataBytesAndNumECBytesForBlockID(n,i,o,y,_,b);const M=_[0],z=new Uint8Array(M);t.toBytes(8*a,z,0,M);const V=qe.generateECBytes(z,b[0]);h.push(new Ex(z,V)),c=Math.max(c,M),f=Math.max(f,V.length),a+=_[0]}if(i!==a)throw new Ye("Data bytes does not match offset");const x=new T;for(let y=0;y<c;++y)for(const _ of h){const b=_.getDataBytes();y<b.length&&x.appendBits(b[y],8)}for(let y=0;y<f;++y)for(const _ of h){const b=_.getErrorCorrectionBytes();y<b.length&&x.appendBits(b[y],8)}if(n!==x.getSizeInBytes())throw new Ye("Interleaving error: "+n+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,n){const i=t.length,o=new Int32Array(i+n);for(let c=0;c<i;c++)o[c]=t[c]&255;new Zo(Ne.QR_CODE_FIELD_256).encode(o,n);const a=new Uint8Array(n);for(let c=0;c<n;c++)a[c]=o[i+c];return a}static appendModeInfo(t,n){n.appendBits(t.getBits(),4)}static appendLengthInfo(t,n,i,o){const a=i.getCharacterCountBits(n);if(t>=1<<a)throw new Ye(t+" is bigger than "+((1<<a)-1));o.appendBits(t,a)}static appendBytes(t,n,i,o){switch(n){case Ae.NUMERIC:qe.appendNumericBytes(t,i);break;case Ae.ALPHANUMERIC:qe.appendAlphanumericBytes(t,i);break;case Ae.BYTE:qe.append8BitBytes(t,i,o);break;case Ae.KANJI:qe.appendKanjiBytes(t,i);break;default:throw new Ye("Invalid mode: "+n)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const n=qe.getDigit(t);return n>=0&&n<=9}static appendNumericBytes(t,n){const i=t.length;let o=0;for(;o<i;){const a=qe.getDigit(t.charAt(o));if(o+2<i){const c=qe.getDigit(t.charAt(o+1)),f=qe.getDigit(t.charAt(o+2));n.appendBits(a*100+c*10+f,10),o+=3}else if(o+1<i){const c=qe.getDigit(t.charAt(o+1));n.appendBits(a*10+c,7),o+=2}else n.appendBits(a,4),o++}}static appendAlphanumericBytes(t,n){const i=t.length;let o=0;for(;o<i;){const a=qe.getAlphanumericCode(t.charCodeAt(o));if(a===-1)throw new Ye;if(o+1<i){const c=qe.getAlphanumericCode(t.charCodeAt(o+1));if(c===-1)throw new Ye;n.appendBits(a*45+c,11),o+=2}else n.appendBits(a,6),o++}}static append8BitBytes(t,n,i){let o;try{o=X.encode(t,i)}catch(a){throw new Ye(a)}for(let a=0,c=o.length;a!==c;a++){const f=o[a];n.appendBits(f,8)}}static appendKanjiBytes(t,n){let i;try{i=X.encode(t,G.SJIS)}catch(a){throw new Ye(a)}const o=i.length;for(let a=0;a<o;a+=2){const c=i[a]&255,f=i[a+1]&255,h=c<<8&4294967295|f;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Ye("Invalid byte sequence");const y=(x>>8)*192+(x&255);n.appendBits(y,13)}}static appendECI(t,n){n.appendBits(Ae.ECI.getBits(),4),n.appendBits(t.getValue(),8)}}qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),qe.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class qn{write(t,n,i,o=null){if(t.length===0)throw new N("Found empty contents");if(n<0||i<0)throw new N("Requested dimensions are too small: "+n+"x"+i);let a=Qe.L,c=qn.QUIET_ZONE_SIZE;o!==null&&(o.get(vt.ERROR_CORRECTION)!==void 0&&(a=Qe.fromString(o.get(vt.ERROR_CORRECTION).toString())),o.get(vt.MARGIN)!==void 0&&(c=Number.parseInt(o.get(vt.MARGIN).toString(),10)));const f=qe.encode(t,a,o);return this.renderResult(f,n,i,c)}writeToDom(t,n,i,o,a=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(n,i,o,a);t&&t.appendChild(c)}renderResult(t,n,i,o){const a=t.getMatrix();if(a===null)throw new Kt;const c=a.getWidth(),f=a.getHeight(),h=c+o*2,x=f+o*2,y=Math.max(n,h),_=Math.max(i,x),b=Math.min(Math.floor(y/h),Math.floor(_/x)),M=Math.floor((y-c*b)/2),z=Math.floor((_-f*b)/2),V=this.createSVGElement(y,_);for(let Y=0,q=z;Y<f;Y++,q+=b)for(let ae=0,le=M;ae<c;ae++,le+=b)if(a.get(ae,Y)===1){const se=this.createSvgRectElement(le,q,b,b);V.appendChild(se)}return V}createSVGElement(t,n){const i=document.createElementNS(qn.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(t,n,i,o){const a=document.createElementNS(qn.SVG_NS,"rect");return a.setAttributeNS(null,"x",t.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"height",i.toString()),a.setAttributeNS(null,"width",o.toString()),a.setAttributeNS(null,"fill","#000000"),a}}qn.QUIET_ZONE_SIZE=4,qn.SVG_NS="http://www.w3.org/2000/svg";class Ci{encode(t,n,i,o,a){if(t.length===0)throw new N("Found empty contents");if(n!==ce.QR_CODE)throw new N("Can only encode QR_CODE, but got "+n);if(i<0||o<0)throw new N(`Requested dimensions are too small: ${i}x${o}`);let c=Qe.L,f=Ci.QUIET_ZONE_SIZE;a!==null&&(a.get(vt.ERROR_CORRECTION)!==void 0&&(c=Qe.fromString(a.get(vt.ERROR_CORRECTION).toString())),a.get(vt.MARGIN)!==void 0&&(f=Number.parseInt(a.get(vt.MARGIN).toString(),10)));const h=qe.encode(t,c,a);return Ci.renderResult(h,i,o,f)}static renderResult(t,n,i,o){const a=t.getMatrix();if(a===null)throw new Kt;const c=a.getWidth(),f=a.getHeight(),h=c+o*2,x=f+o*2,y=Math.max(n,h),_=Math.max(i,x),b=Math.min(Math.floor(y/h),Math.floor(_/x)),M=Math.floor((y-c*b)/2),z=Math.floor((_-f*b)/2),V=new fe(y,_);for(let Y=0,q=z;Y<f;Y++,q+=b)for(let ae=0,le=M;ae<c;ae++,le+=b)a.get(ae,Y)===1&&V.setRegion(le,q,b,b);return V}}Ci.QUIET_ZONE_SIZE=4;class vx{encode(t,n,i,o,a){let c;switch(n){case ce.QR_CODE:c=new Ci;break;default:throw new N("No encoder available for format "+n)}return c.encode(t,n,i,o,a)}}class Zr extends ie{constructor(t,n,i,o,a,c,f,h){if(super(c,f),this.yuvData=t,this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=a,o+c>n||a+f>i)throw new N("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(c,f)}getRow(t,n){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,o,n,0,i),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=t*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return O.arraycopy(this.yuvData,a,o,0,i),o;for(let c=0;c<n;c++){const f=c*t;O.arraycopy(this.yuvData,a,o,f,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,n,i,o){return new Zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,i,o,!1)}renderThumbnail(){const t=this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*n),o=this.yuvData;let a=this.top*this.dataWidth+this.left;for(let c=0;c<n;c++){const f=c*t;for(let h=0;h<t;h++){const x=o[a+h*Zr.THUMBNAIL_SCALE_FACTOR]&255;i[f+h]=4278190080|x*65793}a+=this.dataWidth*Zr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,n){const i=this.yuvData;for(let o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth){const c=a+t/2;for(let f=a,h=a+t-1;f<c;f++,h--){const x=i[f];i[f]=i[h],i[h]=x}}}invert(){return new de(this)}}Zr.THUMBNAIL_SCALE_FACTOR=2;class qo extends ie{constructor(t,n,i,o,a,c,f){if(super(n,i),this.dataWidth=o,this.dataHeight=a,this.left=c,this.top=f,t.BYTES_PER_ELEMENT===4){const h=n*i,x=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const _=t[y],b=_>>16&255,M=_>>7&510,z=_&255;x[y]=(b+M+z)/4&255}this.luminances=x}else this.luminances=t;if(o===void 0&&(this.dataWidth=n),a===void 0&&(this.dataHeight=i),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new N("Crop rectangle does not fit within image data.")}getRow(t,n){if(t<0||t>=this.getHeight())throw new N("Requested row is outside the image: "+t);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const o=(t+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,o,n,0,i),n}getMatrix(){const t=this.getWidth(),n=this.getHeight();if(t===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=t*n,o=new Uint8ClampedArray(i);let a=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return O.arraycopy(this.luminances,a,o,0,i),o;for(let c=0;c<n;c++){const f=c*t;O.arraycopy(this.luminances,a,o,f,t),a+=this.dataWidth}return o}isCropSupported(){return!0}crop(t,n,i,o){return new qo(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+t,this.top+n)}invert(){return new de(this)}}class p1 extends G{static forName(t){return this.getCharacterSetECIByName(t)}}class Jo{}Jo.ISO_8859_1=G.ISO8859_1;class m1{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class w1{static singletonList(t){return[t]}static min(t,n){return t.sort(n)[0]}}class Ax{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ei extends Ax{constructor(t,n,i){super(t),this.value=n,this.bitCount=i}appendTo(t,n){t.appendBits(this.value,this.bitCount)}add(t,n){return new Ei(this,t,n)}addBinaryShift(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ei(this,t,n)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+v.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class $o extends Ei{constructor(t,n,i){super(t,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(t,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(t,n){return new $o(this,t,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sx(I,t,n){return new $o(I,t,n)}function f0(I,t,n){return new Ei(I,t,n)}const Ix=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],In=0,ds=1,Ir=2,y1=3,qr=4,_x=new Ei(null,0,0),ea=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Nx(I){for(let t of I)C.fill(t,-1);return I[In][qr]=0,I[ds][qr]=0,I[ds][In]=28,I[y1][qr]=0,I[Ir][qr]=0,I[Ir][In]=15,I}const C1=Nx(C.createInt32Array(6,6));class Jr{constructor(t,n,i,o){this.token=t,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=o}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,n){let i=this.bitCount,o=this.token;if(t!==this.mode){let c=ea[this.mode][t];o=f0(o,c&65535,c>>16),i+=c>>16}let a=t===Ir?4:5;return o=f0(o,n,a),new Jr(o,t,0,i+a)}shiftAndAppend(t,n){let i=this.token,o=this.mode===Ir?4:5;return i=f0(i,C1[this.mode][t],o),i=f0(i,n,5),new Jr(i,this.mode,0,this.bitCount+o+5)}addBinaryShiftChar(t){let n=this.token,i=this.mode,o=this.bitCount;if(this.mode===qr||this.mode===Ir){let f=ea[i][In];n=f0(n,f&65535,f>>16),o+=f>>16,i=In}let a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Jr(n,i,this.binaryShiftByteCount+1,o+a);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Sx(n,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Jr(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let n=this.bitCount+(ea[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?n+=Jr.calculateBinaryShiftCost(t)-Jr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(n+=10),n<=t.bitCount}toBitArray(t){let n=[];for(let o=this.endBinaryShift(t.length).token;o!==null;o=o.getPrevious())n.unshift(o);let i=new T;for(const o of n)o.appendTo(i,t);return i}toString(){return Q.format("%s bits=%d bytes=%d",Ix[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Jr.INITIAL_STATE=new Jr(_x,In,0,0);function Dx(I){const t=Q.getCharCode(" "),n=Q.getCharCode("."),i=Q.getCharCode(",");I[In][t]=1;const o=Q.getCharCode("Z"),a=Q.getCharCode("A");for(let b=a;b<=o;b++)I[In][b]=b-a+2;I[ds][t]=1;const c=Q.getCharCode("z"),f=Q.getCharCode("a");for(let b=f;b<=c;b++)I[ds][b]=b-f+2;I[Ir][t]=1;const h=Q.getCharCode("9"),x=Q.getCharCode("0");for(let b=x;b<=h;b++)I[Ir][b]=b-x+2;I[Ir][i]=12,I[Ir][n]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let b=0;b<y.length;b++)I[y1][Q.getCharCode(y[b])]=b;const _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let b=0;b<_.length;b++)Q.getCharCode(_[b])>0&&(I[qr][Q.getCharCode(_[b])]=b);return I}const ta=Dx(C.createInt32Array(5,256));class d0{constructor(t){this.text=t}encode(){const t=Q.getCharCode(" "),n=Q.getCharCode(`
`);let i=w1.singletonList(Jr.INITIAL_STATE);for(let a=0;a<this.text.length;a++){let c,f=a+1<this.text.length?this.text[a+1]:0;switch(this.text[a]){case Q.getCharCode("\r"):c=f===n?2:0;break;case Q.getCharCode("."):c=f===t?3:0;break;case Q.getCharCode(","):c=f===t?4:0;break;case Q.getCharCode(":"):c=f===t?5:0;break;default:c=0}c>0?(i=d0.updateStateListForPair(i,a,c),a++):i=this.updateStateListForChar(i,a)}return w1.min(i,(a,c)=>a.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,n){const i=[];for(let o of t)this.updateStateForChar(o,n,i);return d0.simplifyStates(i)}updateStateForChar(t,n,i){let o=this.text[n]&255,a=ta[t.getMode()][o]>0,c=null;for(let f=0;f<=qr;f++){let h=ta[f][o];if(h>0){if(c==null&&(c=t.endBinaryShift(n)),!a||f===t.getMode()||f===Ir){const x=c.latchAndAppend(f,h);i.push(x)}if(!a&&C1[t.getMode()][f]>=0){const x=c.shiftAndAppend(f,h);i.push(x)}}}if(t.getBinaryShiftByteCount()>0||ta[t.getMode()][o]===0){let f=t.addBinaryShiftChar(n);i.push(f)}}static updateStateListForPair(t,n,i){const o=[];for(let a of t)this.updateStateForPair(a,n,i,o);return this.simplifyStates(o)}static updateStateForPair(t,n,i,o){let a=t.endBinaryShift(n);if(o.push(a.latchAndAppend(qr,i)),t.getMode()!==qr&&o.push(a.shiftAndAppend(qr,i)),i===3||i===4){let c=a.latchAndAppend(Ir,16-i).latchAndAppend(Ir,1);o.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(n).addBinaryShiftChar(n+1);o.push(c)}}static simplifyStates(t){let n=[];for(const i of t){let o=!0;for(const a of n){if(a.isBetterThanOrEqualTo(i)){o=!1;break}i.isBetterThanOrEqualTo(a)&&(n=n.filter(c=>c!==a))}o&&n.push(i)}return n}}class Pe{constructor(){}static encodeBytes(t){return Pe.encode(t,Pe.DEFAULT_EC_PERCENT,Pe.DEFAULT_AZTEC_LAYERS)}static encode(t,n,i){let o=new d0(t).encode(),a=v.truncDivision(o.getSize()*n,100)+11,c=o.getSize()+a,f,h,x,y,_;if(i!==Pe.DEFAULT_AZTEC_LAYERS){if(f=i<0,h=Math.abs(i),h>(f?Pe.MAX_NB_BITS_COMPACT:Pe.MAX_NB_BITS))throw new N(Q.format("Illegal value %s for layers",i));x=Pe.totalBitsInLayer(h,f),y=Pe.WORD_SIZE[h];let se=x-x%y;if(_=Pe.stuffBits(o,y),_.getSize()+a>se)throw new N("Data to large for user specified layer");if(f&&_.getSize()>y*64)throw new N("Data to large for user specified layer")}else{y=0,_=null;for(let se=0;;se++){if(se>Pe.MAX_NB_BITS)throw new N("Data too large for an Aztec code");if(f=se<=3,h=f?se+1:se,x=Pe.totalBitsInLayer(h,f),c>x)continue;(_==null||y!==Pe.WORD_SIZE[h])&&(y=Pe.WORD_SIZE[h],_=Pe.stuffBits(o,y));let Oe=x-x%y;if(!(f&&_.getSize()>y*64)&&_.getSize()+a<=Oe)break}}let b=Pe.generateCheckWords(_,x,y),M=_.getSize()/y,z=Pe.generateModeMessage(f,h,M),V=(f?11:14)+h*4,Y=new Int32Array(V),q;if(f){q=V;for(let se=0;se<Y.length;se++)Y[se]=se}else{q=V+1+2*v.truncDivision(v.truncDivision(V,2)-1,15);let se=v.truncDivision(V,2),Oe=v.truncDivision(q,2);for(let De=0;De<se;De++){let nr=De+v.truncDivision(De,15);Y[se-De-1]=Oe-nr-1,Y[se+De]=Oe+nr+1}}let ae=new fe(q);for(let se=0,Oe=0;se<h;se++){let De=(h-se)*4+(f?9:12);for(let nr=0;nr<De;nr++){let Mr=nr*2;for(let ir=0;ir<2;ir++)b.get(Oe+Mr+ir)&&ae.set(Y[se*2+ir],Y[se*2+nr]),b.get(Oe+De*2+Mr+ir)&&ae.set(Y[se*2+nr],Y[V-1-se*2-ir]),b.get(Oe+De*4+Mr+ir)&&ae.set(Y[V-1-se*2-ir],Y[V-1-se*2-nr]),b.get(Oe+De*6+Mr+ir)&&ae.set(Y[V-1-se*2-nr],Y[se*2+ir])}Oe+=De*8}if(Pe.drawModeMessage(ae,f,q,z),f)Pe.drawBullsEye(ae,v.truncDivision(q,2),5);else{Pe.drawBullsEye(ae,v.truncDivision(q,2),7);for(let se=0,Oe=0;se<v.truncDivision(V,2)-1;se+=15,Oe+=16)for(let De=v.truncDivision(q,2)&1;De<q;De+=2)ae.set(v.truncDivision(q,2)-Oe,De),ae.set(v.truncDivision(q,2)+Oe,De),ae.set(De,v.truncDivision(q,2)-Oe),ae.set(De,v.truncDivision(q,2)+Oe)}let le=new m1;return le.setCompact(f),le.setSize(q),le.setLayers(h),le.setCodeWords(M),le.setMatrix(ae),le}static drawBullsEye(t,n,i){for(let o=0;o<i;o+=2)for(let a=n-o;a<=n+o;a++)t.set(a,n-o),t.set(a,n+o),t.set(n-o,a),t.set(n+o,a);t.set(n-i,n-i),t.set(n-i+1,n-i),t.set(n-i,n-i+1),t.set(n+i,n-i),t.set(n+i,n-i+1),t.set(n+i,n+i-1)}static generateModeMessage(t,n,i){let o=new T;return t?(o.appendBits(n-1,2),o.appendBits(i-1,6),o=Pe.generateCheckWords(o,28,4)):(o.appendBits(n-1,5),o.appendBits(i-1,11),o=Pe.generateCheckWords(o,40,4)),o}static drawModeMessage(t,n,i,o){let a=v.truncDivision(i,2);if(n)for(let c=0;c<7;c++){let f=a-3+c;o.get(c)&&t.set(f,a-5),o.get(c+7)&&t.set(a+5,f),o.get(20-c)&&t.set(f,a+5),o.get(27-c)&&t.set(a-5,f)}else for(let c=0;c<10;c++){let f=a-5+c+v.truncDivision(c,5);o.get(c)&&t.set(f,a-7),o.get(c+10)&&t.set(a+7,f),o.get(29-c)&&t.set(f,a+7),o.get(39-c)&&t.set(a-7,f)}}static generateCheckWords(t,n,i){let o=t.getSize()/i,a=new Zo(Pe.getGF(i)),c=v.truncDivision(n,i),f=Pe.bitsToWords(t,i,c);a.encode(f,c-o);let h=n%i,x=new T;x.appendBits(0,h);for(const y of Array.from(f))x.appendBits(y,i);return x}static bitsToWords(t,n,i){let o=new Int32Array(i),a,c;for(a=0,c=t.getSize()/n;a<c;a++){let f=0;for(let h=0;h<n;h++)f|=t.get(a*n+h)?1<<n-h-1:0;o[a]=f}return o}static getGF(t){switch(t){case 4:return Ne.AZTEC_PARAM;case 6:return Ne.AZTEC_DATA_6;case 8:return Ne.AZTEC_DATA_8;case 10:return Ne.AZTEC_DATA_10;case 12:return Ne.AZTEC_DATA_12;default:throw new N("Unsupported word size "+t)}}static stuffBits(t,n){let i=new T,o=t.getSize(),a=(1<<n)-2;for(let c=0;c<o;c+=n){let f=0;for(let h=0;h<n;h++)(c+h>=o||t.get(c+h))&&(f|=1<<n-1-h);(f&a)===a?(i.appendBits(f&a,n),c--):f&a?i.appendBits(f,n):(i.appendBits(f|1,n),c--)}return i}static totalBitsInLayer(t,n){return((n?88:112)+16*t)*t}}Pe.DEFAULT_EC_PERCENT=33,Pe.DEFAULT_AZTEC_LAYERS=0,Pe.MAX_NB_BITS=32,Pe.MAX_NB_BITS_COMPACT=4,Pe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hs{encode(t,n,i,o){return this.encodeWithHints(t,n,i,o,null)}encodeWithHints(t,n,i,o,a){let c=Jo.ISO_8859_1,f=Pe.DEFAULT_EC_PERCENT,h=Pe.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(vt.CHARACTER_SET)&&(c=p1.forName(a.get(vt.CHARACTER_SET).toString())),a.has(vt.ERROR_CORRECTION)&&(f=v.parseInt(a.get(vt.ERROR_CORRECTION).toString())),a.has(vt.AZTEC_LAYERS)&&(h=v.parseInt(a.get(vt.AZTEC_LAYERS).toString()))),hs.encodeLayers(t,n,i,o,c,f,h)}static encodeLayers(t,n,i,o,a,c,f){if(n!==ce.AZTEC)throw new N("Can only encode AZTEC, but got "+n);let h=Pe.encode(Q.getBytes(t,a),c,f);return hs.renderResult(h,i,o)}static renderResult(t,n,i){let o=t.getMatrix();if(o==null)throw new Kt;let a=o.getWidth(),c=o.getHeight(),f=Math.max(n,a),h=Math.max(i,c),x=Math.min(f/a,h/c),y=(f-a*x)/2,_=(h-c*x)/2,b=new fe(f,h);for(let M=0,z=_;M<c;M++,z+=x)for(let V=0,Y=y;V<a;V++,Y+=x)o.get(V,M)&&b.setRegion(Y,z,x,x);return b}}s.AbstractExpandedDecoder=Uo,s.ArgumentException=E,s.ArithmeticException=Gr,s.AztecCode=m1,s.AztecCodeReader=kr,s.AztecCodeWriter=hs,s.AztecDecoder=Ue,s.AztecDetector=r0,s.AztecDetectorResult=Fr,s.AztecEncoder=Pe,s.AztecHighLevelEncoder=d0,s.AztecPoint=Nt,s.BarcodeFormat=ce,s.Binarizer=R,s.BinaryBitmap=S,s.BitArray=T,s.BitMatrix=fe,s.BitSource=Go,s.BrowserAztecCodeReader=Yn,s.BrowserBarcodeReader=sx,s.BrowserCodeReader=ne,s.BrowserDatamatrixCodeReader=ax,s.BrowserMultiFormatReader=wx,s.BrowserPDF417Reader=yx,s.BrowserQRCodeReader=Cx,s.BrowserQRCodeSvgWriter=qn,s.CharacterSetECI=G,s.ChecksumException=B,s.Code128Reader=ue,s.Code39Reader=ft,s.DataMatrixDecodedBitStreamParser=En,s.DataMatrixReader=vn,s.DecodeHintType=L,s.DecoderResult=Rr,s.DefaultGridSampler=mn,s.DetectorResult=Ft,s.EAN13Reader=Yr,s.EncodeHintType=vt,s.Exception=g,s.FormatException=F,s.GenericGF=Ne,s.GenericGFPoly=It,s.GlobalHistogramBinarizer=ye,s.GridSampler=xi,s.GridSamplerInstance=Xr,s.HTMLCanvasElementLuminanceSource=he,s.HybridBinarizer=ge,s.ITFReader=Ve,s.IllegalArgumentException=N,s.IllegalStateException=Kt,s.InvertedLuminanceSource=de,s.LuminanceSource=ie,s.MathUtils=Te,s.MultiFormatOneDReader=wi,s.MultiFormatReader=g1,s.MultiFormatWriter=vx,s.NotFoundException=W,s.OneDReader=ut,s.PDF417DecodedBitStreamParser=Z,s.PDF417DecoderErrorCorrection=c1,s.PDF417Reader=Pt,s.PDF417ResultMetadata=f1,s.PerspectiveTransform=_t,s.PlanarYUVLuminanceSource=Zr,s.QRCodeByteMatrix=fs,s.QRCodeDataMask=Ar,s.QRCodeDecodedBitStreamParser=st,s.QRCodeDecoderErrorCorrectionLevel=Qe,s.QRCodeDecoderFormatInformation=Vt,s.QRCodeEncoder=qe,s.QRCodeEncoderQRCode=Zn,s.QRCodeMaskUtil=ht,s.QRCodeMatrixUtil=Se,s.QRCodeMode=Ae,s.QRCodeReader=An,s.QRCodeVersion=ve,s.QRCodeWriter=Ci,s.RGBLuminanceSource=qo,s.RSS14Reader=dt,s.RSSExpandedReader=re,s.ReaderException=us,s.ReedSolomonDecoder=Or,s.ReedSolomonEncoder=Zo,s.ReedSolomonException=yt,s.Result=te,s.ResultMetadataType=Ee,s.ResultPoint=xe,s.StringUtils=Q,s.UnsupportedOperationException=H,s.VideoInputDevice=$,s.WhiteRectangleDetector=er,s.WriterException=Ye,s.ZXingArrays=C,s.ZXingCharset=p1,s.ZXingInteger=v,s.ZXingStandardCharsets=Jo,s.ZXingStringBuilder=J,s.ZXingStringEncoding=X,s.ZXingSystem=O,s.createAbstractExpandedDecoder=a1,Object.defineProperty(s,"__esModule",{value:!0})})})(nc,nc.exports);var $e=nc.exports;const Ip=_f($e),_p=Tx({__proto__:null,default:Ip},[$e]);var Ou=function(){function e(r,s,l){if(this.formatMap=new Map([[me.QR_CODE,$e.BarcodeFormat.QR_CODE],[me.AZTEC,$e.BarcodeFormat.AZTEC],[me.CODABAR,$e.BarcodeFormat.CODABAR],[me.CODE_39,$e.BarcodeFormat.CODE_39],[me.CODE_93,$e.BarcodeFormat.CODE_93],[me.CODE_128,$e.BarcodeFormat.CODE_128],[me.DATA_MATRIX,$e.BarcodeFormat.DATA_MATRIX],[me.MAXICODE,$e.BarcodeFormat.MAXICODE],[me.ITF,$e.BarcodeFormat.ITF],[me.EAN_13,$e.BarcodeFormat.EAN_13],[me.EAN_8,$e.BarcodeFormat.EAN_8],[me.PDF_417,$e.BarcodeFormat.PDF_417],[me.RSS_14,$e.BarcodeFormat.RSS_14],[me.RSS_EXPANDED,$e.BarcodeFormat.RSS_EXPANDED],[me.UPC_A,$e.BarcodeFormat.UPC_A],[me.UPC_E,$e.BarcodeFormat.UPC_E],[me.UPC_EAN_EXTENSION,$e.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!_p)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=l;var u=this.createZXingFormats(r),d=new Map;d.set($e.DecodeHintType.POSSIBLE_FORMATS,u),d.set($e.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(r){var s=this;return new Promise(function(l,u){try{l(s.decode(r))}catch(d){u(d)}})},e.prototype.decode=function(r){var s=new $e.MultiFormatReader(this.verbose,this.hints),l=new $e.HTMLCanvasElementLuminanceSource(r),u=new $e.BinaryBitmap(new $e.HybridBinarizer(l)),d=s.decode(u);return{text:d.text,format:Wh.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,l,u){r.set(s,l)}),r},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createZXingFormats=function(r){for(var s=[],l=0,u=r;l<u.length;l++){var d=u[l];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return s},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Np=function(e,r,s,l){function u(d){return d instanceof s?d:new s(function(p){p(d)})}return new(s||(s=Promise))(function(d,p){function m(E){try{g(l.next(E))}catch(N){p(N)}}function w(E){try{g(l.throw(E))}catch(N){p(N)}}function g(E){E.done?d(E.value):u(E.value).then(m,w)}g((l=l.apply(e,r||[])).next())})},Dp=function(e,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(g){return function(E){return w([g,E])}}function w(g){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(s=0)),s;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){s.label=g[1];break}if(g[0]===6&&s.label<d[1]){s.label=d[1],d=g;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(g);break}d[2]&&s.ops.pop(),s.trys.pop();continue}g=r.call(e,s)}catch(E){g=[6,E],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Fu=function(){function e(r,s,l){if(this.formatMap=new Map([[me.QR_CODE,"qr_code"],[me.AZTEC,"aztec"],[me.CODABAR,"codabar"],[me.CODE_39,"code_39"],[me.CODE_93,"code_93"],[me.CODE_128,"code_128"],[me.DATA_MATRIX,"data_matrix"],[me.ITF,"itf"],[me.EAN_13,"ean_13"],[me.EAN_8,"ean_8"],[me.PDF_417,"pdf417"],[me.UPC_A,"upc_a"],[me.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=l;var u=this.createBarcodeDetectorFormats(r);if(this.detector=new BarcodeDetector(u),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var r=new BarcodeDetector({formats:["qr_code"]});return typeof r<"u"},e.prototype.decodeAsync=function(r){return Np(this,void 0,void 0,function(){var s,l;return Dp(this,function(u){switch(u.label){case 0:return[4,this.detector.detect(r)];case 1:if(s=u.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(s),[2,{text:l.rawValue,format:Wh.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(r){for(var s=null,l=0,u=0,d=r;u<d.length;u++){var p=d[u],m=p.boundingBox.width*p.boundingBox.height;m>l&&(l=m,s=p)}if(!s)throw"No largest barcode found";return s},e.prototype.createBarcodeDetectorFormats=function(r){for(var s=[],l=0,u=r;l<u.length;l++){var d=u[l];this.formatMap.has(d)?s.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},e.prototype.toHtml5QrcodeSupportedFormats=function(r){if(!this.reverseFormatMap.has(r))throw"reverseFormatMap doesn't have ".concat(r);return this.reverseFormatMap.get(r)},e.prototype.createReverseFormatMap=function(){var r=new Map;return this.formatMap.forEach(function(s,l,u){r.set(s,l)}),r},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ku=function(e,r,s,l){function u(d){return d instanceof s?d:new s(function(p){p(d)})}return new(s||(s=Promise))(function(d,p){function m(E){try{g(l.next(E))}catch(N){p(N)}}function w(E){try{g(l.throw(E))}catch(N){p(N)}}function g(E){E.done?d(E.value):u(E.value).then(m,w)}g((l=l.apply(e,r||[])).next())})},Mu=function(e,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(g){return function(E){return w([g,E])}}function w(g){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(s=0)),s;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){s.label=g[1];break}if(g[0]===6&&s.label<d[1]){s.label=d[1],d=g;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(g);break}d[2]&&s.ops.pop(),s.trys.pop();continue}g=r.call(e,s)}catch(E){g=[6,E],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Bp=function(){function e(r,s,l,u){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,s&&Fu.isSupported()?(this.primaryDecoder=new Fu(r,l,u),this.secondaryDecoder=new Ou(r,l,u)):this.primaryDecoder=new Ou(r,l,u)}return e.prototype.decodeAsync=function(r){return ku(this,void 0,void 0,function(){var s;return Mu(this,function(l){switch(l.label){case 0:s=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(r)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(r){return ku(this,void 0,void 0,function(){var s,l;return Mu(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(r)];case 2:return[2,u.sent()];case 3:if(l=u.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(r)];throw l;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(r){if(this.verbose){var s=performance.now()-r;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var r=0,s=0,l=this.executionResults;s<l.length;s++){var u=l[s];r+=u}var d=r/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),n1=function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function l(){this.constructor=r}r.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),po=function(e,r,s,l){function u(d){return d instanceof s?d:new s(function(p){p(d)})}return new(s||(s=Promise))(function(d,p){function m(E){try{g(l.next(E))}catch(N){p(N)}}function w(E){try{g(l.throw(E))}catch(N){p(N)}}function g(E){E.done?d(E.value):u(E.value).then(m,w)}g((l=l.apply(e,r||[])).next())})},mo=function(e,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(g){return function(E){return w([g,E])}}function w(g){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(s=0)),s;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){s.label=g[1];break}if(g[0]===6&&s.label<d[1]){s.label=d[1],d=g;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(g);break}d[2]&&s.ops.pop(),s.trys.pop();continue}g=r.call(e,s)}catch(E){g=[6,E],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Yh=function(){function e(r,s){this.name=r,this.track=s}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(r){var s={};s[this.name]=r;var l={advanced:[s]};return this.track.applyConstraints(l)},e.prototype.value=function(){var r=this.track.getSettings();if(this.name in r){var s=r[this.name];return s}return null},e}(),bp=function(e){n1(r,e);function r(s,l){return e.call(this,s,l)||this}return r.prototype.min=function(){return this.getCapabilities().min},r.prototype.max=function(){return this.getCapabilities().max},r.prototype.step=function(){return this.getCapabilities().step},r.prototype.apply=function(s){var l={};l[this.name]=s;var u={advanced:[l]};return this.track.applyConstraints(u)},r.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),l=s[this.name];return{min:l.min,max:l.max,step:l.step}},r.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},r}(Yh),Tp=function(e){n1(r,e);function r(s){return e.call(this,"zoom",s)||this}return r}(bp),Rp=function(e){n1(r,e);function r(s){return e.call(this,"torch",s)||this}return r}(Yh),Op=function(){function e(r){this.track=r}return e.prototype.zoomFeature=function(){return new Tp(this.track)},e.prototype.torchFeature=function(){return new Rp(this.track)},e}(),Fp=function(){function e(r,s,l){this.isClosed=!1,this.parentElement=r,this.mediaStream=s,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),r.append(this.surface)}return e.prototype.createVideoElement=function(r){var s=document.createElement("video");return s.style.width="".concat(r,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},e.prototype.setupSurface=function(){var r=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var l=r.surface.clientWidth,u=r.surface.clientHeight;r.callbacks.onRenderSurfaceReady(l,u),r.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(r,s,l,u){return po(this,void 0,void 0,function(){var d,p;return mo(this,function(m){switch(m.label){case 0:return d=new e(r,s,u),l.aspectRatio?(p={aspectRatio:l.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:m.sent(),m.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(r){this.failIfClosed();var s=this,l=function(){setTimeout(r,200),s.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(r){return po(this,void 0,void 0,function(){return mo(this,function(s){if("aspectRatio"in r)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(r)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var r=this;return new Promise(function(s,l){var u=r.mediaStream.getVideoTracks(),d=u.length,p=0;r.mediaStream.getVideoTracks().forEach(function(m){r.mediaStream.removeTrack(m),m.stop(),++p,p>=d&&(r.isClosed=!0,r.parentElement.removeChild(r.surface),s())})})},e.prototype.getCapabilities=function(){return new Op(this.getFirstTrackOrFail())},e}(),kp=function(){function e(r){this.mediaStream=r}return e.prototype.render=function(r,s,l){return po(this,void 0,void 0,function(){return mo(this,function(u){return[2,Fp.create(r,this.mediaStream,s,l)]})})},e.create=function(r){return po(this,void 0,void 0,function(){var s,l;return mo(this,function(u){switch(u.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:r},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return l=u.sent(),[2,new e(l)]}})})},e}(),Pu=function(e,r,s,l){function u(d){return d instanceof s?d:new s(function(p){p(d)})}return new(s||(s=Promise))(function(d,p){function m(E){try{g(l.next(E))}catch(N){p(N)}}function w(E){try{g(l.throw(E))}catch(N){p(N)}}function g(E){E.done?d(E.value):u(E.value).then(m,w)}g((l=l.apply(e,r||[])).next())})},Lu=function(e,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(g){return function(E){return w([g,E])}}function w(g){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(s=0)),s;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){s.label=g[1];break}if(g[0]===6&&s.label<d[1]){s.label=d[1],d=g;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(g);break}d[2]&&s.ops.pop(),s.trys.pop();continue}g=r.call(e,s)}catch(E){g=[6,E],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Mp=function(){function e(){}return e.failIfNotSupported=function(){return Pu(this,void 0,void 0,function(){return Lu(this,function(r){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(r){return Pu(this,void 0,void 0,function(){return Lu(this,function(s){return[2,kp.create(r)]})})},e}(),Pp=function(e,r,s,l){function u(d){return d instanceof s?d:new s(function(p){p(d)})}return new(s||(s=Promise))(function(d,p){function m(E){try{g(l.next(E))}catch(N){p(N)}}function w(E){try{g(l.throw(E))}catch(N){p(N)}}function g(E){E.done?d(E.value):u(E.value).then(m,w)}g((l=l.apply(e,r||[])).next())})},Lp=function(e,r){var s={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},l,u,d,p;return p={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function m(g){return function(E){return w([g,E])}}function w(g){if(l)throw new TypeError("Generator is already executing.");for(;p&&(p=0,g[0]&&(s=0)),s;)try{if(l=1,u&&(d=g[0]&2?u.return:g[0]?u.throw||((d=u.return)&&d.call(u),0):u.next)&&!(d=d.call(u,g[1])).done)return d;switch(u=0,d&&(g=[g[0]&2,d.value]),g[0]){case 0:case 1:d=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,u=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(d=s.trys,!(d=d.length>0&&d[d.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!d||g[1]>d[0]&&g[1]<d[3])){s.label=g[1];break}if(g[0]===6&&s.label<d[1]){s.label=d[1],d=g;break}if(d&&s.label<d[2]){s.label=d[2],s.ops.push(g);break}d[2]&&s.ops.pop(),s.trys.pop();continue}g=r.call(e,s)}catch(E){g=[6,E],u=0}finally{l=d=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},jp=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var r=MediaStreamTrack;return MediaStreamTrack&&r.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var r=Pi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(r=Pi.insecureContextCameraQueryError()),Promise.reject(r)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var r=location.host.split(":")[0];return r==="127.0.0.1"||r==="localhost"},e.getCamerasFromMediaDevices=function(){return Pp(this,void 0,void 0,function(){var r,s,l,u,d,p,m;return Lp(this,function(w){switch(w.label){case 0:return r=function(g){for(var E=g.getVideoTracks(),N=0,S=E;N<S.length;N++){var B=S[N];B.enabled=!1,B.stop(),g.removeTrack(B)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=w.sent(),u=[],d=0,p=l;d<p.length;d++)m=p[d],m.kind==="videoinput"&&u.push({id:m.deviceId,label:m.label});return r(s),[2,u]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(r,s){var l=function(d){for(var p=[],m=0,w=d;m<w.length;m++){var g=w[m];g.kind==="video"&&p.push({id:g.id,label:g.label})}r(p)},u=MediaStreamTrack;u.getSources(l)})},e}(),xt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(xt||(xt={}));var Up=function(){function e(){this.state=xt.NOT_STARTED,this.onGoingTransactionNewState=xt.UNKNOWN}return e.prototype.directTransition=function(r){this.failIfTransitionOngoing(),this.validateTransition(r),this.state=r},e.prototype.startTransition=function(r){return this.failIfTransitionOngoing(),this.validateTransition(r),this.onGoingTransactionNewState=r,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===xt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var r=this.onGoingTransactionNewState;this.onGoingTransactionNewState=xt.UNKNOWN,this.directTransition(r)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===xt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=xt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==xt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(r){switch(this.state){case xt.UNKNOWN:throw"Transition from unknown is not allowed";case xt.NOT_STARTED:this.failIfNewStateIs(r,[xt.PAUSED]);break;case xt.SCANNING:break;case xt.PAUSED:break}},e.prototype.failIfNewStateIs=function(r,s){for(var l=0,u=s;l<u.length;l++){var d=u[l];if(r===d)throw"Cannot transition from ".concat(this.state," to ").concat(r)}},e}(),zp=function(){function e(r){this.stateManager=r}return e.prototype.startTransition=function(r){return this.stateManager.startTransition(r)},e.prototype.directTransition=function(r){this.stateManager.directTransition(r)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===xt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==xt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===xt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===xt.PAUSED},e}(),Hp=function(){function e(){}return e.create=function(){return new zp(new Up)},e}(),Vp=function(){var e=function(r,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,u){l.__proto__=u}||function(l,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])},e(r,s)};return function(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(r,s);function l(){this.constructor=r}r.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),dr=function(e){Vp(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.DEFAULT_WIDTH=300,r.DEFAULT_WIDTH_OFFSET=2,r.FILE_SCAN_MIN_HEIGHT=300,r.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,r.MIN_QR_BOX_SIZE=50,r.SHADED_LEFT=1,r.SHADED_RIGHT=2,r.SHADED_TOP=3,r.SHADED_BOTTOM=4,r.SHADED_REGION_ELEMENT_ID="qr-shaded-region",r.VERBOSE=!1,r.BORDER_SHADER_DEFAULT_COLOR="#ffffff",r.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",r}(vp),Gp=function(){function e(r,s){this.logger=s,this.fps=dr.SCAN_DEFAULT_FPS,r?(r.fps&&(this.fps=r.fps),this.disableFlip=r.disableFlip===!0,this.qrbox=r.qrbox,this.aspectRatio=r.aspectRatio,this.videoConstraints=r.videoConstraints):this.disableFlip=dr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Xh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!on(this.qrbox)},e.create=function(r,s){return new e(r,s)},e}(),ju=function(){function e(r,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(r))throw"HTML Element with id=".concat(r," not found");this.elementId=r,this.verbose=!1;var l;typeof s=="boolean"?this.verbose=s===!0:s&&(l=s,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new Sp(this.verbose),this.qrcode=new Bp(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Hp.create()}return e.prototype.start=function(r,s,l,u){var d=this;if(!r)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;u?p=u:p=this.verbose?this.logger.log:function(){};var m=Gp.create(s,this.logger);this.clearElement();var w=!1;m.videoConstraints&&(m.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:dr.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var N=this,S=this.stateManagerProxy.startTransition(xt.SCANNING);return new Promise(function(B,R){var O=g?m.videoConstraints:N.createVideoConstraints(r);if(!O){S.cancel(),R("videoConstraints should be defined");return}var P={};(!g||m.aspectRatio)&&(P.aspectRatio=m.aspectRatio);var D={onRenderSurfaceReady:function(C,v){N.setupUi(C,v,m),N.isScanning=!0,N.foreverScan(m,l,p)}};Mp.failIfNotSupported().then(function(C){C.create(O).then(function(v){return v.render(d.element,P,D).then(function(T){N.renderedCamera=T,S.execute(),B(null)}).catch(function(T){S.cancel(),R(T)})}).catch(function(v){S.cancel(),R(Pi.errorGettingUserMedia(v))})}).catch(function(C){S.cancel(),R(Pi.cameraStreamingNotSupported())})})},e.prototype.pause=function(r){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(xt.PAUSED),this.showPausedState(),(on(r)||r!==!0)&&(r=!1),r&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var r=this,s=function(){r.stateManagerProxy.directTransition(xt.SCANNING),r.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var r=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(xt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(r.element){var d=document.getElementById(dr.SHADED_REGION_ELEMENT_ID);d&&r.element.removeChild(d)}},u=this;return this.renderedCamera.close().then(function(){return u.renderedCamera=null,u.element&&(u.element.removeChild(u.canvasElement),u.canvasElement=null),l(),u.qrRegion&&(u.qrRegion=null),u.context&&(u.context=null),s.execute(),u.hidePausedState(),u.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(r,s){return this.scanFileV2(r,s).then(function(l){return l.decodedText})},e.prototype.scanFileV2=function(r,s){var l=this;if(!r||!(r instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(on(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(u,d){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(r);var p=new Image;p.onload=function(){var m=p.width,w=p.height,g=document.getElementById(l.elementId),E=g.clientWidth?g.clientWidth:dr.DEFAULT_WIDTH,N=Math.max(g.clientHeight?g.clientHeight:w,dr.FILE_SCAN_MIN_HEIGHT),S=l.computeCanvasDrawConfig(m,w,E,N);if(s){var B=l.createCanvasElement(E,N,"qr-canvas-visible");B.style.display="inline-block",g.appendChild(B);var R=B.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=E,R.canvas.height=N,R.drawImage(p,0,0,m,w,S.x,S.y,S.width,S.height)}var O=dr.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(p.width,S.width),D=Math.max(p.height,S.height),C=P+2*O,v=D+2*O,T=l.createCanvasElement(C,v);g.appendChild(T);var j=T.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=C,j.canvas.height=v,j.drawImage(p,0,0,m,w,O,O,P,D);try{l.qrcode.decodeRobustlyAsync(T).then(function(L){u(Ru.createFromQrcodeResult(L))}).catch(d)}catch(L){d("QR code parse error, error = ".concat(L))}},p.onerror=d,p.onabort=d,p.onstalled=d,p.onsuspend=d,p.src=URL.createObjectURL(r)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return jp.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(r){if(r){if(!Xh.isMediaStreamConstraintsValid(r,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(r)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(r){var s=[me.QR_CODE,me.AZTEC,me.CODABAR,me.CODE_39,me.CODE_93,me.CODE_128,me.DATA_MATRIX,me.MAXICODE,me.ITF,me.EAN_13,me.EAN_8,me.PDF_417,me.RSS_14,me.RSS_EXPANDED,me.UPC_A,me.UPC_E,me.UPC_EAN_EXTENSION];if(!r||typeof r=="boolean"||!r.formatsToSupport)return s;if(!Array.isArray(r.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(r.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],u=0,d=r.formatsToSupport;u<d.length;u++){var p=d[u];Ep(p)?l.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},e.prototype.getUseBarCodeDetectorIfSupported=function(r){if(on(r))return!0;if(!on(r.useBarCodeDetectorIfSupported))return r.useBarCodeDetectorIfSupported!==!1;if(on(r.experimentalFeatures))return!0;var s=r.experimentalFeatures;return on(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(r,s,l){var u=this,d=l.qrbox;this.validateQrboxConfig(d);var p=this.toQrdimensions(r,s,d),m=function(g){if(g<dr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(dr.MIN_QR_BOX_SIZE,"px.")},w=function(g){return g>r&&(u.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=r),g};m(p.width),m(p.height),p.width=w(p.width)},e.prototype.validateQrboxConfig=function(r){if(typeof r!="number"&&typeof r!="function"&&(r.width===void 0||r.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(r,s,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(r,s)}catch(u){throw new Error("qrbox config was passed as a function but it failed with unknown error"+u)}return l},e.prototype.setupUi=function(r,s,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(r,s,l);var u=on(l.qrbox)?{width:r,height:s}:l.qrbox;this.validateQrboxConfig(u);var d=this.toQrdimensions(r,s,u);d.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=l.isShadedBoxEnabled()&&d.height<=s,m={x:0,y:0,width:r,height:s},w=p?this.getShadedRegionBounds(r,s,d):m,g=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},N=g.getContext("2d",E);N.canvas.width=w.width,N.canvas.height=w.height,this.element.append(g),p&&this.possiblyInsertShadingElement(this.element,r,s,d),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=N,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(r){var s=document.createElement("div");s.innerText=Pi.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",r.appendChild(s),this.scannerPausedUiElement=s},e.prototype.scanContext=function(r,s){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(u){return r(u.text,Ru.createFromQrcodeResult(u)),l.possiblyUpdateShaders(!0),!0}).catch(function(u){l.possiblyUpdateShaders(!1);var d=Pi.codeParseError(u);return s(d,Ap.createFrom(d)),!1})},e.prototype.foreverScan=function(r,s,l){var u=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),p=d.videoWidth/d.clientWidth,m=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,g=this.qrRegion.height*m,E=this.qrRegion.x*p,N=this.qrRegion.y*m;this.context.drawImage(d,E,N,w,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){u.foreverScanTimeout=setTimeout(function(){u.foreverScan(r,s,l)},u.getTimeoutFps(r.fps))};this.scanContext(s,l).then(function(B){!B&&r.disableFlip!==!0?(u.context.translate(u.context.canvas.width,0),u.context.scale(-1,1),u.scanContext(s,l).finally(function(){S()})):S()}).catch(function(B){u.logger.logError("Error happend while scanning context",B),S()})}},e.prototype.createVideoConstraints=function(r){if(typeof r=="string")return{deviceId:{exact:r}};if(typeof r=="object"){var s="facingMode",l="deviceId",u={user:!0,environment:!0},d="exact",p=function(R){if(R in u)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},m=Object.keys(r);if(m.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(m.length," keys");var w=Object.keys(r)[0];if(w!==s&&w!==l)throw"Only '".concat(s,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(w===s){var g=r.facingMode;if(typeof g=="string"){if(p(g))return{facingMode:g}}else if(typeof g=="object")if(d in g){if(p(g["".concat(d)]))return{facingMode:{exact:g["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var E=typeof g;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var N=r.deviceId;if(typeof N=="string")return{deviceId:N};if(typeof N=="object"){if(d in N)return{deviceId:{exact:N["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var S=typeof N;throw"Invalid type of 'deviceId' = ".concat(S)}}}var B=typeof r;throw"Invalid type of 'cameraIdOrConfig' = ".concat(B)},e.prototype.computeCanvasDrawConfig=function(r,s,l,u){if(r<=l&&s<=u){var d=(l-r)/2,p=(u-s)/2;return{x:d,y:p,width:r,height:s}}else{var m=r,w=s;return r>l&&(s=l/r*s,r=l),s>u&&(r=u/s*r,s=u),this.logger.log("Image downsampled from "+"".concat(m,"X").concat(w)+" to ".concat(r,"X").concat(s,".")),this.computeCanvasDrawConfig(r,s,l,u)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var r=document.getElementById(this.elementId);r&&(r.innerHTML="")},e.prototype.possiblyUpdateShaders=function(r){this.qrMatch!==r&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=r?dr.BORDER_SHADER_MATCH_COLOR:dr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=r)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(r,s,l){var u=r,d=s,p=document.createElement("canvas");return p.style.width="".concat(u,"px"),p.style.height="".concat(d,"px"),p.style.display="none",p.id=on(l)?"qr-canvas":l,p},e.prototype.getShadedRegionBounds=function(r,s,l){if(l.width>r||l.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(r-l.width)/2,y:(s-l.height)/2,width:l.width,height:l.height}},e.prototype.possiblyInsertShadingElement=function(r,s,l,u){if(!(s-u.width<1||l-u.height<1)){var d=document.createElement("div");d.style.position="absolute";var p=(s-u.width)/2,m=(l-u.height)/2;if(d.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(dr.SHADED_REGION_ELEMENT_ID),s-u.width<11||l-u.height<11)this.hasBorderShaders=!1;else{var w=5,g=40;this.insertShaderBorders(d,g,w,-w,null,0,!0),this.insertShaderBorders(d,g,w,-w,null,0,!1),this.insertShaderBorders(d,g,w,null,-w,0,!0),this.insertShaderBorders(d,g,w,null,-w,0,!1),this.insertShaderBorders(d,w,g+w,-w,null,-w,!0),this.insertShaderBorders(d,w,g+w,null,-w,-w,!0),this.insertShaderBorders(d,w,g+w,-w,null,-w,!1),this.insertShaderBorders(d,w,g+w,null,-w,-w,!1),this.hasBorderShaders=!0}r.append(d)}},e.prototype.insertShaderBorders=function(r,s,l,u,d,p,m){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=dr.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(s,"px"),w.style.height="".concat(l,"px"),u!==null&&(w.style.top="".concat(u,"px")),d!==null&&(w.style.bottom="".concat(d,"px")),m?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),r.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(r){return 1e3/r},e}(),Uu;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Uu||(Uu={}));const i1=({onScan:e,onClose:r})=>{const s=Ce.useRef(null),[l,u]=Ce.useState(!0),[d,p]=Ce.useState(null);return Ce.useEffect(()=>{(async()=>{try{s.current||(s.current=new ju("reader"));const w=await ju.getCameras();if(w&&w.length>0){const g=w.find(E=>E.label.toLowerCase().includes("back")||E.label.toLowerCase().includes("rear")||E.label.toLowerCase().includes("environment"));p((g||w[0]).id)}}catch(w){console.error("Erro ao configurar a câmera:",w)}})()},[]),Ce.useEffect(()=>{var w;l?(async()=>{!d||!s.current||await s.current.start(d,{fps:15,qrbox:{width:300,height:200},aspectRatio:1,disableFlip:!0},async g=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZRA0PVqzn77BdGAg+ltryxnMpBSl+zPLaizsIGGS57OihUBELTKXh8bllHgU2jdXzzn0vBSF1xe/glEILElyx6OyrWBUIQ5zd8sFuJAUuhM/z1YU2Bhxqvu7mnEYODlOq5O+zYBoGPJPY88p2KwUme8rx3I4+CRZiturqpVITC0mi4PK8aB8GM4nU8tGAMQYfcsLu45ZFDBFYr+ftrVoXCECY3PLEcSYELIHO8diJOQcZaLvt559NEAxPqOPwtmMcBjiP1/PMeS0GI3fH8N2RQAoUXrTp66hVFApGnt/yvmwhBTCG0fPTgjQGHW/A7eSaRQ0PVqzl77BeGQc9ltvyxnUoBSh+zPDaizsIGGS56+mjTxELTKXh8bllHgU1jdT0z3wvBSJ0xe/glEILElyx6OyrWRUIRJve8sFuJAUug8/z1YU2BRxqvu3mnEYODlOq5O+zYRsGPJPY88p3KgUme8rx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccPu45ZFDBFYr+ftrVwWCECY3PLEcSYGK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQAoUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzQHHG/A7eSaSw0PVqzl77BeGQc9ltv0xnUoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEYODlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccLu45ZGCxFYr+ftrVwXB0CY3PLEcSYGK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzQHHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccLu45ZGCxFYr+ftrVwXB0CY3PLEcSgFK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzUGHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFMojU8tGAMQYfccLu45ZGCxFYr+ftrV0XB0CY3PLEcSgFK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzUGHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFMojU8tGAMQYfccLu45ZGCxFYr+ftrV0XB0CY3PLEcSgFKw==").play(),e(g),u(!1),setTimeout(()=>u(!0),1)},g=>{console.log("Erro de leitura:",g)})})():(w=s.current)!=null&&w.isScanning&&s.current.stop().catch(console.error)},[l,d,e]),l?A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:A.jsxs("div",{className:"relative bg-white p-4 rounded-lg shadow-lg max-w-lg w-full mx-4",children:[A.jsx("button",{onClick:()=>{var m;(m=s.current)!=null&&m.isScanning&&s.current.stop().catch(console.error),r()},className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 z-10",children:A.jsx(t0,{size:24})}),A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Escaneie o Código de Barras"}),A.jsx("div",{id:"reader",className:"w-full"}),A.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Posicione o código de barras dentro da área demarcada"})]})}):null},Wp=({onSubmit:e,onReset:r})=>{const[s,l]=Ce.useState(""),[u,d]=Ce.useState(1),[p,m]=Ce.useState(!1),[w,g]=Ce.useState(!1),[E,N]=Ce.useState(!1),S=Ce.useRef(null);Ce.useEffect(()=>{S.current&&S.current.focus()},[s]);const B=j=>{j.preventDefault(),s.trim()&&(e(s.trim(),u),l(""),d(1),N(!0),setTimeout(()=>N(!1),300),S.current&&S.current.focus())},R=j=>{e(j,u),d(1),N(!0),setTimeout(()=>N(!1),300)},O=j=>{l(j.target.value)},P=j=>{j.key==="Enter"&&s.trim()&&(j.preventDefault(),B(j))},D=()=>{m(!p),!p&&S.current&&S.current.focus()},C=()=>{d(j=>j+1)},v=()=>{d(j=>Math.max(1,j-1))},T=()=>{window.confirm("Tem certeza que deseja apagar todas as leituras? Esta ação não pode ser desfeita.")&&(r(),l(""),d(1),S.current&&S.current.focus())};return A.jsxs(A.Fragment,{children:[A.jsxs("form",{onSubmit:B,className:"space-y-3",children:[A.jsx("div",{children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{ref:S,type:"text",value:s,onChange:O,onKeyDown:P,className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors duration-300 ${E?"bg-green-100":"bg-white"}`,placeholder:"Digite ou escaneie o código",inputMode:p?"text":"none",autoComplete:"off"}),A.jsxs("div",{className:"absolute right-0 top-0 h-full flex items-center gap-1 pr-1",children:[A.jsx("button",{type:"button",onClick:()=>g(!0),className:"p-1 text-gray-400 hover:text-red-600",children:A.jsx(Jc,{size:18})}),A.jsx("button",{type:"button",onClick:D,className:`p-1 ${p?"text-red-600":"text-gray-400 hover:text-red-600"}`,children:A.jsx($c,{size:18})})]})]})}),A.jsx("div",{children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{type:"button",onClick:v,className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:A.jsx(Vh,{size:18})}),A.jsx("input",{type:"number",min:"1",value:u,onChange:j=>d(Math.max(1,parseInt(j.target.value)||1)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 text-center"}),A.jsx("button",{type:"button",onClick:C,className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:A.jsx(t1,{size:18})})]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"submit",className:"flex-1 px-3 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm",children:"Adicionar"}),A.jsx("button",{type:"button",onClick:T,className:"flex-1 px-3 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm",children:"Zerar Leituras"})]})]}),w&&A.jsx(i1,{onScan:R,onClose:()=>g(!1)})]})},qi=e=>e.trim().replace(/^0+/,""),Kh=e=>{try{const r=JSON.parse(localStorage.getItem("importedProducts")||"[]");if(!r.length)return null;const s=qi(e);return r.find(u=>qi(u.code)===s)||null}catch(r){return console.error("Error finding product:",r),null}},Qh=e=>{const r=Kh(e);return r?r.name:"-"},Xp=({onSubmit:e,onReset:r})=>{const[s,l]=Ce.useState(""),[u,d]=Ce.useState(1),[p,m]=Ce.useState(!1),[w,g]=Ce.useState(!1),[E,N]=Ce.useState(!1),[S,B]=Ce.useState([]),[R,O]=Ce.useState(new Set),[P,D]=Ce.useState(0),C=Ce.useRef(null);Ce.useEffect(()=>{try{const U=JSON.parse(localStorage.getItem("importedProducts")||"[]");B(U),D(U.length);const G=JSON.parse(localStorage.getItem("scannedCodes")||"[]");O(new Set(G))}catch(U){console.error("Error loading data:",U),B([]),O(new Set),D(0)}},[]),Ce.useEffect(()=>{try{localStorage.setItem("scannedCodes",JSON.stringify(Array.from(R)))}catch(U){console.error("Error saving scanned codes:",U)}},[R]),Ce.useEffect(()=>{C.current&&C.current.focus()},[s]);const v=U=>{if(U.preventDefault(),!s.trim())return;Kh(s.trim())?(e(s.trim(),u),O(H=>new Set(H).add(qi(s.trim())))):window.confirm("Código não encontrado na lista de referência. Deseja adicionar mesmo assim?")&&(e(s.trim(),u),O(H=>new Set(H).add(qi(s.trim())))),l(""),d(1),N(!0),setTimeout(()=>N(!1),300),C.current&&C.current.focus()},T=U=>{l(U),d(1),C.current&&C.current.focus()},j=()=>{window.confirm("Tem certeza que deseja apagar todas as leituras? Esta ação não pode ser desfeita.")&&(r(),l(""),d(1),O(new Set),localStorage.removeItem("scannedCodes"),C.current&&C.current.focus())},L=()=>{window.confirm("Tem certeza que deseja remover todos os produtos importados?")&&(localStorage.removeItem("importedProducts"),localStorage.removeItem("scannedCodes"),B([]),O(new Set),D(0))},F=P-R.size;return A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"flex items-center justify-between bg-white px-3 py-2 rounded-lg shadow-sm border border-gray-200",children:[A.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[A.jsx(Gh,{size:14,className:"text-red-600"}),A.jsxs("span",{children:["Produtos: ",A.jsx("b",{children:P})," | Restantes: ",A.jsx("b",{className:"text-red-600",children:F})]})]}),A.jsx("button",{onClick:L,className:"p-1 text-gray-400 hover:text-red-600",title:"Remover produtos importados",children:A.jsx(rs,{size:14})})]}),A.jsxs("form",{onSubmit:v,className:"space-y-3",children:[A.jsx("div",{children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{ref:C,type:"text",value:s,onChange:U=>l(U.target.value),className:`w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors duration-300 ${E?"bg-green-100":"bg-white"}`,placeholder:"Digite ou escaneie o código",inputMode:p?"text":"none",autoComplete:"off"}),A.jsxs("div",{className:"absolute right-0 top-0 h-full flex items-center gap-1 pr-1",children:[A.jsx("button",{type:"button",onClick:()=>g(!0),className:"p-1 text-gray-400 hover:text-red-600",children:A.jsx(Jc,{size:18})}),A.jsx("button",{type:"button",onClick:()=>m(!p),className:`p-1 ${p?"text-red-600":"text-gray-400 hover:text-red-600"}`,children:A.jsx($c,{size:18})})]})]})}),A.jsx("div",{children:A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx("button",{type:"button",onClick:()=>d(U=>Math.max(1,U-1)),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:A.jsx(Vh,{size:18})}),A.jsx("input",{type:"number",min:"1",value:u,onChange:U=>d(Math.max(1,parseInt(U.target.value)||1)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 text-center"}),A.jsx("button",{type:"button",onClick:()=>d(U=>U+1),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:A.jsx(t1,{size:18})})]})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{type:"submit",className:"flex-1 px-3 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm",children:"Adicionar"}),A.jsx("button",{type:"button",onClick:j,className:"flex-1 px-3 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 text-sm",children:"Zerar Leituras"})]})]}),w&&A.jsx(i1,{onScan:T,onClose:()=>g(!1)})]})},zu=({entries:e,onDelete:r,onUpdateQuantity:s,showAll:l=!1,showProduct:u=!1})=>{const[d,p]=Ce.useState(null),[m,w]=Ce.useState(0),g=B=>{p(B.id),w(B.quantity)},E=B=>{m>0&&s(B,m),p(null)},N=()=>{p(null)},S=l?e:e.slice(-5).reverse();return A.jsxs("div",{className:"mt-6",children:[A.jsx("h2",{className:"text-lg font-semibold mb-4",children:l?"Todos os Códigos":"Últimas Leituras"}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),u&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(B=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.code}),u&&A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Qh(B.code)}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:d===B.id?A.jsx("input",{type:"number",min:"1",value:m,onChange:R=>w(Math.max(1,parseInt(R.target.value)||1)),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"}):B.quantity}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsx("div",{className:"flex space-x-2",children:d===B.id?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>E(B.id),className:"text-green-600 hover:text-green-900",title:"Salvar",children:A.jsx(r1,{size:18})}),A.jsx("button",{onClick:N,className:"text-gray-600 hover:text-gray-900",title:"Cancelar",children:A.jsx(t0,{size:18})})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>g(B),className:"text-blue-600 hover:text-blue-900",title:"Editar quantidade",children:A.jsx(e1,{size:18})}),A.jsx("button",{onClick:()=>r(B.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:A.jsx(rs,{size:18})})]})})})]},B.id))})]})})]})},Yp=({licenses:e,onDeleteLicense:r})=>{const s=p=>new Date(p)<new Date,l=(p,m)=>{const w=Math.ceil((m.getTime()-p.getTime())/864e5),g=Math.ceil((m.getTime()-new Date().getTime())/(1e3*60*60*24));return{duration:w,remaining:Math.max(0,g)}},u=(p,m)=>{window.confirm(`Tem certeza que deseja excluir a licença de ${m}? O cliente perderá acesso imediatamente.`)&&r(p)},d=p=>{navigator.clipboard.writeText(p).then(()=>{alert("Chave copiada para a área de transferência!")}).catch(m=>{console.error("Erro ao copiar:",m)})};return A.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[A.jsxs("div",{className:"px-4 py-5 sm:px-6",children:[A.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Licenças"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Lista de todas as licenças geradas"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsx("div",{className:"inline-block min-w-full align-middle",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Cliente"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chave"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Duração"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Tempo Restante"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Status"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(p=>{const{duration:m,remaining:w}=l(new Date(p.createdAt),new Date(p.expirationDate));return A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.clientName}),A.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:A.jsxs("div",{className:"flex items-center group",children:[A.jsx("div",{className:"font-mono text-xs break-all max-w-md",children:p.key}),A.jsx("button",{onClick:()=>d(p.key),className:"ml-2 text-gray-400 hover:text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity",title:"Copiar chave",children:A.jsx(fp,{size:14})})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(zh,{className:"mr-2",size:16}),m," dias"]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsxs("div",{className:"flex items-center",children:[A.jsx(up,{className:"mr-2",size:16}),w>0?A.jsxs("span",{className:`${w<=7?"text-red-600":w<=30?"text-yellow-600":"text-green-600"}`,children:[w," dias"]}):A.jsx("span",{className:"text-red-600",children:"Expirada"})]})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:A.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s(p.expirationDate)?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:s(p.expirationDate)?"Expirada":"Ativa"})}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:A.jsx("button",{onClick:()=>u(p.id,p.clientName),className:"text-red-600 hover:text-red-900",title:"Excluir licença",children:A.jsx(rs,{size:18})})})]},p.id)})})]})})})]})};let Ts;const Kp=new Uint8Array(16);function Qp(){if(!Ts&&(Ts=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ts))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ts(Kp)}const jt=[];for(let e=0;e<256;++e)jt.push((e+256).toString(16).slice(1));function Zp(e,r=0){return jt[e[r+0]]+jt[e[r+1]]+jt[e[r+2]]+jt[e[r+3]]+"-"+jt[e[r+4]]+jt[e[r+5]]+"-"+jt[e[r+6]]+jt[e[r+7]]+"-"+jt[e[r+8]]+jt[e[r+9]]+"-"+jt[e[r+10]]+jt[e[r+11]]+jt[e[r+12]]+jt[e[r+13]]+jt[e[r+14]]+jt[e[r+15]]}const qp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hu={randomUUID:qp};function Zh(e,r,s){if(Hu.randomUUID&&!r&&!e)return Hu.randomUUID();e=e||{};const l=e.random||(e.rng||Qp)();return l[6]=l[6]&15|64,l[8]=l[8]&63|128,Zp(l)}var qh={exports:{}};function Jp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Da={exports:{}};const $p={},e3=Object.freeze(Object.defineProperty({__proto__:null,default:$p},Symbol.toStringTag,{value:"Module"})),t3=Rx(e3);var Vu;function ke(){return Vu||(Vu=1,function(e,r){(function(s,l){e.exports=l()})(_e,function(){var s=s||function(l,u){var d;if(typeof window<"u"&&window.crypto&&(d=window.crypto),typeof self<"u"&&self.crypto&&(d=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(d=globalThis.crypto),!d&&typeof window<"u"&&window.msCrypto&&(d=window.msCrypto),!d&&typeof _e<"u"&&_e.crypto&&(d=_e.crypto),!d&&typeof Jp=="function")try{d=t3}catch{}var p=function(){if(d){if(typeof d.getRandomValues=="function")try{return d.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof d.randomBytes=="function")try{return d.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},m=Object.create||function(){function C(){}return function(v){var T;return C.prototype=v,T=new C,C.prototype=null,T}}(),w={},g=w.lib={},E=g.Base=function(){return{extend:function(C){var v=m(this);return C&&v.mixIn(C),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var v in C)C.hasOwnProperty(v)&&(this[v]=C[v]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),N=g.WordArray=E.extend({init:function(C,v){C=this.words=C||[],v!=u?this.sigBytes=v:this.sigBytes=C.length*4},toString:function(C){return(C||B).stringify(this)},concat:function(C){var v=this.words,T=C.words,j=this.sigBytes,L=C.sigBytes;if(this.clamp(),j%4)for(var F=0;F<L;F++){var U=T[F>>>2]>>>24-F%4*8&255;v[j+F>>>2]|=U<<24-(j+F)%4*8}else for(var G=0;G<L;G+=4)v[j+G>>>2]=T[G>>>2];return this.sigBytes+=L,this},clamp:function(){var C=this.words,v=this.sigBytes;C[v>>>2]&=4294967295<<32-v%4*8,C.length=l.ceil(v/4)},clone:function(){var C=E.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var v=[],T=0;T<C;T+=4)v.push(p());return new N.init(v,C)}}),S=w.enc={},B=S.Hex={stringify:function(C){for(var v=C.words,T=C.sigBytes,j=[],L=0;L<T;L++){var F=v[L>>>2]>>>24-L%4*8&255;j.push((F>>>4).toString(16)),j.push((F&15).toString(16))}return j.join("")},parse:function(C){for(var v=C.length,T=[],j=0;j<v;j+=2)T[j>>>3]|=parseInt(C.substr(j,2),16)<<24-j%8*4;return new N.init(T,v/2)}},R=S.Latin1={stringify:function(C){for(var v=C.words,T=C.sigBytes,j=[],L=0;L<T;L++){var F=v[L>>>2]>>>24-L%4*8&255;j.push(String.fromCharCode(F))}return j.join("")},parse:function(C){for(var v=C.length,T=[],j=0;j<v;j++)T[j>>>2]|=(C.charCodeAt(j)&255)<<24-j%4*8;return new N.init(T,v)}},O=S.Utf8={stringify:function(C){try{return decodeURIComponent(escape(R.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return R.parse(unescape(encodeURIComponent(C)))}},P=g.BufferedBlockAlgorithm=E.extend({reset:function(){this._data=new N.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=O.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var v,T=this._data,j=T.words,L=T.sigBytes,F=this.blockSize,U=F*4,G=L/U;C?G=l.ceil(G):G=l.max((G|0)-this._minBufferSize,0);var H=G*F,X=l.min(H*4,L);if(H){for(var Q=0;Q<H;Q+=F)this._doProcessBlock(j,Q);v=j.splice(0,H),T.sigBytes-=X}return new N.init(v,X)},clone:function(){var C=E.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});g.Hasher=P.extend({cfg:E.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){P.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(C){return function(v,T){return new C.init(T).finalize(v)}},_createHmacHelper:function(C){return function(v,T){return new D.HMAC.init(C,T).finalize(v)}}});var D=w.algo={};return w}(Math);return s})}(Da)),Da.exports}var Ba={exports:{}},Gu;function Lo(){return Gu||(Gu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(l){var u=s,d=u.lib,p=d.Base,m=d.WordArray,w=u.x64={};w.Word=p.extend({init:function(g,E){this.high=g,this.low=E}}),w.WordArray=p.extend({init:function(g,E){g=this.words=g||[],E!=l?this.sigBytes=E:this.sigBytes=g.length*8},toX32:function(){for(var g=this.words,E=g.length,N=[],S=0;S<E;S++){var B=g[S];N.push(B.high),N.push(B.low)}return m.create(N,this.sigBytes)},clone:function(){for(var g=p.clone.call(this),E=g.words=this.words.slice(0),N=E.length,S=0;S<N;S++)E[S]=E[S].clone();return g}})}(),s})}(Ba)),Ba.exports}var ba={exports:{}},Wu;function r3(){return Wu||(Wu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(){if(typeof ArrayBuffer=="function"){var l=s,u=l.lib,d=u.WordArray,p=d.init,m=d.init=function(w){if(w instanceof ArrayBuffer&&(w=new Uint8Array(w)),(w instanceof Int8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)&&(w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength)),w instanceof Uint8Array){for(var g=w.byteLength,E=[],N=0;N<g;N++)E[N>>>2]|=w[N]<<24-N%4*8;p.call(this,E,g)}else p.apply(this,arguments)};m.prototype=d}}(),s.lib.WordArray})}(ba)),ba.exports}var Ta={exports:{}},Xu;function n3(){return Xu||(Xu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=l.enc;p.Utf16=p.Utf16BE={stringify:function(w){for(var g=w.words,E=w.sigBytes,N=[],S=0;S<E;S+=2){var B=g[S>>>2]>>>16-S%4*8&65535;N.push(String.fromCharCode(B))}return N.join("")},parse:function(w){for(var g=w.length,E=[],N=0;N<g;N++)E[N>>>1]|=w.charCodeAt(N)<<16-N%2*16;return d.create(E,g*2)}},p.Utf16LE={stringify:function(w){for(var g=w.words,E=w.sigBytes,N=[],S=0;S<E;S+=2){var B=m(g[S>>>2]>>>16-S%4*8&65535);N.push(String.fromCharCode(B))}return N.join("")},parse:function(w){for(var g=w.length,E=[],N=0;N<g;N++)E[N>>>1]|=m(w.charCodeAt(N)<<16-N%2*16);return d.create(E,g*2)}};function m(w){return w<<8&4278255360|w>>>8&16711935}}(),s.enc.Utf16})}(Ta)),Ta.exports}var Ra={exports:{}},Yu;function di(){return Yu||(Yu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=l.enc;p.Base64={stringify:function(w){var g=w.words,E=w.sigBytes,N=this._map;w.clamp();for(var S=[],B=0;B<E;B+=3)for(var R=g[B>>>2]>>>24-B%4*8&255,O=g[B+1>>>2]>>>24-(B+1)%4*8&255,P=g[B+2>>>2]>>>24-(B+2)%4*8&255,D=R<<16|O<<8|P,C=0;C<4&&B+C*.75<E;C++)S.push(N.charAt(D>>>6*(3-C)&63));var v=N.charAt(64);if(v)for(;S.length%4;)S.push(v);return S.join("")},parse:function(w){var g=w.length,E=this._map,N=this._reverseMap;if(!N){N=this._reverseMap=[];for(var S=0;S<E.length;S++)N[E.charCodeAt(S)]=S}var B=E.charAt(64);if(B){var R=w.indexOf(B);R!==-1&&(g=R)}return m(w,g,N)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function m(w,g,E){for(var N=[],S=0,B=0;B<g;B++)if(B%4){var R=E[w.charCodeAt(B-1)]<<B%4*2,O=E[w.charCodeAt(B)]>>>6-B%4*2,P=R|O;N[S>>>2]|=P<<24-S%4*8,S++}return d.create(N,S)}}(),s.enc.Base64})}(Ra)),Ra.exports}var Oa={exports:{}},Ku;function i3(){return Ku||(Ku=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=l.enc;p.Base64url={stringify:function(w,g){g===void 0&&(g=!0);var E=w.words,N=w.sigBytes,S=g?this._safe_map:this._map;w.clamp();for(var B=[],R=0;R<N;R+=3)for(var O=E[R>>>2]>>>24-R%4*8&255,P=E[R+1>>>2]>>>24-(R+1)%4*8&255,D=E[R+2>>>2]>>>24-(R+2)%4*8&255,C=O<<16|P<<8|D,v=0;v<4&&R+v*.75<N;v++)B.push(S.charAt(C>>>6*(3-v)&63));var T=S.charAt(64);if(T)for(;B.length%4;)B.push(T);return B.join("")},parse:function(w,g){g===void 0&&(g=!0);var E=w.length,N=g?this._safe_map:this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var B=0;B<N.length;B++)S[N.charCodeAt(B)]=B}var R=N.charAt(64);if(R){var O=w.indexOf(R);O!==-1&&(E=O)}return m(w,E,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function m(w,g,E){for(var N=[],S=0,B=0;B<g;B++)if(B%4){var R=E[w.charCodeAt(B-1)]<<B%4*2,O=E[w.charCodeAt(B)]>>>6-B%4*2,P=R|O;N[S>>>2]|=P<<24-S%4*8,S++}return d.create(N,S)}}(),s.enc.Base64url})}(Oa)),Oa.exports}var Fa={exports:{}},Qu;function hi(){return Qu||(Qu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(l){var u=s,d=u.lib,p=d.WordArray,m=d.Hasher,w=u.algo,g=[];(function(){for(var O=0;O<64;O++)g[O]=l.abs(l.sin(O+1))*4294967296|0})();var E=w.MD5=m.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(O,P){for(var D=0;D<16;D++){var C=P+D,v=O[C];O[C]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var T=this._hash.words,j=O[P+0],L=O[P+1],F=O[P+2],U=O[P+3],G=O[P+4],H=O[P+5],X=O[P+6],Q=O[P+7],J=O[P+8],fe=O[P+9],W=O[P+10],ye=O[P+11],ge=O[P+12],ie=O[P+13],de=O[P+14],he=O[P+15],$=T[0],ee=T[1],ne=T[2],te=T[3];$=N($,ee,ne,te,j,7,g[0]),te=N(te,$,ee,ne,L,12,g[1]),ne=N(ne,te,$,ee,F,17,g[2]),ee=N(ee,ne,te,$,U,22,g[3]),$=N($,ee,ne,te,G,7,g[4]),te=N(te,$,ee,ne,H,12,g[5]),ne=N(ne,te,$,ee,X,17,g[6]),ee=N(ee,ne,te,$,Q,22,g[7]),$=N($,ee,ne,te,J,7,g[8]),te=N(te,$,ee,ne,fe,12,g[9]),ne=N(ne,te,$,ee,W,17,g[10]),ee=N(ee,ne,te,$,ye,22,g[11]),$=N($,ee,ne,te,ge,7,g[12]),te=N(te,$,ee,ne,ie,12,g[13]),ne=N(ne,te,$,ee,de,17,g[14]),ee=N(ee,ne,te,$,he,22,g[15]),$=S($,ee,ne,te,L,5,g[16]),te=S(te,$,ee,ne,X,9,g[17]),ne=S(ne,te,$,ee,ye,14,g[18]),ee=S(ee,ne,te,$,j,20,g[19]),$=S($,ee,ne,te,H,5,g[20]),te=S(te,$,ee,ne,W,9,g[21]),ne=S(ne,te,$,ee,he,14,g[22]),ee=S(ee,ne,te,$,G,20,g[23]),$=S($,ee,ne,te,fe,5,g[24]),te=S(te,$,ee,ne,de,9,g[25]),ne=S(ne,te,$,ee,U,14,g[26]),ee=S(ee,ne,te,$,J,20,g[27]),$=S($,ee,ne,te,ie,5,g[28]),te=S(te,$,ee,ne,F,9,g[29]),ne=S(ne,te,$,ee,Q,14,g[30]),ee=S(ee,ne,te,$,ge,20,g[31]),$=B($,ee,ne,te,H,4,g[32]),te=B(te,$,ee,ne,J,11,g[33]),ne=B(ne,te,$,ee,ye,16,g[34]),ee=B(ee,ne,te,$,de,23,g[35]),$=B($,ee,ne,te,L,4,g[36]),te=B(te,$,ee,ne,G,11,g[37]),ne=B(ne,te,$,ee,Q,16,g[38]),ee=B(ee,ne,te,$,W,23,g[39]),$=B($,ee,ne,te,ie,4,g[40]),te=B(te,$,ee,ne,j,11,g[41]),ne=B(ne,te,$,ee,U,16,g[42]),ee=B(ee,ne,te,$,X,23,g[43]),$=B($,ee,ne,te,fe,4,g[44]),te=B(te,$,ee,ne,ge,11,g[45]),ne=B(ne,te,$,ee,he,16,g[46]),ee=B(ee,ne,te,$,F,23,g[47]),$=R($,ee,ne,te,j,6,g[48]),te=R(te,$,ee,ne,Q,10,g[49]),ne=R(ne,te,$,ee,de,15,g[50]),ee=R(ee,ne,te,$,H,21,g[51]),$=R($,ee,ne,te,ge,6,g[52]),te=R(te,$,ee,ne,U,10,g[53]),ne=R(ne,te,$,ee,W,15,g[54]),ee=R(ee,ne,te,$,L,21,g[55]),$=R($,ee,ne,te,J,6,g[56]),te=R(te,$,ee,ne,he,10,g[57]),ne=R(ne,te,$,ee,X,15,g[58]),ee=R(ee,ne,te,$,ie,21,g[59]),$=R($,ee,ne,te,G,6,g[60]),te=R(te,$,ee,ne,ye,10,g[61]),ne=R(ne,te,$,ee,F,15,g[62]),ee=R(ee,ne,te,$,fe,21,g[63]),T[0]=T[0]+$|0,T[1]=T[1]+ee|0,T[2]=T[2]+ne|0,T[3]=T[3]+te|0},_doFinalize:function(){var O=this._data,P=O.words,D=this._nDataBytes*8,C=O.sigBytes*8;P[C>>>5]|=128<<24-C%32;var v=l.floor(D/4294967296),T=D;P[(C+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,P[(C+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,O.sigBytes=(P.length+1)*4,this._process();for(var j=this._hash,L=j.words,F=0;F<4;F++){var U=L[F];L[F]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return j},clone:function(){var O=m.clone.call(this);return O._hash=this._hash.clone(),O}});function N(O,P,D,C,v,T,j){var L=O+(P&D|~P&C)+v+j;return(L<<T|L>>>32-T)+P}function S(O,P,D,C,v,T,j){var L=O+(P&C|D&~C)+v+j;return(L<<T|L>>>32-T)+P}function B(O,P,D,C,v,T,j){var L=O+(P^D^C)+v+j;return(L<<T|L>>>32-T)+P}function R(O,P,D,C,v,T,j){var L=O+(D^(P|~C))+v+j;return(L<<T|L>>>32-T)+P}u.MD5=m._createHelper(E),u.HmacMD5=m._createHmacHelper(E)}(Math),s.MD5})}(Fa)),Fa.exports}var ka={exports:{}},Zu;function Jh(){return Zu||(Zu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=u.Hasher,m=l.algo,w=[],g=m.SHA1=p.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,N){for(var S=this._hash.words,B=S[0],R=S[1],O=S[2],P=S[3],D=S[4],C=0;C<80;C++){if(C<16)w[C]=E[N+C]|0;else{var v=w[C-3]^w[C-8]^w[C-14]^w[C-16];w[C]=v<<1|v>>>31}var T=(B<<5|B>>>27)+D+w[C];C<20?T+=(R&O|~R&P)+1518500249:C<40?T+=(R^O^P)+1859775393:C<60?T+=(R&O|R&P|O&P)-1894007588:T+=(R^O^P)-899497514,D=P,P=O,O=R<<30|R>>>2,R=B,B=T}S[0]=S[0]+B|0,S[1]=S[1]+R|0,S[2]=S[2]+O|0,S[3]=S[3]+P|0,S[4]=S[4]+D|0},_doFinalize:function(){var E=this._data,N=E.words,S=this._nDataBytes*8,B=E.sigBytes*8;return N[B>>>5]|=128<<24-B%32,N[(B+64>>>9<<4)+14]=Math.floor(S/4294967296),N[(B+64>>>9<<4)+15]=S,E.sigBytes=N.length*4,this._process(),this._hash},clone:function(){var E=p.clone.call(this);return E._hash=this._hash.clone(),E}});l.SHA1=p._createHelper(g),l.HmacSHA1=p._createHmacHelper(g)}(),s.SHA1})}(ka)),ka.exports}var Ma={exports:{}},qu;function s1(){return qu||(qu=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){return function(l){var u=s,d=u.lib,p=d.WordArray,m=d.Hasher,w=u.algo,g=[],E=[];(function(){function B(D){for(var C=l.sqrt(D),v=2;v<=C;v++)if(!(D%v))return!1;return!0}function R(D){return(D-(D|0))*4294967296|0}for(var O=2,P=0;P<64;)B(O)&&(P<8&&(g[P]=R(l.pow(O,1/2))),E[P]=R(l.pow(O,1/3)),P++),O++})();var N=[],S=w.SHA256=m.extend({_doReset:function(){this._hash=new p.init(g.slice(0))},_doProcessBlock:function(B,R){for(var O=this._hash.words,P=O[0],D=O[1],C=O[2],v=O[3],T=O[4],j=O[5],L=O[6],F=O[7],U=0;U<64;U++){if(U<16)N[U]=B[R+U]|0;else{var G=N[U-15],H=(G<<25|G>>>7)^(G<<14|G>>>18)^G>>>3,X=N[U-2],Q=(X<<15|X>>>17)^(X<<13|X>>>19)^X>>>10;N[U]=H+N[U-7]+Q+N[U-16]}var J=T&j^~T&L,fe=P&D^P&C^D&C,W=(P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22),ye=(T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25),ge=F+ye+J+E[U]+N[U],ie=W+fe;F=L,L=j,j=T,T=v+ge|0,v=C,C=D,D=P,P=ge+ie|0}O[0]=O[0]+P|0,O[1]=O[1]+D|0,O[2]=O[2]+C|0,O[3]=O[3]+v|0,O[4]=O[4]+T|0,O[5]=O[5]+j|0,O[6]=O[6]+L|0,O[7]=O[7]+F|0},_doFinalize:function(){var B=this._data,R=B.words,O=this._nDataBytes*8,P=B.sigBytes*8;return R[P>>>5]|=128<<24-P%32,R[(P+64>>>9<<4)+14]=l.floor(O/4294967296),R[(P+64>>>9<<4)+15]=O,B.sigBytes=R.length*4,this._process(),this._hash},clone:function(){var B=m.clone.call(this);return B._hash=this._hash.clone(),B}});u.SHA256=m._createHelper(S),u.HmacSHA256=m._createHmacHelper(S)}(Math),s.SHA256})}(Ma)),Ma.exports}var Pa={exports:{}},Ju;function s3(){return Ju||(Ju=1,function(e,r){(function(s,l,u){e.exports=l(ke(),s1())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=l.algo,m=p.SHA256,w=p.SHA224=m.extend({_doReset:function(){this._hash=new d.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var g=m._doFinalize.call(this);return g.sigBytes-=4,g}});l.SHA224=m._createHelper(w),l.HmacSHA224=m._createHmacHelper(w)}(),s.SHA224})}(Pa)),Pa.exports}var La={exports:{}},$u;function $h(){return $u||($u=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Lo())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.Hasher,p=l.x64,m=p.Word,w=p.WordArray,g=l.algo;function E(){return m.create.apply(m,arguments)}var N=[E(1116352408,3609767458),E(1899447441,602891725),E(3049323471,3964484399),E(3921009573,2173295548),E(961987163,4081628472),E(1508970993,3053834265),E(2453635748,2937671579),E(2870763221,3664609560),E(3624381080,2734883394),E(310598401,1164996542),E(607225278,1323610764),E(1426881987,3590304994),E(1925078388,4068182383),E(2162078206,991336113),E(2614888103,633803317),E(3248222580,3479774868),E(3835390401,2666613458),E(4022224774,944711139),E(264347078,2341262773),E(604807628,2007800933),E(770255983,1495990901),E(1249150122,1856431235),E(1555081692,3175218132),E(1996064986,2198950837),E(2554220882,3999719339),E(2821834349,766784016),E(2952996808,2566594879),E(3210313671,3203337956),E(3336571891,1034457026),E(3584528711,2466948901),E(113926993,3758326383),E(338241895,168717936),E(666307205,1188179964),E(773529912,1546045734),E(1294757372,1522805485),E(1396182291,2643833823),E(1695183700,2343527390),E(1986661051,1014477480),E(2177026350,1206759142),E(2456956037,344077627),E(2730485921,1290863460),E(2820302411,3158454273),E(3259730800,3505952657),E(3345764771,106217008),E(3516065817,3606008344),E(3600352804,1432725776),E(4094571909,1467031594),E(275423344,851169720),E(430227734,3100823752),E(506948616,1363258195),E(659060556,3750685593),E(883997877,3785050280),E(958139571,3318307427),E(1322822218,3812723403),E(1537002063,2003034995),E(1747873779,3602036899),E(1955562222,1575990012),E(2024104815,1125592928),E(2227730452,2716904306),E(2361852424,442776044),E(2428436474,593698344),E(2756734187,3733110249),E(3204031479,2999351573),E(3329325298,3815920427),E(3391569614,3928383900),E(3515267271,566280711),E(3940187606,3454069534),E(4118630271,4000239992),E(116418474,1914138554),E(174292421,2731055270),E(289380356,3203993006),E(460393269,320620315),E(685471733,587496836),E(852142971,1086792851),E(1017036298,365543100),E(1126000580,2618297676),E(1288033470,3409855158),E(1501505948,4234509866),E(1607167915,987167468),E(1816402316,1246189591)],S=[];(function(){for(var R=0;R<80;R++)S[R]=E()})();var B=g.SHA512=d.extend({_doReset:function(){this._hash=new w.init([new m.init(1779033703,4089235720),new m.init(3144134277,2227873595),new m.init(1013904242,4271175723),new m.init(2773480762,1595750129),new m.init(1359893119,2917565137),new m.init(2600822924,725511199),new m.init(528734635,4215389547),new m.init(1541459225,327033209)])},_doProcessBlock:function(R,O){for(var P=this._hash.words,D=P[0],C=P[1],v=P[2],T=P[3],j=P[4],L=P[5],F=P[6],U=P[7],G=D.high,H=D.low,X=C.high,Q=C.low,J=v.high,fe=v.low,W=T.high,ye=T.low,ge=j.high,ie=j.low,de=L.high,he=L.low,$=F.high,ee=F.low,ne=U.high,te=U.low,je=G,ce=H,it=X,Ee=Q,Rr=J,yr=fe,It=W,Gr=ye,Ne=ge,yt=ie,Kt=de,Or=he,ct=$,Ue=ee,Te=ne,Wr=te,xe=0;xe<80;xe++){var Ft,Fr,er=S[xe];if(xe<16)Fr=er.high=R[O+xe*2]|0,Ft=er.low=R[O+xe*2+1]|0;else{var xi=S[xe-15],_t=xi.high,mn=xi.low,Xr=(_t>>>1|mn<<31)^(_t>>>8|mn<<24)^_t>>>7,Nt=(mn>>>1|_t<<31)^(mn>>>8|_t<<24)^(mn>>>7|_t<<25),r0=S[xe-2],kr=r0.high,Yn=r0.low,ut=(kr>>>19|Yn<<13)^(kr<<3|Yn>>>29)^kr>>>6,ue=(Yn>>>19|kr<<13)^(Yn<<3|kr>>>29)^(Yn>>>6|kr<<26),ft=S[xe-7],Ve=ft.high,tt=ft.low,wn=S[xe-16],n0=wn.high,i0=wn.low;Ft=Nt+tt,Fr=Xr+Ve+(Ft>>>0<Nt>>>0?1:0),Ft=Ft+ue,Fr=Fr+ut+(Ft>>>0<ue>>>0?1:0),Ft=Ft+i0,Fr=Fr+n0+(Ft>>>0<i0>>>0?1:0),er.high=Fr,er.low=Ft}var Me=Ne&Kt^~Ne&ct,Yr=yt&Or^~yt&Ue,ns=je&it^je&Rr^it&Rr,is=ce&Ee^ce&yr^Ee&yr,ur=(je>>>28|ce<<4)^(je<<30|ce>>>2)^(je<<25|ce>>>7),gi=(ce>>>28|je<<4)^(ce<<30|je>>>2)^(ce<<25|je>>>7),Dt=(Ne>>>14|yt<<18)^(Ne>>>18|yt<<14)^(Ne<<23|yt>>>9),yn=(yt>>>14|Ne<<18)^(yt>>>18|Ne<<14)^(yt<<23|Ne>>>9),Kn=N[xe],Cr=Kn.high,ss=Kn.low,pt=Wr+yn,Er=Te+Dt+(pt>>>0<Wr>>>0?1:0),pt=pt+Yr,Er=Er+Me+(pt>>>0<Yr>>>0?1:0),pt=pt+ss,Er=Er+Cr+(pt>>>0<ss>>>0?1:0),pt=pt+Ft,Er=Er+Fr+(pt>>>0<Ft>>>0?1:0),kt=gi+is,sn=ur+ns+(kt>>>0<gi>>>0?1:0);Te=ct,Wr=Ue,ct=Kt,Ue=Or,Kt=Ne,Or=yt,yt=Gr+pt|0,Ne=It+Er+(yt>>>0<Gr>>>0?1:0)|0,It=Rr,Gr=yr,Rr=it,yr=Ee,it=je,Ee=ce,ce=pt+kt|0,je=Er+sn+(ce>>>0<pt>>>0?1:0)|0}H=D.low=H+ce,D.high=G+je+(H>>>0<ce>>>0?1:0),Q=C.low=Q+Ee,C.high=X+it+(Q>>>0<Ee>>>0?1:0),fe=v.low=fe+yr,v.high=J+Rr+(fe>>>0<yr>>>0?1:0),ye=T.low=ye+Gr,T.high=W+It+(ye>>>0<Gr>>>0?1:0),ie=j.low=ie+yt,j.high=ge+Ne+(ie>>>0<yt>>>0?1:0),he=L.low=he+Or,L.high=de+Kt+(he>>>0<Or>>>0?1:0),ee=F.low=ee+Ue,F.high=$+ct+(ee>>>0<Ue>>>0?1:0),te=U.low=te+Wr,U.high=ne+Te+(te>>>0<Wr>>>0?1:0)},_doFinalize:function(){var R=this._data,O=R.words,P=this._nDataBytes*8,D=R.sigBytes*8;O[D>>>5]|=128<<24-D%32,O[(D+128>>>10<<5)+30]=Math.floor(P/4294967296),O[(D+128>>>10<<5)+31]=P,R.sigBytes=O.length*4,this._process();var C=this._hash.toX32();return C},clone:function(){var R=d.clone.call(this);return R._hash=this._hash.clone(),R},blockSize:1024/32});l.SHA512=d._createHelper(B),l.HmacSHA512=d._createHmacHelper(B)}(),s.SHA512})}(La)),La.exports}var ja={exports:{}},ef;function o3(){return ef||(ef=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Lo(),$h())})(_e,function(s){return function(){var l=s,u=l.x64,d=u.Word,p=u.WordArray,m=l.algo,w=m.SHA512,g=m.SHA384=w.extend({_doReset:function(){this._hash=new p.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},_doFinalize:function(){var E=w._doFinalize.call(this);return E.sigBytes-=16,E}});l.SHA384=w._createHelper(g),l.HmacSHA384=w._createHmacHelper(g)}(),s.SHA384})}(ja)),ja.exports}var Ua={exports:{}},tf;function a3(){return tf||(tf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Lo())})(_e,function(s){return function(l){var u=s,d=u.lib,p=d.WordArray,m=d.Hasher,w=u.x64,g=w.Word,E=u.algo,N=[],S=[],B=[];(function(){for(var P=1,D=0,C=0;C<24;C++){N[P+5*D]=(C+1)*(C+2)/2%64;var v=D%5,T=(2*P+3*D)%5;P=v,D=T}for(var P=0;P<5;P++)for(var D=0;D<5;D++)S[P+5*D]=D+(2*P+3*D)%5*5;for(var j=1,L=0;L<24;L++){for(var F=0,U=0,G=0;G<7;G++){if(j&1){var H=(1<<G)-1;H<32?U^=1<<H:F^=1<<H-32}j&128?j=j<<1^113:j<<=1}B[L]=g.create(F,U)}})();var R=[];(function(){for(var P=0;P<25;P++)R[P]=g.create()})();var O=E.SHA3=m.extend({cfg:m.cfg.extend({outputLength:512}),_doReset:function(){for(var P=this._state=[],D=0;D<25;D++)P[D]=new g.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(P,D){for(var C=this._state,v=this.blockSize/2,T=0;T<v;T++){var j=P[D+2*T],L=P[D+2*T+1];j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360;var F=C[T];F.high^=L,F.low^=j}for(var U=0;U<24;U++){for(var G=0;G<5;G++){for(var H=0,X=0,Q=0;Q<5;Q++){var F=C[G+5*Q];H^=F.high,X^=F.low}var J=R[G];J.high=H,J.low=X}for(var G=0;G<5;G++)for(var fe=R[(G+4)%5],W=R[(G+1)%5],ye=W.high,ge=W.low,H=fe.high^(ye<<1|ge>>>31),X=fe.low^(ge<<1|ye>>>31),Q=0;Q<5;Q++){var F=C[G+5*Q];F.high^=H,F.low^=X}for(var ie=1;ie<25;ie++){var H,X,F=C[ie],de=F.high,he=F.low,$=N[ie];$<32?(H=de<<$|he>>>32-$,X=he<<$|de>>>32-$):(H=he<<$-32|de>>>64-$,X=de<<$-32|he>>>64-$);var ee=R[S[ie]];ee.high=H,ee.low=X}var ne=R[0],te=C[0];ne.high=te.high,ne.low=te.low;for(var G=0;G<5;G++)for(var Q=0;Q<5;Q++){var ie=G+5*Q,F=C[ie],je=R[ie],ce=R[(G+1)%5+5*Q],it=R[(G+2)%5+5*Q];F.high=je.high^~ce.high&it.high,F.low=je.low^~ce.low&it.low}var F=C[0],Ee=B[U];F.high^=Ee.high,F.low^=Ee.low}},_doFinalize:function(){var P=this._data,D=P.words;this._nDataBytes*8;var C=P.sigBytes*8,v=this.blockSize*32;D[C>>>5]|=1<<24-C%32,D[(l.ceil((C+1)/v)*v>>>5)-1]|=128,P.sigBytes=D.length*4,this._process();for(var T=this._state,j=this.cfg.outputLength/8,L=j/8,F=[],U=0;U<L;U++){var G=T[U],H=G.high,X=G.low;H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,X=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360,F.push(X),F.push(H)}return new p.init(F,j)},clone:function(){for(var P=m.clone.call(this),D=P._state=this._state.slice(0),C=0;C<25;C++)D[C]=D[C].clone();return P}});u.SHA3=m._createHelper(O),u.HmacSHA3=m._createHmacHelper(O)}(Math),s.SHA3})}(Ua)),Ua.exports}var za={exports:{}},rf;function l3(){return rf||(rf=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(l){var u=s,d=u.lib,p=d.WordArray,m=d.Hasher,w=u.algo,g=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),E=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),N=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),S=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),B=p.create([0,1518500249,1859775393,2400959708,2840853838]),R=p.create([1352829926,1548603684,1836072691,2053994217,0]),O=w.RIPEMD160=m.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(L,F){for(var U=0;U<16;U++){var G=F+U,H=L[G];L[G]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}var X=this._hash.words,Q=B.words,J=R.words,fe=g.words,W=E.words,ye=N.words,ge=S.words,ie,de,he,$,ee,ne,te,je,ce,it;ne=ie=X[0],te=de=X[1],je=he=X[2],ce=$=X[3],it=ee=X[4];for(var Ee,U=0;U<80;U+=1)Ee=ie+L[F+fe[U]]|0,U<16?Ee+=P(de,he,$)+Q[0]:U<32?Ee+=D(de,he,$)+Q[1]:U<48?Ee+=C(de,he,$)+Q[2]:U<64?Ee+=v(de,he,$)+Q[3]:Ee+=T(de,he,$)+Q[4],Ee=Ee|0,Ee=j(Ee,ye[U]),Ee=Ee+ee|0,ie=ee,ee=$,$=j(he,10),he=de,de=Ee,Ee=ne+L[F+W[U]]|0,U<16?Ee+=T(te,je,ce)+J[0]:U<32?Ee+=v(te,je,ce)+J[1]:U<48?Ee+=C(te,je,ce)+J[2]:U<64?Ee+=D(te,je,ce)+J[3]:Ee+=P(te,je,ce)+J[4],Ee=Ee|0,Ee=j(Ee,ge[U]),Ee=Ee+it|0,ne=it,it=ce,ce=j(je,10),je=te,te=Ee;Ee=X[1]+he+ce|0,X[1]=X[2]+$+it|0,X[2]=X[3]+ee+ne|0,X[3]=X[4]+ie+te|0,X[4]=X[0]+de+je|0,X[0]=Ee},_doFinalize:function(){var L=this._data,F=L.words,U=this._nDataBytes*8,G=L.sigBytes*8;F[G>>>5]|=128<<24-G%32,F[(G+64>>>9<<4)+14]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,L.sigBytes=(F.length+1)*4,this._process();for(var H=this._hash,X=H.words,Q=0;Q<5;Q++){var J=X[Q];X[Q]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360}return H},clone:function(){var L=m.clone.call(this);return L._hash=this._hash.clone(),L}});function P(L,F,U){return L^F^U}function D(L,F,U){return L&F|~L&U}function C(L,F,U){return(L|~F)^U}function v(L,F,U){return L&U|F&~U}function T(L,F,U){return L^(F|~U)}function j(L,F){return L<<F|L>>>32-F}u.RIPEMD160=m._createHelper(O),u.HmacRIPEMD160=m._createHmacHelper(O)}(),s.RIPEMD160})}(za)),za.exports}var Ha={exports:{}},nf;function o1(){return nf||(nf=1,function(e,r){(function(s,l){e.exports=l(ke())})(_e,function(s){(function(){var l=s,u=l.lib,d=u.Base,p=l.enc,m=p.Utf8,w=l.algo;w.HMAC=d.extend({init:function(g,E){g=this._hasher=new g.init,typeof E=="string"&&(E=m.parse(E));var N=g.blockSize,S=N*4;E.sigBytes>S&&(E=g.finalize(E)),E.clamp();for(var B=this._oKey=E.clone(),R=this._iKey=E.clone(),O=B.words,P=R.words,D=0;D<N;D++)O[D]^=1549556828,P[D]^=909522486;B.sigBytes=R.sigBytes=S,this.reset()},reset:function(){var g=this._hasher;g.reset(),g.update(this._iKey)},update:function(g){return this._hasher.update(g),this},finalize:function(g){var E=this._hasher,N=E.finalize(g);E.reset();var S=E.finalize(this._oKey.clone().concat(N));return S}})})()})}(Ha)),Ha.exports}var Va={exports:{}},sf;function c3(){return sf||(sf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),s1(),o1())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.Base,p=u.WordArray,m=l.algo,w=m.SHA256,g=m.HMAC,E=m.PBKDF2=d.extend({cfg:d.extend({keySize:128/32,hasher:w,iterations:25e4}),init:function(N){this.cfg=this.cfg.extend(N)},compute:function(N,S){for(var B=this.cfg,R=g.create(B.hasher,N),O=p.create(),P=p.create([1]),D=O.words,C=P.words,v=B.keySize,T=B.iterations;D.length<v;){var j=R.update(S).finalize(P);R.reset();for(var L=j.words,F=L.length,U=j,G=1;G<T;G++){U=R.finalize(U),R.reset();for(var H=U.words,X=0;X<F;X++)L[X]^=H[X]}O.concat(j),C[0]++}return O.sigBytes=v*4,O}});l.PBKDF2=function(N,S,B){return E.create(B).compute(N,S)}}(),s.PBKDF2})}(Va)),Va.exports}var Ga={exports:{}},of;function Xn(){return of||(of=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Jh(),o1())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.Base,p=u.WordArray,m=l.algo,w=m.MD5,g=m.EvpKDF=d.extend({cfg:d.extend({keySize:128/32,hasher:w,iterations:1}),init:function(E){this.cfg=this.cfg.extend(E)},compute:function(E,N){for(var S,B=this.cfg,R=B.hasher.create(),O=p.create(),P=O.words,D=B.keySize,C=B.iterations;P.length<D;){S&&R.update(S),S=R.update(E).finalize(N),R.reset();for(var v=1;v<C;v++)S=R.finalize(S),R.reset();O.concat(S)}return O.sigBytes=D*4,O}});l.EvpKDF=function(E,N,S){return g.create(S).compute(E,N)}}(),s.EvpKDF})}(Ga)),Ga.exports}var Wa={exports:{}},af;function Ot(){return af||(af=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Xn())})(_e,function(s){s.lib.Cipher||function(l){var u=s,d=u.lib,p=d.Base,m=d.WordArray,w=d.BufferedBlockAlgorithm,g=u.enc;g.Utf8;var E=g.Base64,N=u.algo,S=N.EvpKDF,B=d.Cipher=w.extend({cfg:p.extend(),createEncryptor:function(H,X){return this.create(this._ENC_XFORM_MODE,H,X)},createDecryptor:function(H,X){return this.create(this._DEC_XFORM_MODE,H,X)},init:function(H,X,Q){this.cfg=this.cfg.extend(Q),this._xformMode=H,this._key=X,this.reset()},reset:function(){w.reset.call(this),this._doReset()},process:function(H){return this._append(H),this._process()},finalize:function(H){H&&this._append(H);var X=this._doFinalize();return X},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function H(X){return typeof X=="string"?G:L}return function(X){return{encrypt:function(Q,J,fe){return H(J).encrypt(X,Q,J,fe)},decrypt:function(Q,J,fe){return H(J).decrypt(X,Q,J,fe)}}}}()});d.StreamCipher=B.extend({_doFinalize:function(){var H=this._process(!0);return H},blockSize:1});var R=u.mode={},O=d.BlockCipherMode=p.extend({createEncryptor:function(H,X){return this.Encryptor.create(H,X)},createDecryptor:function(H,X){return this.Decryptor.create(H,X)},init:function(H,X){this._cipher=H,this._iv=X}}),P=R.CBC=function(){var H=O.extend();H.Encryptor=H.extend({processBlock:function(Q,J){var fe=this._cipher,W=fe.blockSize;X.call(this,Q,J,W),fe.encryptBlock(Q,J),this._prevBlock=Q.slice(J,J+W)}}),H.Decryptor=H.extend({processBlock:function(Q,J){var fe=this._cipher,W=fe.blockSize,ye=Q.slice(J,J+W);fe.decryptBlock(Q,J),X.call(this,Q,J,W),this._prevBlock=ye}});function X(Q,J,fe){var W,ye=this._iv;ye?(W=ye,this._iv=l):W=this._prevBlock;for(var ge=0;ge<fe;ge++)Q[J+ge]^=W[ge]}return H}(),D=u.pad={},C=D.Pkcs7={pad:function(H,X){for(var Q=X*4,J=Q-H.sigBytes%Q,fe=J<<24|J<<16|J<<8|J,W=[],ye=0;ye<J;ye+=4)W.push(fe);var ge=m.create(W,J);H.concat(ge)},unpad:function(H){var X=H.words[H.sigBytes-1>>>2]&255;H.sigBytes-=X}};d.BlockCipher=B.extend({cfg:B.cfg.extend({mode:P,padding:C}),reset:function(){var H;B.reset.call(this);var X=this.cfg,Q=X.iv,J=X.mode;this._xformMode==this._ENC_XFORM_MODE?H=J.createEncryptor:(H=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==H?this._mode.init(this,Q&&Q.words):(this._mode=H.call(J,this,Q&&Q.words),this._mode.__creator=H)},_doProcessBlock:function(H,X){this._mode.processBlock(H,X)},_doFinalize:function(){var H,X=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(X.pad(this._data,this.blockSize),H=this._process(!0)):(H=this._process(!0),X.unpad(H)),H},blockSize:128/32});var v=d.CipherParams=p.extend({init:function(H){this.mixIn(H)},toString:function(H){return(H||this.formatter).stringify(this)}}),T=u.format={},j=T.OpenSSL={stringify:function(H){var X,Q=H.ciphertext,J=H.salt;return J?X=m.create([1398893684,1701076831]).concat(J).concat(Q):X=Q,X.toString(E)},parse:function(H){var X,Q=E.parse(H),J=Q.words;return J[0]==1398893684&&J[1]==1701076831&&(X=m.create(J.slice(2,4)),J.splice(0,4),Q.sigBytes-=16),v.create({ciphertext:Q,salt:X})}},L=d.SerializableCipher=p.extend({cfg:p.extend({format:j}),encrypt:function(H,X,Q,J){J=this.cfg.extend(J);var fe=H.createEncryptor(Q,J),W=fe.finalize(X),ye=fe.cfg;return v.create({ciphertext:W,key:Q,iv:ye.iv,algorithm:H,mode:ye.mode,padding:ye.padding,blockSize:H.blockSize,formatter:J.format})},decrypt:function(H,X,Q,J){J=this.cfg.extend(J),X=this._parse(X,J.format);var fe=H.createDecryptor(Q,J).finalize(X.ciphertext);return fe},_parse:function(H,X){return typeof H=="string"?X.parse(H,this):H}}),F=u.kdf={},U=F.OpenSSL={execute:function(H,X,Q,J,fe){if(J||(J=m.random(64/8)),fe)var W=S.create({keySize:X+Q,hasher:fe}).compute(H,J);else var W=S.create({keySize:X+Q}).compute(H,J);var ye=m.create(W.words.slice(X),Q*4);return W.sigBytes=X*4,v.create({key:W,iv:ye,salt:J})}},G=d.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:U}),encrypt:function(H,X,Q,J){J=this.cfg.extend(J);var fe=J.kdf.execute(Q,H.keySize,H.ivSize,J.salt,J.hasher);J.iv=fe.iv;var W=L.encrypt.call(this,H,X,fe.key,J);return W.mixIn(fe),W},decrypt:function(H,X,Q,J){J=this.cfg.extend(J),X=this._parse(X,J.format);var fe=J.kdf.execute(Q,H.keySize,H.ivSize,X.salt,J.hasher);J.iv=fe.iv;var W=L.decrypt.call(this,H,X,fe.key,J);return W}})}()})}(Wa)),Wa.exports}var Xa={exports:{}},lf;function u3(){return lf||(lf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.mode.CFB=function(){var l=s.lib.BlockCipherMode.extend();l.Encryptor=l.extend({processBlock:function(d,p){var m=this._cipher,w=m.blockSize;u.call(this,d,p,w,m),this._prevBlock=d.slice(p,p+w)}}),l.Decryptor=l.extend({processBlock:function(d,p){var m=this._cipher,w=m.blockSize,g=d.slice(p,p+w);u.call(this,d,p,w,m),this._prevBlock=g}});function u(d,p,m,w){var g,E=this._iv;E?(g=E.slice(0),this._iv=void 0):g=this._prevBlock,w.encryptBlock(g,0);for(var N=0;N<m;N++)d[p+N]^=g[N]}return l}(),s.mode.CFB})}(Xa)),Xa.exports}var Ya={exports:{}},cf;function f3(){return cf||(cf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.mode.CTR=function(){var l=s.lib.BlockCipherMode.extend(),u=l.Encryptor=l.extend({processBlock:function(d,p){var m=this._cipher,w=m.blockSize,g=this._iv,E=this._counter;g&&(E=this._counter=g.slice(0),this._iv=void 0);var N=E.slice(0);m.encryptBlock(N,0),E[w-1]=E[w-1]+1|0;for(var S=0;S<w;S++)d[p+S]^=N[S]}});return l.Decryptor=u,l}(),s.mode.CTR})}(Ya)),Ya.exports}var Ka={exports:{}},uf;function d3(){return uf||(uf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var l=s.lib.BlockCipherMode.extend();function u(m){if((m>>24&255)===255){var w=m>>16&255,g=m>>8&255,E=m&255;w===255?(w=0,g===255?(g=0,E===255?E=0:++E):++g):++w,m=0,m+=w<<16,m+=g<<8,m+=E}else m+=1<<24;return m}function d(m){return(m[0]=u(m[0]))===0&&(m[1]=u(m[1])),m}var p=l.Encryptor=l.extend({processBlock:function(m,w){var g=this._cipher,E=g.blockSize,N=this._iv,S=this._counter;N&&(S=this._counter=N.slice(0),this._iv=void 0),d(S);var B=S.slice(0);g.encryptBlock(B,0);for(var R=0;R<E;R++)m[w+R]^=B[R]}});return l.Decryptor=p,l}(),s.mode.CTRGladman})}(Ka)),Ka.exports}var Qa={exports:{}},ff;function h3(){return ff||(ff=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.mode.OFB=function(){var l=s.lib.BlockCipherMode.extend(),u=l.Encryptor=l.extend({processBlock:function(d,p){var m=this._cipher,w=m.blockSize,g=this._iv,E=this._keystream;g&&(E=this._keystream=g.slice(0),this._iv=void 0),m.encryptBlock(E,0);for(var N=0;N<w;N++)d[p+N]^=E[N]}});return l.Decryptor=u,l}(),s.mode.OFB})}(Qa)),Qa.exports}var Za={exports:{}},df;function x3(){return df||(df=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.mode.ECB=function(){var l=s.lib.BlockCipherMode.extend();return l.Encryptor=l.extend({processBlock:function(u,d){this._cipher.encryptBlock(u,d)}}),l.Decryptor=l.extend({processBlock:function(u,d){this._cipher.decryptBlock(u,d)}}),l}(),s.mode.ECB})}(Za)),Za.exports}var qa={exports:{}},hf;function g3(){return hf||(hf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.pad.AnsiX923={pad:function(l,u){var d=l.sigBytes,p=u*4,m=p-d%p,w=d+m-1;l.clamp(),l.words[w>>>2]|=m<<24-w%4*8,l.sigBytes+=m},unpad:function(l){var u=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=u}},s.pad.Ansix923})}(qa)),qa.exports}var Ja={exports:{}},xf;function p3(){return xf||(xf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.pad.Iso10126={pad:function(l,u){var d=u*4,p=d-l.sigBytes%d;l.concat(s.lib.WordArray.random(p-1)).concat(s.lib.WordArray.create([p<<24],1))},unpad:function(l){var u=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=u}},s.pad.Iso10126})}(Ja)),Ja.exports}var $a={exports:{}},gf;function m3(){return gf||(gf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.pad.Iso97971={pad:function(l,u){l.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(l,u)},unpad:function(l){s.pad.ZeroPadding.unpad(l),l.sigBytes--}},s.pad.Iso97971})}($a)),$a.exports}var el={exports:{}},pf;function w3(){return pf||(pf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.pad.ZeroPadding={pad:function(l,u){var d=u*4;l.clamp(),l.sigBytes+=d-(l.sigBytes%d||d)},unpad:function(l){for(var u=l.words,d=l.sigBytes-1,d=l.sigBytes-1;d>=0;d--)if(u[d>>>2]>>>24-d%4*8&255){l.sigBytes=d+1;break}}},s.pad.ZeroPadding})}(el)),el.exports}var tl={exports:{}},mf;function y3(){return mf||(mf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(tl)),tl.exports}var rl={exports:{}},wf;function C3(){return wf||(wf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),Ot())})(_e,function(s){return function(l){var u=s,d=u.lib,p=d.CipherParams,m=u.enc,w=m.Hex,g=u.format;g.Hex={stringify:function(E){return E.ciphertext.toString(w)},parse:function(E){var N=w.parse(E);return p.create({ciphertext:N})}}}(),s.format.Hex})}(rl)),rl.exports}var nl={exports:{}},yf;function E3(){return yf||(yf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.BlockCipher,p=l.algo,m=[],w=[],g=[],E=[],N=[],S=[],B=[],R=[],O=[],P=[];(function(){for(var v=[],T=0;T<256;T++)T<128?v[T]=T<<1:v[T]=T<<1^283;for(var j=0,L=0,T=0;T<256;T++){var F=L^L<<1^L<<2^L<<3^L<<4;F=F>>>8^F&255^99,m[j]=F,w[F]=j;var U=v[j],G=v[U],H=v[G],X=v[F]*257^F*16843008;g[j]=X<<24|X>>>8,E[j]=X<<16|X>>>16,N[j]=X<<8|X>>>24,S[j]=X;var X=H*16843009^G*65537^U*257^j*16843008;B[F]=X<<24|X>>>8,R[F]=X<<16|X>>>16,O[F]=X<<8|X>>>24,P[F]=X,j?(j=U^v[v[v[H^U]]],L^=v[v[L]]):j=L=1}})();var D=[0,1,2,4,8,16,32,64,128,27,54],C=p.AES=d.extend({_doReset:function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,j=T.words,L=T.sigBytes/4,F=this._nRounds=L+6,U=(F+1)*4,G=this._keySchedule=[],H=0;H<U;H++)H<L?G[H]=j[H]:(v=G[H-1],H%L?L>6&&H%L==4&&(v=m[v>>>24]<<24|m[v>>>16&255]<<16|m[v>>>8&255]<<8|m[v&255]):(v=v<<8|v>>>24,v=m[v>>>24]<<24|m[v>>>16&255]<<16|m[v>>>8&255]<<8|m[v&255],v^=D[H/L|0]<<24),G[H]=G[H-L]^v);for(var X=this._invKeySchedule=[],Q=0;Q<U;Q++){var H=U-Q;if(Q%4)var v=G[H];else var v=G[H-4];Q<4||H<=4?X[Q]=v:X[Q]=B[m[v>>>24]]^R[m[v>>>16&255]]^O[m[v>>>8&255]]^P[m[v&255]]}}},encryptBlock:function(v,T){this._doCryptBlock(v,T,this._keySchedule,g,E,N,S,m)},decryptBlock:function(v,T){var j=v[T+1];v[T+1]=v[T+3],v[T+3]=j,this._doCryptBlock(v,T,this._invKeySchedule,B,R,O,P,w);var j=v[T+1];v[T+1]=v[T+3],v[T+3]=j},_doCryptBlock:function(v,T,j,L,F,U,G,H){for(var X=this._nRounds,Q=v[T]^j[0],J=v[T+1]^j[1],fe=v[T+2]^j[2],W=v[T+3]^j[3],ye=4,ge=1;ge<X;ge++){var ie=L[Q>>>24]^F[J>>>16&255]^U[fe>>>8&255]^G[W&255]^j[ye++],de=L[J>>>24]^F[fe>>>16&255]^U[W>>>8&255]^G[Q&255]^j[ye++],he=L[fe>>>24]^F[W>>>16&255]^U[Q>>>8&255]^G[J&255]^j[ye++],$=L[W>>>24]^F[Q>>>16&255]^U[J>>>8&255]^G[fe&255]^j[ye++];Q=ie,J=de,fe=he,W=$}var ie=(H[Q>>>24]<<24|H[J>>>16&255]<<16|H[fe>>>8&255]<<8|H[W&255])^j[ye++],de=(H[J>>>24]<<24|H[fe>>>16&255]<<16|H[W>>>8&255]<<8|H[Q&255])^j[ye++],he=(H[fe>>>24]<<24|H[W>>>16&255]<<16|H[Q>>>8&255]<<8|H[J&255])^j[ye++],$=(H[W>>>24]<<24|H[Q>>>16&255]<<16|H[J>>>8&255]<<8|H[fe&255])^j[ye++];v[T]=ie,v[T+1]=de,v[T+2]=he,v[T+3]=$},keySize:256/32});l.AES=d._createHelper(C)}(),s.AES})}(nl)),nl.exports}var il={exports:{}},Cf;function v3(){return Cf||(Cf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.WordArray,p=u.BlockCipher,m=l.algo,w=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],g=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],E=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],N=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],S=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],B=m.DES=p.extend({_doReset:function(){for(var D=this._key,C=D.words,v=[],T=0;T<56;T++){var j=w[T]-1;v[T]=C[j>>>5]>>>31-j%32&1}for(var L=this._subKeys=[],F=0;F<16;F++){for(var U=L[F]=[],G=E[F],T=0;T<24;T++)U[T/6|0]|=v[(g[T]-1+G)%28]<<31-T%6,U[4+(T/6|0)]|=v[28+(g[T+24]-1+G)%28]<<31-T%6;U[0]=U[0]<<1|U[0]>>>31;for(var T=1;T<7;T++)U[T]=U[T]>>>(T-1)*4+3;U[7]=U[7]<<5|U[7]>>>27}for(var H=this._invSubKeys=[],T=0;T<16;T++)H[T]=L[15-T]},encryptBlock:function(D,C){this._doCryptBlock(D,C,this._subKeys)},decryptBlock:function(D,C){this._doCryptBlock(D,C,this._invSubKeys)},_doCryptBlock:function(D,C,v){this._lBlock=D[C],this._rBlock=D[C+1],R.call(this,4,252645135),R.call(this,16,65535),O.call(this,2,858993459),O.call(this,8,16711935),R.call(this,1,1431655765);for(var T=0;T<16;T++){for(var j=v[T],L=this._lBlock,F=this._rBlock,U=0,G=0;G<8;G++)U|=N[G][((F^j[G])&S[G])>>>0];this._lBlock=F,this._rBlock=L^U}var H=this._lBlock;this._lBlock=this._rBlock,this._rBlock=H,R.call(this,1,1431655765),O.call(this,8,16711935),O.call(this,2,858993459),R.call(this,16,65535),R.call(this,4,252645135),D[C]=this._lBlock,D[C+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function R(D,C){var v=(this._lBlock>>>D^this._rBlock)&C;this._rBlock^=v,this._lBlock^=v<<D}function O(D,C){var v=(this._rBlock>>>D^this._lBlock)&C;this._lBlock^=v,this._rBlock^=v<<D}l.DES=p._createHelper(B);var P=m.TripleDES=p.extend({_doReset:function(){var D=this._key,C=D.words;if(C.length!==2&&C.length!==4&&C.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=C.slice(0,2),T=C.length<4?C.slice(0,2):C.slice(2,4),j=C.length<6?C.slice(0,2):C.slice(4,6);this._des1=B.createEncryptor(d.create(v)),this._des2=B.createEncryptor(d.create(T)),this._des3=B.createEncryptor(d.create(j))},encryptBlock:function(D,C){this._des1.encryptBlock(D,C),this._des2.decryptBlock(D,C),this._des3.encryptBlock(D,C)},decryptBlock:function(D,C){this._des3.decryptBlock(D,C),this._des2.encryptBlock(D,C),this._des1.decryptBlock(D,C)},keySize:192/32,ivSize:64/32,blockSize:64/32});l.TripleDES=p._createHelper(P)}(),s.TripleDES})}(il)),il.exports}var sl={exports:{}},Ef;function A3(){return Ef||(Ef=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.StreamCipher,p=l.algo,m=p.RC4=d.extend({_doReset:function(){for(var E=this._key,N=E.words,S=E.sigBytes,B=this._S=[],R=0;R<256;R++)B[R]=R;for(var R=0,O=0;R<256;R++){var P=R%S,D=N[P>>>2]>>>24-P%4*8&255;O=(O+B[R]+D)%256;var C=B[R];B[R]=B[O],B[O]=C}this._i=this._j=0},_doProcessBlock:function(E,N){E[N]^=w.call(this)},keySize:256/32,ivSize:0});function w(){for(var E=this._S,N=this._i,S=this._j,B=0,R=0;R<4;R++){N=(N+1)%256,S=(S+E[N])%256;var O=E[N];E[N]=E[S],E[S]=O,B|=E[(E[N]+E[S])%256]<<24-R*8}return this._i=N,this._j=S,B}l.RC4=d._createHelper(m);var g=p.RC4Drop=m.extend({cfg:m.cfg.extend({drop:192}),_doReset:function(){m._doReset.call(this);for(var E=this.cfg.drop;E>0;E--)w.call(this)}});l.RC4Drop=d._createHelper(g)}(),s.RC4})}(sl)),sl.exports}var ol={exports:{}},vf;function S3(){return vf||(vf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.StreamCipher,p=l.algo,m=[],w=[],g=[],E=p.Rabbit=d.extend({_doReset:function(){for(var S=this._key.words,B=this.cfg.iv,R=0;R<4;R++)S[R]=(S[R]<<8|S[R]>>>24)&16711935|(S[R]<<24|S[R]>>>8)&4278255360;var O=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],P=this._C=[S[2]<<16|S[2]>>>16,S[0]&4294901760|S[1]&65535,S[3]<<16|S[3]>>>16,S[1]&4294901760|S[2]&65535,S[0]<<16|S[0]>>>16,S[2]&4294901760|S[3]&65535,S[1]<<16|S[1]>>>16,S[3]&4294901760|S[0]&65535];this._b=0;for(var R=0;R<4;R++)N.call(this);for(var R=0;R<8;R++)P[R]^=O[R+4&7];if(B){var D=B.words,C=D[0],v=D[1],T=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,j=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,L=T>>>16|j&4294901760,F=j<<16|T&65535;P[0]^=T,P[1]^=L,P[2]^=j,P[3]^=F,P[4]^=T,P[5]^=L,P[6]^=j,P[7]^=F;for(var R=0;R<4;R++)N.call(this)}},_doProcessBlock:function(S,B){var R=this._X;N.call(this),m[0]=R[0]^R[5]>>>16^R[3]<<16,m[1]=R[2]^R[7]>>>16^R[5]<<16,m[2]=R[4]^R[1]>>>16^R[7]<<16,m[3]=R[6]^R[3]>>>16^R[1]<<16;for(var O=0;O<4;O++)m[O]=(m[O]<<8|m[O]>>>24)&16711935|(m[O]<<24|m[O]>>>8)&4278255360,S[B+O]^=m[O]},blockSize:128/32,ivSize:64/32});function N(){for(var S=this._X,B=this._C,R=0;R<8;R++)w[R]=B[R];B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<w[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<w[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<w[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<w[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<w[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<w[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<w[6]>>>0?1:0)|0,this._b=B[7]>>>0<w[7]>>>0?1:0;for(var R=0;R<8;R++){var O=S[R]+B[R],P=O&65535,D=O>>>16,C=((P*P>>>17)+P*D>>>15)+D*D,v=((O&4294901760)*O|0)+((O&65535)*O|0);g[R]=C^v}S[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,S[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,S[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,S[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,S[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,S[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,S[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,S[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}l.Rabbit=d._createHelper(E)}(),s.Rabbit})}(ol)),ol.exports}var al={exports:{}},Af;function I3(){return Af||(Af=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.StreamCipher,p=l.algo,m=[],w=[],g=[],E=p.RabbitLegacy=d.extend({_doReset:function(){var S=this._key.words,B=this.cfg.iv,R=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],O=this._C=[S[2]<<16|S[2]>>>16,S[0]&4294901760|S[1]&65535,S[3]<<16|S[3]>>>16,S[1]&4294901760|S[2]&65535,S[0]<<16|S[0]>>>16,S[2]&4294901760|S[3]&65535,S[1]<<16|S[1]>>>16,S[3]&4294901760|S[0]&65535];this._b=0;for(var P=0;P<4;P++)N.call(this);for(var P=0;P<8;P++)O[P]^=R[P+4&7];if(B){var D=B.words,C=D[0],v=D[1],T=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,j=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,L=T>>>16|j&4294901760,F=j<<16|T&65535;O[0]^=T,O[1]^=L,O[2]^=j,O[3]^=F,O[4]^=T,O[5]^=L,O[6]^=j,O[7]^=F;for(var P=0;P<4;P++)N.call(this)}},_doProcessBlock:function(S,B){var R=this._X;N.call(this),m[0]=R[0]^R[5]>>>16^R[3]<<16,m[1]=R[2]^R[7]>>>16^R[5]<<16,m[2]=R[4]^R[1]>>>16^R[7]<<16,m[3]=R[6]^R[3]>>>16^R[1]<<16;for(var O=0;O<4;O++)m[O]=(m[O]<<8|m[O]>>>24)&16711935|(m[O]<<24|m[O]>>>8)&4278255360,S[B+O]^=m[O]},blockSize:128/32,ivSize:64/32});function N(){for(var S=this._X,B=this._C,R=0;R<8;R++)w[R]=B[R];B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<w[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<w[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<w[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<w[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<w[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<w[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<w[6]>>>0?1:0)|0,this._b=B[7]>>>0<w[7]>>>0?1:0;for(var R=0;R<8;R++){var O=S[R]+B[R],P=O&65535,D=O>>>16,C=((P*P>>>17)+P*D>>>15)+D*D,v=((O&4294901760)*O|0)+((O&65535)*O|0);g[R]=C^v}S[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,S[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,S[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,S[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,S[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,S[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,S[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,S[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}l.RabbitLegacy=d._createHelper(E)}(),s.RabbitLegacy})}(al)),al.exports}var ll={exports:{}},Sf;function _3(){return Sf||(Sf=1,function(e,r){(function(s,l,u){e.exports=l(ke(),di(),hi(),Xn(),Ot())})(_e,function(s){return function(){var l=s,u=l.lib,d=u.BlockCipher,p=l.algo;const m=16,w=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],g=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var E={pbox:[],sbox:[]};function N(P,D){let C=D>>24&255,v=D>>16&255,T=D>>8&255,j=D&255,L=P.sbox[0][C]+P.sbox[1][v];return L=L^P.sbox[2][T],L=L+P.sbox[3][j],L}function S(P,D,C){let v=D,T=C,j;for(let L=0;L<m;++L)v=v^P.pbox[L],T=N(P,v)^T,j=v,v=T,T=j;return j=v,v=T,T=j,T=T^P.pbox[m],v=v^P.pbox[m+1],{left:v,right:T}}function B(P,D,C){let v=D,T=C,j;for(let L=m+1;L>1;--L)v=v^P.pbox[L],T=N(P,v)^T,j=v,v=T,T=j;return j=v,v=T,T=j,T=T^P.pbox[1],v=v^P.pbox[0],{left:v,right:T}}function R(P,D,C){for(let F=0;F<4;F++){P.sbox[F]=[];for(let U=0;U<256;U++)P.sbox[F][U]=g[F][U]}let v=0;for(let F=0;F<m+2;F++)P.pbox[F]=w[F]^D[v],v++,v>=C&&(v=0);let T=0,j=0,L=0;for(let F=0;F<m+2;F+=2)L=S(P,T,j),T=L.left,j=L.right,P.pbox[F]=T,P.pbox[F+1]=j;for(let F=0;F<4;F++)for(let U=0;U<256;U+=2)L=S(P,T,j),T=L.left,j=L.right,P.sbox[F][U]=T,P.sbox[F][U+1]=j;return!0}var O=p.Blowfish=d.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var P=this._keyPriorReset=this._key,D=P.words,C=P.sigBytes/4;R(E,D,C)}},encryptBlock:function(P,D){var C=S(E,P[D],P[D+1]);P[D]=C.left,P[D+1]=C.right},decryptBlock:function(P,D){var C=B(E,P[D],P[D+1]);P[D]=C.left,P[D+1]=C.right},blockSize:64/32,keySize:128/32,ivSize:64/32});l.Blowfish=d._createHelper(O)}(),s.Blowfish})}(ll)),ll.exports}(function(e,r){(function(s,l,u){e.exports=l(ke(),Lo(),r3(),n3(),di(),i3(),hi(),Jh(),s1(),s3(),$h(),o3(),a3(),l3(),o1(),c3(),Xn(),Ot(),u3(),f3(),d3(),h3(),x3(),g3(),p3(),m3(),w3(),y3(),C3(),E3(),v3(),A3(),S3(),I3(),_3())})(_e,function(s){return s})})(qh);var N3=qh.exports;const wo=_f(N3),ex="your-secret-key-here",D3="KELVINRAFAELIGANZERAUTOMACAO",B3="ganzerinventario",b3="adminLicenses",T3=e=>{const r=new Date;r.setDate(r.getDate()+e);const s={expirationDate:r.toISOString(),uniqueId:wo.lib.WordArray.random(16).toString()};return wo.AES.encrypt(JSON.stringify(s),ex).toString()},jo=e=>{if(e===D3||e===B3){const r=new Date;return r.setFullYear(r.getFullYear()+100),{isValid:!0,expirationDate:r,isAdmin:!0}}try{const r=localStorage.getItem(b3);if(r&&!JSON.parse(r).some(m=>m.key===e))return{isValid:!1,expirationDate:null,isAdmin:!1};const s=wo.AES.decrypt(e,ex).toString(wo.enc.Utf8),l=JSON.parse(s),u=new Date(l.expirationDate);return{isValid:u>new Date,expirationDate:u,isAdmin:!1}}catch{return{isValid:!1,expirationDate:null,isAdmin:!1}}},R3=({onLicenseGenerated:e})=>{const[r,s]=Ce.useState(""),[l,u]=Ce.useState(30),d=p=>{p.preventDefault();const m=T3(l),w=new Date;w.setDate(w.getDate()+l);const g={id:Zh(),key:m,clientName:r,expirationDate:w,isValid:!0,createdAt:new Date};e(g),s(""),u(30)};return A.jsx("div",{className:"max-w-2xl mx-auto",children:A.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[A.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-6",children:"Gerar Nova Licença"}),A.jsxs("form",{onSubmit:d,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700",children:"Nome do Cliente"}),A.jsx("input",{type:"text",id:"clientName",value:r,onChange:p=>s(p.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"days",className:"block text-sm font-medium text-gray-700",children:"Duração da Licença (dias)"}),A.jsx("input",{type:"number",id:"days",value:l,onChange:p=>u(Math.max(1,parseInt(p.target.value)||1)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",min:"1",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Gerar Licença"})]})]})})},O3=({activeTab:e,onTabChange:r})=>A.jsxs("div",{className:"flex space-x-4 mt-4",children:[A.jsxs("button",{onClick:()=>r("licenses"),className:`flex items-center px-4 py-2 rounded-md ${e==="licenses"?"bg-red-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[A.jsx(gp,{className:"mr-2",size:18}),"Licenças"]}),A.jsxs("button",{onClick:()=>r("generate"),className:`flex items-center px-4 py-2 rounded-md ${e==="generate"?"bg-red-600 text-white":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[A.jsx(t1,{className:"mr-2",size:18}),"Gerar Licença"]})]}),If="adminLicenses",F3=()=>{const[e,r]=Ce.useState("licenses"),[s,l]=Ce.useState([]);Ce.useEffect(()=>{const w=localStorage.getItem(If);if(w)try{const g=JSON.parse(w);l(g.map(E=>({...E,expirationDate:new Date(E.expirationDate),createdAt:new Date(E.createdAt)})))}catch(g){console.error("Error loading licenses:",g)}},[]);const u=w=>{try{localStorage.setItem(If,JSON.stringify(w)),l(w)}catch(g){console.error("Error saving licenses:",g)}},d=w=>{u([...s,w])},p=w=>{u(s.filter(g=>g.id!==w))},m=()=>{localStorage.removeItem("systemLicense"),window.location.reload()};return A.jsxs("div",{className:"min-h-screen bg-gray-50",children:[A.jsx("header",{className:"bg-white shadow-sm",children:A.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Po,{className:"text-red-600",size:24}),A.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Painel Administrativo"})]}),A.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 text-red-600 hover:text-red-700 focus:outline-none",title:"Sair do painel administrativo",children:[A.jsx(pp,{size:20,className:"mr-2"}),"Sair"]})]}),A.jsx(O3,{activeTab:e,onTabChange:r})]})}),A.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e==="licenses"?A.jsx(Yp,{licenses:s,onDeleteLicense:p}):A.jsx(R3,{onLicenseGenerated:d})})]})},k3=({onSubmit:e,onClose:r})=>{const[s,l]=Ce.useState(""),[u,d]=Ce.useState(""),p=m=>{m.preventDefault(),s==="inventarioganzer"?e(s):d("Senha incorreta")};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 relative",children:[A.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:A.jsx(t0,{size:20})}),A.jsxs("div",{className:"flex items-center justify-center mb-6",children:[A.jsx(Po,{className:"text-red-600 mr-2",size:24}),A.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Acesso Administrativo"})]}),u&&A.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[A.jsx(ko,{className:"mr-2",size:18}),u]}),A.jsxs("form",{onSubmit:p,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha"}),A.jsx("input",{type:"password",id:"password",value:s,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",placeholder:"Digite a senha administrativa"})]}),A.jsx("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Acessar"})]})]})})},tx=({onValidLicense:e,onClose:r})=>{const[s,l]=Ce.useState(""),[u,d]=Ce.useState(""),p=m=>{m.preventDefault();const{isValid:w}=jo(s);w?(localStorage.setItem("systemLicense",s),e()):d("Licença inválida ou expirada")};return A.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:A.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 relative",children:[A.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:A.jsx(t0,{size:20})}),A.jsxs("div",{className:"flex items-center justify-center mb-6",children:[A.jsx(Mo,{className:"text-red-600 mr-2",size:24}),A.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Validação de Licença"})]}),u&&A.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[A.jsx(ko,{className:"mr-2",size:18}),u]}),A.jsxs("form",{onSubmit:p,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"licenseKey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave de Licença"}),A.jsx("input",{type:"text",id:"licenseKey",value:s,onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",placeholder:"Digite sua chave de licença"})]}),A.jsx("button",{type:"submit",className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Validar Licença"})]})]})})},M3=({entries:e,delimiter:r})=>{const[s,l]=Ce.useState("txt"),u=()=>{try{const E=JSON.parse(localStorage.getItem("importedProducts")||"[]");if(!E.length)return[];const N=new Map;return e.forEach(S=>{const B=qi(S.code);N.set(B,(N.get(B)||0)+S.quantity)}),E.map(S=>{const B=qi(S.code),R=N.get(B)||0,O=S.quantity||0;return{code:S.code,name:S.name,expectedQuantity:O,actualQuantity:R,difference:R-O}}).filter(S=>S.expectedQuantity>0||S.actualQuantity>0)}catch{return[]}},d=()=>{const E=u(),N=`Código${r}Produto${r}Qtd. Esperada${r}Qtd. Lida${r}Diferença
`,S=E.map(C=>`${C.code}${r}${C.name}${r}${C.expectedQuantity}${r}${C.actualQuantity}${r}${C.difference}`).join(`
`),B="\uFEFF",R=new Blob([B+N+S],{type:s==="csv"?"text/csv;charset=utf-8":"text/plain;charset=utf-8"}),O=new Date,P=`${O.getFullYear()}${(O.getMonth()+1).toString().padStart(2,"0")}${O.getDate().toString().padStart(2,"0")}_${O.getHours().toString().padStart(2,"0")}${O.getMinutes().toString().padStart(2,"0")}`,D=document.createElement("a");D.href=URL.createObjectURL(R),D.download=`divergencias_${P}.${s}`,document.body.appendChild(D),D.click(),document.body.removeChild(D)},p=u();if(!p.length)return null;const m=p.reduce((E,N)=>E+N.expectedQuantity,0),w=p.reduce((E,N)=>E+N.actualQuantity,0),g=w-m;return A.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Relatório de Divergências"}),A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsxs("div",{className:"flex items-center space-x-4",children:[A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"radio",checked:s==="txt",onChange:()=>l("txt"),className:"form-radio h-4 w-4 text-red-600"}),A.jsx("span",{className:"text-sm",children:".txt"})]}),A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"radio",checked:s==="csv",onChange:()=>l("csv"),className:"form-radio h-4 w-4 text-red-600"}),A.jsx("span",{className:"text-sm",children:".csv"})]})]}),A.jsxs("button",{onClick:d,className:"flex items-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[A.jsx(dp,{className:"mr-2",size:18}),"Exportar Divergências"]})]})]}),A.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[A.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[A.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Quantidade Esperada"}),A.jsx("p",{className:"text-2xl font-semibold text-blue-700",children:m})]}),A.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[A.jsx("p",{className:"text-sm text-green-600 mb-1",children:"Quantidade Lida"}),A.jsx("p",{className:"text-2xl font-semibold text-green-700",children:w})]}),A.jsxs("div",{className:`p-4 rounded-lg ${g===0?"bg-gray-50":g>0?"bg-yellow-50":"bg-red-50"}`,children:[A.jsx("p",{className:`text-sm mb-1 ${g===0?"text-gray-600":g>0?"text-yellow-600":"text-red-600"}`,children:"Diferença Total"}),A.jsx("p",{className:`text-2xl font-semibold ${g===0?"text-gray-700":g>0?"text-yellow-700":"text-red-700"}`,children:g>0?`+${g}`:g})]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. Esperada"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qtd. Lida"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diferença"}),A.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(E=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.code}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.name}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.expectedQuantity}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:E.actualQuantity}),A.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${E.difference===0?"text-gray-500":E.difference>0?"text-yellow-500":"text-red-500"}`,children:E.difference>0?`+${E.difference}`:E.difference}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:E.difference===0?A.jsx(lp,{className:"text-green-500",size:18}):A.jsx(Cp,{className:"text-red-500",size:18})})]},E.code))})]})})]})},P3=({options:e,onOptionsChange:r,onExport:s,entries:l})=>{const[u,d]=Ce.useState(!1),[p,m]=Ce.useState(!1),w=localStorage.getItem("systemLicense"),{isValid:g}=jo(w||""),E=()=>{g?s():d(!0)},N=S=>{var O;const B=(O=S.target.files)==null?void 0:O[0];if(!B)return;const R=new FileReader;R.onload=P=>{var D;try{const T=((D=P.target)==null?void 0:D.result).split(`
`).filter(j=>j.trim()).map(j=>{const L=j.split(e.delimiter).map(F=>F.trim());return p&&L.length>=3?{code:L[0],name:L[1],quantity:parseInt(L[2])||0}:{code:L[0],name:L[1]||"-"}});if(T.length===0)throw new Error("Nenhum produto encontrado no arquivo");localStorage.setItem("importedProducts",JSON.stringify(T)),localStorage.removeItem("scannedCodes"),alert(`${T.length} produtos importados com sucesso!`)}catch{alert("Erro ao processar o arquivo. Verifique o formato e tente novamente.")}},R.readAsText(B)};return A.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[A.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[A.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Exportar Dados"}),!g&&A.jsxs("div",{className:"mb-6 flex items-center p-4 text-amber-700 bg-amber-50 rounded-lg",children:[A.jsx(ko,{className:"mr-2 flex-shrink-0",size:20}),A.jsxs("div",{className:"flex-1",children:[A.jsx("p",{className:"font-medium",children:"Licença necessária para exportar"}),A.jsx("p",{className:"text-sm mt-1",children:"Você precisa de uma licença válida para exportar os dados."})]})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delimitador"}),A.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[[",",";","."].map(S=>A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"radio",checked:e.delimiter===S,onChange:()=>r({...e,delimiter:S}),className:"form-radio h-4 w-4 text-red-600"}),A.jsx("span",{children:S})]},S)),A.jsx("div",{className:"col-span-2 sm:col-span-1",children:A.jsx("input",{type:"text",value:[",",";","."].includes(e.delimiter)?"":e.delimiter,onChange:S=>r({...e,delimiter:S.target.value}),placeholder:"Personalizado",className:"w-full px-3 py-1.5 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato do Arquivo"}),A.jsx("div",{className:"grid grid-cols-2 gap-4",children:["txt","csv"].map(S=>A.jsxs("label",{className:"flex items-center space-x-2",children:[A.jsx("input",{type:"radio",checked:e.format===S,onChange:()=>r({...e,format:S}),className:"form-radio h-4 w-4 text-red-600"}),A.jsxs("span",{children:[".",S]})]},S))})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade de Dígitos (Quantidade)"}),A.jsx("input",{type:"number",min:"0",max:"10",value:e.quantityPadding,onChange:S=>r({...e,quantityPadding:parseInt(S.target.value)||0}),className:"w-24 px-3 py-1.5 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ex: Para 4 dígitos, 25 será exportado como 0025"})]}),A.jsx("button",{onClick:E,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:g?A.jsxs(A.Fragment,{children:[A.jsx(Hh,{size:18,className:"mr-2"}),"Exportar Dados"]}):A.jsxs(A.Fragment,{children:[A.jsx(Mo,{size:18,className:"mr-2"}),"Validar Licença para Exportar"]})})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[A.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Importar Produtos"}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("div",{children:A.jsxs("label",{className:"flex items-center space-x-2 text-sm font-medium text-gray-700 mb-4",children:[A.jsx("input",{type:"checkbox",checked:p,onChange:S=>m(S.target.checked),className:"form-checkbox h-4 w-4 text-red-600 rounded"}),A.jsx("span",{children:"Arquivo inclui quantidade esperada"})]})}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo de Produtos"}),A.jsx("div",{className:"flex items-center justify-center w-full",children:A.jsxs("label",{className:"w-full flex flex-col items-center px-4 py-6 bg-white text-gray-500 rounded-lg border-2 border-gray-300 border-dashed cursor-pointer hover:bg-gray-50",children:[A.jsx(yp,{className:"mx-auto mb-2",size:24}),A.jsx("span",{className:"text-sm text-center",children:"Clique para selecionar ou arraste o arquivo"}),A.jsx("input",{type:"file",className:"hidden",accept:".txt,.csv",onChange:N})]})}),A.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Formato: código",e.delimiter,"nome do produto",p?`${e.delimiter}quantidade`:""]})]})]})]}),A.jsx(M3,{entries:l,delimiter:e.delimiter}),u&&A.jsx(tx,{onValidLicense:()=>{d(!1),s()},onClose:()=>d(!1)})]})},L3=({onSearch:e,onDelete:r,onUpdateQuantity:s})=>{const[l,u]=Ce.useState(""),[d,p]=Ce.useState(null),[m,w]=Ce.useState(!1),[g,E]=Ce.useState(!1),[N,S]=Ce.useState(0),[B,R]=Ce.useState(!1),[O,P]=Ce.useState(!1),D=Ce.useRef(null),C=F=>{F.preventDefault();const U=e(l.trim());p(U),w(!U),U&&(S(U.totalQuantity),u(""))},v=()=>{if(d&&s&&N>0){s(d.originalCode,N),E(!1);const F=e(d.originalCode);p(F)}},T=()=>{d&&r&&(r(d.originalCode),p(null),u(""))},j=F=>{if(F.key==="Enter"){F.preventDefault();const U=e(l.trim());p(U),w(!U),U&&(S(U.totalQuantity),u(""))}},L=F=>{const U=e(F.trim());p(U),w(!U),U&&(S(U.totalQuantity),u("")),new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBTGH0fPTgjMGHm7A7+OZRA0PVqzn77BdGAg+ltryxnMpBSl+zPLaizsIGGS57OihUBELTKXh8bllHgU2jdXzzn0vBSF1xe/glEILElyx6OyrWBUIQ5zd8sFuJAUuhM/z1YU2Bhxqvu7mnEYODlOq5O+zYBoGPJPY88p2KwUme8rx3I4+CRZiturqpVITC0mi4PK8aB8GM4nU8tGAMQYfcsLu45ZFDBFYr+ftrVoXCECY3PLEcSYELIHO8diJOQcZaLvt559NEAxPqOPwtmMcBjiP1/PMeS0GI3fH8N2RQAoUXrTp66hVFApGnt/yvmwhBTCG0fPTgjQGHW/A7eSaRQ0PVqzl77BeGQc9ltvyxnUoBSh+zPDaizsIGGS56+mjTxELTKXh8bllHgU1jdT0z3wvBSJ0xe/glEILElyx6OyrWRUIRJve8sFuJAUug8/z1YU2BRxqvu3mnEYODlOq5O+zYRsGPJPY88p3KgUme8rx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccPu45ZFDBFYr+ftrVwWCECY3PLEcSYGK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQAoUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzQHHG/A7eSaSw0PVqzl77BeGQc9ltv0xnUoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEYODlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccLu45ZGCxFYr+ftrVwXB0CY3PLEcSYGK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzQHHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFM4nU8tGAMQYfccLu45ZGCxFYr+ftrVwXB0CY3PLEcSgFK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzUGHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFMojU8tGAMQYfccLu45ZGCxFYr+ftrV0XB0CY3PLEcSgFK4DN8tiIOQcZZ7zs56BODwxPpuPxtmQcBjiP1/PMeywGI3fH8N+RQQkUXrTp66hWEwlGnt/yv2wiBDCG0fPTgzUGHG3A7eSaSw0PVqzl77BeGQc9ltv0x3QoBSh+zPDaizsIGGS56+mjUREKTKXh8blmHgU1jdTy0HwvBSF0xe/glEQKElyx6OyrWRUIRJzd8sFuJAUtg8/z1YU3BRxqvu3mnEgNDlOq5O+zYRsGOpPY88p3KgUmfMrx3I4+CRVht+rqpVMSC0mh4PK8aiAFMojU8tGAMQYfccLu45ZGCxFYr+ftrV0XB0CY3PLEcSgFKw==").play()};return A.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[A.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pesquisar Código"}),A.jsx("form",{onSubmit:C,className:"space-y-4",children:A.jsxs("div",{className:"relative",children:[A.jsx("input",{ref:D,type:"text",value:l,onChange:F=>{u(F.target.value),p(null),w(!1),E(!1)},onKeyDown:j,className:"w-full px-4 py-2 pr-24 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",placeholder:"Digite ou escaneie o código para pesquisar",inputMode:O?"text":"none",autoComplete:"off",autoFocus:!0}),A.jsxs("div",{className:"absolute right-2 top-2 flex items-center space-x-2",children:[A.jsx("button",{type:"button",onClick:()=>R(!0),className:"p-1 text-gray-400 hover:text-red-600",title:"Usar câmera",children:A.jsx(Jc,{size:20})}),A.jsx("button",{type:"button",onClick:()=>P(!O),className:`p-1 ${O?"text-red-600":"text-gray-400 hover:text-red-600"}`,title:"Usar teclado",children:A.jsx($c,{size:20})}),A.jsx("button",{type:"submit",className:"p-1 text-gray-400 hover:text-red-600",title:"Pesquisar",children:A.jsx(wp,{size:20})})]})]})}),d&&A.jsxs("div",{className:"mt-4 p-4 bg-white rounded-md shadow-sm",children:[A.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Resultado da Pesquisa:"}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Código"}),A.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:d.originalCode})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Quantidade Total"}),A.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:g?A.jsx("input",{type:"number",min:"1",value:N,onChange:F=>S(Math.max(1,parseInt(F.target.value)||1)),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"}):d.totalQuantity})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Ocorrências"}),A.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:d.occurrences})]})]}),(r||s)&&A.jsx("div",{className:"flex justify-end space-x-2 pt-2 border-t",children:g?A.jsxs(A.Fragment,{children:[A.jsxs("button",{onClick:v,className:"flex items-center px-3 py-1 text-sm text-green-600 hover:text-green-800",title:"Salvar",children:[A.jsx(r1,{size:16,className:"mr-1"}),"Salvar"]}),A.jsxs("button",{onClick:()=>E(!1),className:"flex items-center px-3 py-1 text-sm text-gray-600 hover:text-gray-800",title:"Cancelar",children:[A.jsx(t0,{size:16,className:"mr-1"}),"Cancelar"]})]}):A.jsxs(A.Fragment,{children:[s&&A.jsxs("button",{onClick:()=>E(!0),className:"flex items-center px-3 py-1 text-sm text-blue-600 hover:text-blue-800",title:"Editar quantidade",children:[A.jsx(e1,{size:16,className:"mr-1"}),"Editar"]}),r&&A.jsxs("button",{onClick:T,className:"flex items-center px-3 py-1 text-sm text-red-600 hover:text-red-800",title:"Excluir",children:[A.jsx(rs,{size:16,className:"mr-1"}),"Excluir"]})]})})]})]}),m&&A.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 text-yellow-700 rounded-md",children:['Nenhum código encontrado para "',l,'"']}),B&&A.jsx(i1,{onScan:L,onClose:()=>R(!1)})]})},j3=({entries:e,onDelete:r,onUpdateQuantity:s})=>{const[l,u]=Ce.useState(null),[d,p]=Ce.useState(0),m=B=>e.find(R=>R.originalCode===B)||null,w=B=>{u(B.originalCode),p(B.totalQuantity)},g=B=>{d>0&&s&&(s(B,d),u(null))},E=()=>{u(null)},N=e.length,S=e.reduce((B,R)=>B+R.totalQuantity,0);return A.jsxs("div",{className:"space-y-6",children:[A.jsx(L3,{onSearch:m,onDelete:r,onUpdateQuantity:s}),A.jsxs("div",{className:"p-4 bg-white rounded-lg shadow",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[A.jsx(ap,{className:"text-red-600 mr-2",size:24}),A.jsx("h2",{className:"text-lg font-semibold",children:"Resumo dos Códigos"})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[A.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[A.jsx(hp,{className:"mr-2",size:16}),"Total de Códigos"]}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:N})]}),A.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[A.jsx(Gh,{className:"mr-2",size:16}),"Quantidade Total"]}),A.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:S})]})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[A.jsx("thead",{className:"bg-gray-50",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Código"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantidade Total"}),A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ocorrências"}),(r||s)&&A.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),A.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(B=>A.jsxs("tr",{children:[A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.originalCode}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Qh(B.originalCode)}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l===B.originalCode?A.jsx("input",{type:"number",min:"1",value:d,onChange:R=>p(Math.max(1,parseInt(R.target.value)||1)),className:"w-20 px-2 py-1 border border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"}):B.totalQuantity}),A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.occurrences}),(r||s)&&A.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.jsx("div",{className:"flex space-x-2",children:l===B.originalCode?A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>g(B.originalCode),className:"text-green-600 hover:text-green-900",title:"Salvar",children:A.jsx(r1,{size:18})}),A.jsx("button",{onClick:E,className:"text-gray-600 hover:text-gray-900",title:"Cancelar",children:A.jsx(t0,{size:18})})]}):A.jsxs(A.Fragment,{children:[s&&A.jsx("button",{onClick:()=>w(B),className:"text-blue-600 hover:text-blue-900",title:"Editar quantidade",children:A.jsx(e1,{size:18})}),r&&A.jsx("button",{onClick:()=>r(B.originalCode),className:"text-red-600 hover:text-red-900",title:"Excluir",children:A.jsx(rs,{size:18})})]})})})]},B.originalCode))})]})})]})]})},U3=()=>{const[e,r]=Ce.useState(!1),s=localStorage.getItem("systemLicense"),{isValid:l,expirationDate:u}=jo(s||""),d=g=>g?new Intl.DateTimeFormat("pt-BR",{year:"numeric",month:"long",day:"numeric"}).format(g):"N/A",p=g=>{if(!g)return 0;const E=new Date,N=g.getTime()-E.getTime();return Math.ceil(N/(1e3*60*60*24))},m=()=>{window.confirm("Tem certeza que deseja limpar todos os dados? Esta ação irá remover a licença, leituras e todas as configurações do sistema. Esta ação não pode ser desfeita.")&&(localStorage.clear(),window.location.reload())},w=u?p(u):0;return A.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[A.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Po,{className:l?"text-green-500":"text-red-500",size:24}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Status da Licença"})]}),!l&&A.jsxs("button",{onClick:()=>r(!0),className:"flex items-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[A.jsx(Mo,{className:"mr-2",size:18}),"Ativar Licença"]}),l&&A.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Ativa"})]}),!l&&!e&&A.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-amber-50 text-amber-700 rounded-lg mb-6",children:[A.jsx(ko,{className:"flex-shrink-0 mt-0.5",size:20}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium",children:"Sistema sem licença ativa"}),A.jsx("p",{className:"mt-1 text-sm",children:"Para utilizar recursos avançados como exportação de dados, é necessário ativar uma licença válida."})]})]}),l&&A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[A.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-1",children:[A.jsx(zh,{className:"mr-2",size:16}),"Data de Expiração"]}),A.jsx("p",{className:"text-lg font-medium text-gray-900",children:d(u)})]}),A.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[A.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Tempo Restante"}),A.jsx("p",{className:`text-lg font-medium ${w>30?"text-green-600":w>7?"text-yellow-600":"text-red-600"}`,children:w>0?`${w} dias`:"Expirada"})]})]})]}),A.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Limpar Cache"}),A.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Remove todos os dados armazenados, incluindo licença, leituras e configurações"})]}),A.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:[A.jsx(mp,{className:"mr-2",size:18}),"Limpar Cache"]})]})}),e&&A.jsx(tx,{onValidLicense:()=>{r(!1),window.location.reload()},onClose:()=>r(!1)})]})},z3=({activeTab:e,onTabChange:r})=>A.jsx("div",{className:"flex justify-center overflow-x-auto",children:A.jsxs("div",{className:"flex w-full max-w-md border-b border-gray-200",children:[A.jsxs("button",{onClick:()=>r("scan"),className:`flex-1 flex items-center justify-center px-3 py-2 text-sm ${e==="scan"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"}`,children:[A.jsx(Uh,{className:"inline-block mr-1",size:16}),A.jsx("span",{children:"Leitura"})]}),A.jsxs("button",{onClick:()=>r("check"),className:`flex-1 flex items-center justify-center px-3 py-2 text-sm ${e==="check"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"}`,children:[A.jsx(cp,{className:"inline-block mr-1",size:16}),A.jsx("span",{children:"Conferir"})]}),A.jsxs("button",{onClick:()=>r("summary"),className:`flex-1 flex items-center justify-center px-3 py-2 text-sm ${e==="summary"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"}`,children:[A.jsx(xp,{className:"inline-block mr-1",size:16}),A.jsx("span",{children:"Resumo"})]}),A.jsxs("button",{onClick:()=>r("export"),className:`flex-1 flex items-center justify-center px-3 py-2 text-sm ${e==="export"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"}`,children:[A.jsx(Hh,{className:"inline-block mr-1",size:16}),A.jsx("span",{className:"whitespace-nowrap",children:"Importar/Exportar"})]}),A.jsxs("button",{onClick:()=>r("license"),className:`flex-1 flex items-center justify-center px-3 py-2 text-sm ${e==="license"?"text-red-600 border-b-2 border-red-600":"text-gray-500 hover:text-gray-700"}`,children:[A.jsx(Mo,{className:"inline-block mr-1",size:16}),A.jsx("span",{children:"Licença"})]})]})}),H3=({activeTab:e,onTabChange:r})=>{const s=localStorage.getItem("systemLicense"),{isValid:l}=jo(s||"");return A.jsx("header",{className:"bg-white shadow-sm",children:A.jsx("div",{className:"max-w-6xl mx-auto px-4 py-2",children:A.jsxs("div",{className:"flex flex-col",children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsx(Uh,{className:"text-red-600",size:20}),A.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"Ganzer Automação"})]}),A.jsxs("div",{className:"flex items-center",children:[A.jsx(Po,{className:l?"text-green-500":"text-gray-400",size:16}),A.jsx("span",{className:`ml-1 text-xs ${l?"text-green-600":"text-gray-500"}`,children:l?"Licença Ativa":"Sem Licença"})]})]}),A.jsx(z3,{activeTab:e,onTabChange:r})]})})})},V3=({children:e,activeTab:r,onTabChange:s,onAdminClick:l})=>A.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[A.jsx(H3,{activeTab:r,onTabChange:s}),A.jsx("main",{className:"flex-1 w-full px-4 py-4",children:e}),A.jsx("footer",{className:"bg-white border-t mt-auto",children:A.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("button",{onClick:l,className:"w-full max-w-sm px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Painel Administrativo"}),A.jsxs("p",{className:"mt-4 text-center text-xs text-gray-600",children:["© ",new Date().getFullYear()," Ganzer Automação. Todos os direitos reservados."]})]})})})]}),G3=async()=>{try{const e=await fetch("https://www.google.com/favicon.ico",{mode:"no-cors",cache:"no-store"});return!0}catch{return!1}},W3=async e=>{try{const r=localStorage.getItem("adminLicenses");return r?JSON.parse(r).some(l=>l.key===e&&new Date(l.expirationDate)>new Date):!1}catch{return!1}},X3=(e,r)=>r<=0?e.toString():e.toString().padStart(r,"0"),Y3=e=>e.trim().replace(/^0+/,""),K3=async(e,r,s,l=0)=>{if(!await G3())return{success:!1,message:"Sem conexão com a internet. Por favor, verifique sua conexão e tente novamente."};const d=localStorage.getItem("systemLicense");if(!d)return{success:!1,message:"Licença não encontrada. Por favor, ative uma licença válida para exportar os dados."};if(!await W3(d))return localStorage.removeItem("systemLicense"),{success:!1,message:"Licença inválida ou expirada. Por favor, ative uma licença válida para exportar os dados."};try{const m=new Map;e.forEach(O=>{const P=Y3(O.code),D=m.get(P)||0;m.set(P,D+O.quantity)});const w=Array.from(m.entries()).map(([O,P])=>`${O.padStart(14,"0")}${r}${X3(P,l)}`).join(`
`),g="\uFEFF",E=new Blob([g+w],{type:s==="csv"?"text/csv;charset=utf-8":"text/plain;charset=utf-8"}),N=new Date,B=`inventario_${`${N.getFullYear()}${(N.getMonth()+1).toString().padStart(2,"0")}${N.getDate().toString().padStart(2,"0")}_${N.getHours().toString().padStart(2,"0")}${N.getMinutes().toString().padStart(2,"0")}`}.${s}`,R=document.createElement("a");return R.href=URL.createObjectURL(E),R.download=B,document.body.appendChild(R),R.click(),document.body.removeChild(R),{success:!0}}catch{return{success:!1,message:"Erro ao exportar os dados. Por favor, tente novamente."}}},cl="barcodeEntries";function Q3(){const[e,r]=Ce.useState([]),[s,l]=Ce.useState(!1),[u,d]=Ce.useState(!1),[p,m]=Ce.useState("scan"),[w,g]=Ce.useState({delimiter:";",format:"txt",quantityPadding:0});Ce.useEffect(()=>{const D=localStorage.getItem(cl);if(D)try{const C=JSON.parse(D);r(C)}catch(C){console.error("Error loading stored entries:",C),localStorage.removeItem(cl)}},[]),Ce.useEffect(()=>{try{localStorage.setItem(cl,JSON.stringify(e))}catch(D){console.error("Error saving entries:",D)}},[e]);const E=(D,C)=>{const v={id:Zh(),code:D,quantity:C};r(T=>[...T,v])},N=D=>{r(C=>C.filter(v=>v.id!==D))},S=(D,C)=>{r(v=>v.map(T=>T.id===D?{...T,quantity:C}:T))},B=(D,C)=>{const v=e.filter(L=>L.code===D),T=Math.floor(C/v.length),j=C%v.length;r(L=>L.map((F,U)=>{if(F.code===D){const G=U<j;return{...F,quantity:T+(G?1:0)}}return F}))},R=()=>{r([])},O=D=>{D==="inventarioganzer"&&(l(!0),d(!1))},P=async()=>{const D=await K3(e,w.delimiter,w.format,w.quantityPadding);!D.success&&D.message&&alert(D.message)};return s?A.jsx(F3,{}):A.jsxs(V3,{activeTab:p,onTabChange:m,onAdminClick:()=>d(!0),children:[p==="scan"&&A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsx("div",{children:A.jsx(Wp,{onSubmit:E,onReset:R})}),A.jsx("div",{children:A.jsx(zu,{entries:e,onDelete:N,onUpdateQuantity:S,showAll:!1,showProduct:!1})})]}),p==="check"&&A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[A.jsx("div",{children:A.jsx(Xp,{onSubmit:E,onReset:R})}),A.jsx("div",{children:A.jsx(zu,{entries:e,onDelete:N,onUpdateQuantity:S,showAll:!1,showProduct:!0})})]}),p==="summary"&&A.jsx(j3,{entries:e.reduce((D,C)=>{const v=D.find(T=>T.originalCode===C.code);return v?(v.totalQuantity+=C.quantity,v.occurrences+=1):D.push({originalCode:C.code,totalQuantity:C.quantity,occurrences:1}),D},[]),onDelete:D=>{r(C=>C.filter(v=>v.code!==D))},onUpdateQuantity:B}),p==="export"&&A.jsx(P3,{options:w,onOptionsChange:g,onExport:P,entries:e}),p==="license"&&A.jsx(U3,{}),u&&A.jsx(k3,{onSubmit:O,onClose:()=>d(!1)})]})}jh(document.getElementById("root")).render(A.jsx(Ce.StrictMode,{children:A.jsx(Q3,{})}));
